{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./index.js","webpack:///../node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///../node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///../node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///../node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///../node_modules/hyperapp/src/index.js","webpack:///../src/components/Element.js","webpack:///../src/components/Box.js","webpack:///../src/components/BoxContainer.js","webpack:///../src/components/BoxStyled.js","webpack:///../node_modules/@babel/runtime/helpers/typeof.js","webpack:///../src/components/Icon.js","webpack:///../node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///../src/utils.js","webpack:///../src/element.js","webpack:///../src/components/Button.js","webpack:///../src/components/Progressbar.js","webpack:///../src/components/Menu.js","webpack:///../src/components/Toolbar.js","webpack:///../src/components/Statusbar.js","webpack:///../src/components/Menubar.js","webpack:///../node_modules/hyperapp-nestable/src/index.js","webpack:///../src/components/Panes.js","webpack:///../src/components/ListView.js","webpack:///../src/components/IconView.js","webpack:///../src/components/Image.js","webpack:///../src/components/Video.js","webpack:///../src/components/Tabs.js","webpack:///../src/components/Iframe.js","webpack:///../src/components/TextField.js","webpack:///../src/components/TextareaField.js","webpack:///../src/components/SelectField.js","webpack:///../src/components/ToggleField.js","webpack:///../src/components/RangeField.js","webpack:///../src/components/Expander.js","webpack:///../node_modules/regenerator-runtime/runtime.js","webpack:///../node_modules/regenerator-runtime/runtime-module.js","webpack:///../node_modules/@babel/runtime/regenerator/index.js","webpack:///../node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack:///../node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///../node_modules/@babel/runtime/helpers/createClass.js","webpack:///../src/contextmenu.js","webpack:///../src/provider.js","webpack:///./node_modules/hyperapp/src/index.js","webpack:///./node_modules/marked/lib/marked.js","webpack:///(webpack)/buildin/global.js","webpack:///external \"OSjs\""],"names":["defaultColor","decode","str","marked","template","proc","s","RichText","props","h","Iframe","Object","assign","box","margin","grow","shrink","createMenu","current","actions","_","label","onclick","menuNew","menuOpen","disabled","menuSave","menuSaveAs","menuQuit","createApplication","core","win","$content","make","translate","vfs","basic","defaultFilename","saveMimeTypes","view","state","Box","Menubar","MenubarItem","ev","menu","BoxContainer","orientation","TextareaField","value","text","oninput","setText","oncreate","el","emit","ha","app","save","args","file","contents","querySelector","writefile","load","item","readfile","then","catch","error","console","show","position","target","createNew","createOpenDialog","createSaveDialog","destroy","on","init","createMainWindow","createWindow","id","icon","resource","metadata","dimension","width","height","focus","data","isFile","mime","found","mimes","find","m","RegExp","test","open","render","createProcess","options","iframeDocument","once","iframe","contentDocument","contentWindow","document","write","close","osjs","register","applicationName","Array","i","arr2","arr","Symbol","arrayWithoutHoles","iterableToArray","nonIterableSpread","rest","children","length","arguments","node","name","attributes","nodeName","key","element","map","recycleElement","resolveNode","skipRender","container","rootElement","patch","oldNode","isRecycling","lifecycle","setTimeout","out","source","path","setPartialState","clone","result","action","getPartialState","scheduleRender","globalState","wireStateToActions","event","oldValue","style","isSvg","createElement","updateAttribute","oldAttributes","cb","removeChildren","parent","done","newElement","removeElement","updateElement","oldKeyed","newKeyed","oldElements","oldChildren","oldKey","getKey","k","newKey","keyedNode","wiredActions","unitValue","boxPropNames","flexGrow","flexShrink","basis","flexBasis","align","alignItems","justify","justifyContent","padding","Element","givenClassNames","classNames","defaultStyle","ondestroy","class","BoxStyled","_typeof2","iterator","obj","module","_typeof","Icon","n","backgroundImage","enumerable","configurable","writable","_defineProperty","filteredProps","keys","filterKeys","doubleTap","timeout","tapped","timer","clearTimeout","createField","onchange","onkeydown","getValue","cbInput","fieldProps","Button","inner","Progressbar","Math","c","className","String","ul","level","child","checked","items","onmouseover","ontouchend","Menu","onupdate","display","top","left","Toolbar","Statusbar","parentNode","index","tagname","wired","v","onremove","onmousedown","clientX","clientY","pane","offsetWidth","offsetHeight","maxWidth","maxHeight","mousemove","size","diffX","diffY","mouseup","panes","spacers","w","flex","a","nestable","sizes","setSize","Panes","tapper","createView","cols","col","row","selected","colIcon","ontouchstart","ondblclick","oncontextmenu","zebra","ListView","listView","component","newProps","columns","rows","onselect","onactivate","selectedIndex","scrollTop","select","activate","contextmenu","created","setRows","setColumns","setScrollTop","setSelectedIndex","IconViewEntry","entry","IconView","iconView","entries","setEntries","Image","sources","list","isTrue","Video","src","poster","loop","muted","controls","autoplay","onloadeddata","headers","labels","Tabs","frameborder","TextField","autocomplete","autocorrect","autocapitalize","spellcheck","type","SelectField","choices","getChoices","ToggleField","JSON","RangeField","active","ontoggle","ative","Expander","protoGenerator","outerFn","generator","context","tryLocsList","makeInvokeMethod","arg","fn","prototype","record","tryCatch","reject","hasOwn","Promise","invoke","resolve","previousPromise","callInvokeWithMethodAndArg","enqueue","doneResult","delegate","delegateResult","maybeInvokeDelegate","method","ContinueSentinel","info","tryLoc","locs","iteratorMethod","iterable","isNaN","next","Op","$Symbol","iteratorSymbol","asyncIteratorSymbol","toStringTagSymbol","runtime","global","IteratorPrototype","getProto","NativeIteratorPrototype","values","Gp","GeneratorFunctionPrototype","Generator","GeneratorFunction","ctor","genFun","setPrototypeOf","__await","defineIteratorMethods","AsyncIterator","iter","wrap","Context","constructor","reset","stop","rootEntry","rootRecord","rval","dispatchException","exception","loc","caught","handle","hasCatch","hasFinally","abrupt","finallyEntry","complete","afterLoc","finish","resetTryEntry","thrown","delegateYield","resultName","nextLoc","self","Function","g","hadRuntime","oldRuntime","regeneratorRuntime","gen","asyncGeneratorStep","_next","instance","descriptor","protoProps","_defineProperties","Constructor","staticProps","_createClass","clampSubMenu","offsetParent","rect","root","clampMenu","bottom","currentPosition","right","offY","offX","overflowRight","overflowBottom","visible","onshow","ContextMenu","callback","clamp","_this","newPosition","clampTimeout","Event","hide","validContextMenuTarget","isValid","tagName","GUIServiceProvider","contextmenuApi","$root","addEventListener","hit","_this2","push","pop","toLowerCase","call","childNodes","nodeType","nodeValue","slice","concat","eventListener","currentTarget","events","cssText","setProperty","removeEventListener","setAttribute","removeAttribute","createTextNode","createElementNS","appendChild","removeChild","insertBefore","block","newline","code","fences","noop","hr","heading","nptable","blockquote","html","def","table","lheading","paragraph","_label","_title","edit","replace","getRegex","bullet","_tag","_comment","normal","merge","gfm","tables","pedantic","Lexer","tokens","links","create","defaults","rules","lex","lexer","token","loose","cap","bull","b","listStart","listItems","t","space","tag","l","isordered","istask","ischecked","exec","substring","rtrim","lang","trim","depth","header","splitCells","split","cells","ordered","start","match","indexOf","smartLists","join","charAt","undefined","task","sanitize","pre","sanitizer","href","title","Error","charCodeAt","inline","escape","autolink","url","link","reflink","nolink","strong","em","br","del","_punctuation","_escapes","_scheme","_email","_attribute","_href","_extended_email","_backpedal","breaks","InlineLexer","renderer","Renderer","output","prevCapZero","inLink","inRawBlock","outputLink","escapes","codespan","mangle","smartypants","image","ch","random","toString","infostring","escaped","highlight","langPrefix","quote","raw","slugger","headerIds","headerPrefix","slug","xhtml","body","startatt","listitem","checkbox","tablerow","content","tablecell","flags","cleanUrl","baseUrl","TextRenderer","Parser","Slugger","parse","parser","inlineText","reverse","tok","peek","parseText","unescape","cell","j","errMsg","silent","log","seen","hasOwnProperty","originalSlug","encode","escapeTest","escapeReplace","replacements","escapeTestNoEncode","escapeReplaceNoEncode","fromCharCode","parseInt","regex","opt","val","base","prot","decodeURIComponent","e","originIndependentUrl","resolveUrl","encodeURI","baseUrls","tableRow","count","offset","curr","splice","invert","suffLen","currChar","substr","pending","err","message","setOptions","getDefaults","inlineLexer","exports","window"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","/*!\r\n * osjs-markdown-application\r\n *\r\n * Copyright (c) 2011-2019, Olivier Monnier <omonnier.dev@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice, this\r\n *    list of conditions and the following disclaimer\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\r\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\r\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR ha PARTICULAR PURPOSE ARE\r\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\r\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\r\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\r\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\r\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\r\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\r\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n * @author  Olivier Monnier <omonnier.dev@gmail.com>\r\n * @licence Simplified BSD License\r\n */\r\n\r\n// TODO: More options\r\n\r\nimport osjs from 'osjs';\r\nimport {h, app} from 'hyperapp';\r\nimport marked from 'marked';\r\nimport {name as applicationName} from './metadata.json';\r\nimport {\r\n  Box,\r\n  BoxContainer,\r\n  Menubar,\r\n  MenubarItem,\r\n  TextareaField,\r\n  Iframe\r\n} from '@osjs/gui';\r\n\r\nconst defaultColor = '#000000';\r\n\r\n/*\r\n * Utils\r\n */\r\n\r\nconst decode = str => marked(str);\r\n\r\n/*\r\n * Base RichText template\r\n */\r\nconst template = (proc, s) => `\r\n<!DOCTYPE html>\r\n<html>\r\n  <head>\r\n    <meta charset=\"utf-8\" />\r\n    <style>\r\n    html, body {\r\n      width: 100%;\r\n      height: 100%;\r\n      margin: 0;\r\n      padding: 0;\r\n    }\r\n    body {\r\n      font-family: 'arial';\r\n      color: ${defaultColor};\r\n      background: #fff;\r\n      padding: 20pt;\r\n      box-sizing: border-box;\r\n    }\r\n    </style>\r\n  </head>\r\n  <body>${s}</body>\r\n</html>`;\r\n\r\n/*\r\n * Custom GUI Components\r\n */\r\nconst RichText = (props) => h(Iframe, Object.assign({\r\n  box: {\r\n    margin: false,\r\n    grow: 1,\r\n    shrink: 1,\r\n  }\r\n}, props));\r\n\r\n/*\r\n * File Menu\r\n */\r\nconst createMenu = (current, actions, _) => ([\r\n  {label: _('LBL_NEW'), onclick: () => actions.menuNew()},\r\n  {label: _('LBL_OPEN'), onclick: () => actions.menuOpen()},\r\n  {label: _('LBL_SAVE'), disabled: !current, onclick: () => actions.menuSave()},\r\n  {label: _('LBL_SAVEAS'), onclick: () => actions.menuSaveAs()},\r\n  {label: _('LBL_QUIT'), onclick: () => actions.menuQuit()}\r\n]);\r\n\r\n/*\r\n * Main Window Application\r\n */\r\nconst createApplication = (core, proc, win, $content) => {\r\n  const _ = core.make('osjs/locale').translate;\r\n  const vfs = core.make('osjs/vfs');\r\n  const basic = core.make('osjs/basic-application', proc, win, {\r\n    defaultFilename: 'New Document.md',\r\n    saveMimeTypes: ['text/markdown']\r\n  });\r\n\r\n  const view = (state, actions) =>\r\n    h(Box, {}, [\r\n      h(Menubar, {}, [\r\n        h(MenubarItem, {\r\n          onclick: ev => actions.menu(ev)\r\n        }, _('LBL_FILE'))\r\n      ]),\r\n      h(BoxContainer, {\r\n        grow: 1,\r\n        shrink: 1,\r\n        orientation: 'vertical'\r\n      }, [\r\n        h(TextareaField, {\r\n          box: {grow: 1},\r\n          value: state.text,\r\n          oninput: (ev, value) => actions.setText(value)          \r\n        }),\r\n        h(RichText, {\r\n          box: {grow: 2},\r\n          value: decode(state.text),\r\n          oncreate: el => proc.emit('richtext:inited', el, state.text)\r\n        })\r\n      ])\r\n    ]);\r\n\r\n  const ha = app({\r\n    text: ''\r\n  }, {\r\n    setText: text => state => {\r\n      proc.emit('richtext:write', text);\r\n      return {text}\r\n    },\r\n\r\n    save: () => state => {\r\n      if (proc.args.file) {\r\n        const contents = $content.querySelector('textarea').value;\r\n        vfs.writefile(proc.args.file, contents);\r\n      }\r\n    },\r\n\r\n    load: item => (state, actions) => {\r\n      vfs.readfile(item)\r\n        .then(contents => actions.setText(contents))\r\n        .catch(error => console.error(error)); // FIXME: Dialog\r\n    },\r\n\r\n    menu: ev => (state, actions) => {\r\n      core.make('osjs/contextmenu').show({\r\n        position: ev.target,\r\n        menu: createMenu(proc.args.file, actions, _)\r\n      });\r\n    },\r\n\r\n    menuNew: () => state => basic.createNew(),\r\n    menuOpen: () => state => basic.createOpenDialog(),\r\n    menuSave: () => (state, actions) => actions.save(),\r\n    menuSaveAs: () => state => basic.createSaveDialog(),\r\n    menuQuit: () => state => proc.destroy()\r\n  }, view, $content);\r\n\r\n  proc.on('destroy', () => basic.destroy());\r\n  basic.on('new-file', () => ha.setText(''));\r\n  basic.on('save-file', ha.save);\r\n  basic.on('open-file', ha.load);\r\n  basic.init();\r\n};\r\n\r\n// OS.js window\r\nconst createMainWindow = (core, proc) => {\r\n  proc.createWindow({\r\n    id: 'MarkdownWindow',\r\n    icon: proc.resource(proc.metadata.icon),\r\n    dimension: {width: 800, height: 700}\r\n  })\r\n    .on('destroy', () => proc.destroy())\r\n    .on('render', (win) => win.focus())\r\n    .on('drop', (ev, data) => {\r\n      if (data.isFile && data.mime) {\r\n        const found = proc.metadata.mimes.find(m => (new RegExp(m)).test(data.mime));\r\n        if (found) {\r\n          basic.open(data);\r\n        }\r\n      }\r\n    })\r\n    .render(($content, win) => createApplication(core, proc, win, $content));\r\n}\r\n\r\nconst createProcess = (core, args, options, metadata) => {\r\n  let iframeDocument;\r\n  const proc = core.make('osjs/application', {args, options, metadata});\r\n\r\n  proc.once('richtext:inited', (iframe, text) => {\r\n    iframeDocument = iframe.contentDocument || iframe.contentWindow.document;\r\n\r\n    proc.emit('richtext:write', text);\r\n  });\r\n\r\n  proc.on('richtext:write', str => {\r\n    if (iframeDocument) {\r\n      iframeDocument.open();\r\n      iframeDocument.write(template(proc, decode(str)));\r\n      iframeDocument.close();\r\n    }\r\n  });\r\n\r\n  createMainWindow(core, proc);\r\n\r\n  return proc;\r\n}\r\n\r\n/*\r\n * Register OS.js Application\r\n */\r\nosjs.register(applicationName, createProcess);","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","export function h(name, attributes) {\n  var rest = []\n  var children = []\n  var length = arguments.length\n\n  while (length-- > 2) rest.push(arguments[length])\n\n  while (rest.length) {\n    var node = rest.pop()\n    if (node && node.pop) {\n      for (length = node.length; length--; ) {\n        rest.push(node[length])\n      }\n    } else if (node != null && node !== true && node !== false) {\n      children.push(node)\n    }\n  }\n\n  return typeof name === \"function\"\n    ? name(attributes || {}, children)\n    : {\n        nodeName: name,\n        attributes: attributes || {},\n        children: children,\n        key: attributes && attributes.key\n      }\n}\n\nexport function app(state, actions, view, container) {\n  var map = [].map\n  var rootElement = (container && container.children[0]) || null\n  var oldNode = rootElement && recycleElement(rootElement)\n  var lifecycle = []\n  var skipRender\n  var isRecycling = true\n  var globalState = clone(state)\n  var wiredActions = wireStateToActions([], globalState, clone(actions))\n\n  scheduleRender()\n\n  return wiredActions\n\n  function recycleElement(element) {\n    return {\n      nodeName: element.nodeName.toLowerCase(),\n      attributes: {},\n      children: map.call(element.childNodes, function(element) {\n        return element.nodeType === 3 // Node.TEXT_NODE\n          ? element.nodeValue\n          : recycleElement(element)\n      })\n    }\n  }\n\n  function resolveNode(node) {\n    return typeof node === \"function\"\n      ? resolveNode(node(globalState, wiredActions))\n      : node != null\n        ? node\n        : \"\"\n  }\n\n  function render() {\n    skipRender = !skipRender\n\n    var node = resolveNode(view)\n\n    if (container && !skipRender) {\n      rootElement = patch(container, rootElement, oldNode, (oldNode = node))\n    }\n\n    isRecycling = false\n\n    while (lifecycle.length) lifecycle.pop()()\n  }\n\n  function scheduleRender() {\n    if (!skipRender) {\n      skipRender = true\n      setTimeout(render)\n    }\n  }\n\n  function clone(target, source) {\n    var out = {}\n\n    for (var i in target) out[i] = target[i]\n    for (var i in source) out[i] = source[i]\n\n    return out\n  }\n\n  function setPartialState(path, value, source) {\n    var target = {}\n    if (path.length) {\n      target[path[0]] =\n        path.length > 1\n          ? setPartialState(path.slice(1), value, source[path[0]])\n          : value\n      return clone(source, target)\n    }\n    return value\n  }\n\n  function getPartialState(path, source) {\n    var i = 0\n    while (i < path.length) {\n      source = source[path[i++]]\n    }\n    return source\n  }\n\n  function wireStateToActions(path, state, actions) {\n    for (var key in actions) {\n      typeof actions[key] === \"function\"\n        ? (function(key, action) {\n            actions[key] = function(data) {\n              var result = action(data)\n\n              if (typeof result === \"function\") {\n                result = result(getPartialState(path, globalState), actions)\n              }\n\n              if (\n                result &&\n                result !== (state = getPartialState(path, globalState)) &&\n                !result.then // !isPromise\n              ) {\n                scheduleRender(\n                  (globalState = setPartialState(\n                    path,\n                    clone(state, result),\n                    globalState\n                  ))\n                )\n              }\n\n              return result\n            }\n          })(key, actions[key])\n        : wireStateToActions(\n            path.concat(key),\n            (state[key] = clone(state[key])),\n            (actions[key] = clone(actions[key]))\n          )\n    }\n\n    return actions\n  }\n\n  function getKey(node) {\n    return node ? node.key : null\n  }\n\n  function eventListener(event) {\n    return event.currentTarget.events[event.type](event)\n  }\n\n  function updateAttribute(element, name, value, oldValue, isSvg) {\n    if (name === \"key\") {\n    } else if (name === \"style\") {\n      if (typeof value === \"string\") {\n        element.style.cssText = value\n      } else {\n        if (typeof oldValue === \"string\") oldValue = element.style.cssText = \"\"\n        for (var i in clone(oldValue, value)) {\n          var style = value == null || value[i] == null ? \"\" : value[i]\n          if (i[0] === \"-\") {\n            element.style.setProperty(i, style)\n          } else {\n            element.style[i] = style\n          }\n        }\n      }\n    } else {\n      if (name[0] === \"o\" && name[1] === \"n\") {\n        name = name.slice(2)\n\n        if (element.events) {\n          if (!oldValue) oldValue = element.events[name]\n        } else {\n          element.events = {}\n        }\n\n        element.events[name] = value\n\n        if (value) {\n          if (!oldValue) {\n            element.addEventListener(name, eventListener)\n          }\n        } else {\n          element.removeEventListener(name, eventListener)\n        }\n      } else if (\n        name in element &&\n        name !== \"list\" &&\n        name !== \"type\" &&\n        name !== \"draggable\" &&\n        name !== \"spellcheck\" &&\n        name !== \"translate\" &&\n        !isSvg\n      ) {\n        element[name] = value == null ? \"\" : value\n      } else if (value != null && value !== false) {\n        element.setAttribute(name, value)\n      }\n\n      if (value == null || value === false) {\n        element.removeAttribute(name)\n      }\n    }\n  }\n\n  function createElement(node, isSvg) {\n    var element =\n      typeof node === \"string\" || typeof node === \"number\"\n        ? document.createTextNode(node)\n        : (isSvg = isSvg || node.nodeName === \"svg\")\n          ? document.createElementNS(\n              \"http://www.w3.org/2000/svg\",\n              node.nodeName\n            )\n          : document.createElement(node.nodeName)\n\n    var attributes = node.attributes\n    if (attributes) {\n      if (attributes.oncreate) {\n        lifecycle.push(function() {\n          attributes.oncreate(element)\n        })\n      }\n\n      for (var i = 0; i < node.children.length; i++) {\n        element.appendChild(\n          createElement(\n            (node.children[i] = resolveNode(node.children[i])),\n            isSvg\n          )\n        )\n      }\n\n      for (var name in attributes) {\n        updateAttribute(element, name, attributes[name], null, isSvg)\n      }\n    }\n\n    return element\n  }\n\n  function updateElement(element, oldAttributes, attributes, isSvg) {\n    for (var name in clone(oldAttributes, attributes)) {\n      if (\n        attributes[name] !==\n        (name === \"value\" || name === \"checked\"\n          ? element[name]\n          : oldAttributes[name])\n      ) {\n        updateAttribute(\n          element,\n          name,\n          attributes[name],\n          oldAttributes[name],\n          isSvg\n        )\n      }\n    }\n\n    var cb = isRecycling ? attributes.oncreate : attributes.onupdate\n    if (cb) {\n      lifecycle.push(function() {\n        cb(element, oldAttributes)\n      })\n    }\n  }\n\n  function removeChildren(element, node) {\n    var attributes = node.attributes\n    if (attributes) {\n      for (var i = 0; i < node.children.length; i++) {\n        removeChildren(element.childNodes[i], node.children[i])\n      }\n\n      if (attributes.ondestroy) {\n        attributes.ondestroy(element)\n      }\n    }\n    return element\n  }\n\n  function removeElement(parent, element, node) {\n    function done() {\n      parent.removeChild(removeChildren(element, node))\n    }\n\n    var cb = node.attributes && node.attributes.onremove\n    if (cb) {\n      cb(element, done)\n    } else {\n      done()\n    }\n  }\n\n  function patch(parent, element, oldNode, node, isSvg) {\n    if (node === oldNode) {\n    } else if (oldNode == null || oldNode.nodeName !== node.nodeName) {\n      var newElement = createElement(node, isSvg)\n      parent.insertBefore(newElement, element)\n\n      if (oldNode != null) {\n        removeElement(parent, element, oldNode)\n      }\n\n      element = newElement\n    } else if (oldNode.nodeName == null) {\n      element.nodeValue = node\n    } else {\n      updateElement(\n        element,\n        oldNode.attributes,\n        node.attributes,\n        (isSvg = isSvg || node.nodeName === \"svg\")\n      )\n\n      var oldKeyed = {}\n      var newKeyed = {}\n      var oldElements = []\n      var oldChildren = oldNode.children\n      var children = node.children\n\n      for (var i = 0; i < oldChildren.length; i++) {\n        oldElements[i] = element.childNodes[i]\n\n        var oldKey = getKey(oldChildren[i])\n        if (oldKey != null) {\n          oldKeyed[oldKey] = [oldElements[i], oldChildren[i]]\n        }\n      }\n\n      var i = 0\n      var k = 0\n\n      while (k < children.length) {\n        var oldKey = getKey(oldChildren[i])\n        var newKey = getKey((children[k] = resolveNode(children[k])))\n\n        if (newKeyed[oldKey]) {\n          i++\n          continue\n        }\n\n        if (newKey != null && newKey === getKey(oldChildren[i + 1])) {\n          if (oldKey == null) {\n            removeElement(element, oldElements[i], oldChildren[i])\n          }\n          i++\n          continue\n        }\n\n        if (newKey == null || isRecycling) {\n          if (oldKey == null) {\n            patch(element, oldElements[i], oldChildren[i], children[k], isSvg)\n            k++\n          }\n          i++\n        } else {\n          var keyedNode = oldKeyed[newKey] || []\n\n          if (oldKey === newKey) {\n            patch(element, keyedNode[0], keyedNode[1], children[k], isSvg)\n            i++\n          } else if (keyedNode[0]) {\n            patch(\n              element,\n              element.insertBefore(keyedNode[0], oldElements[i]),\n              keyedNode[1],\n              children[k],\n              isSvg\n            )\n          } else {\n            patch(element, oldElements[i], null, children[k], isSvg)\n          }\n\n          newKeyed[newKey] = children[k]\n          k++\n        }\n      }\n\n      while (i < oldChildren.length) {\n        if (getKey(oldChildren[i]) == null) {\n          removeElement(element, oldElements[i], oldChildren[i])\n        }\n        i++\n      }\n\n      for (var i in oldKeyed) {\n        if (!newKeyed[i]) {\n          removeElement(element, oldKeyed[i][0], oldKeyed[i][1])\n        }\n      }\n    }\n    return element\n  }\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\n\n/**\n * Window dimension definition\n * @property {string} [class] Container class name\n * @property {number} [grow] Flexbox grow value\n * @property {number} [shrink] Flexbox shrink value\n * @property {number|string} [basis] Flexbox basis value\n * @property {string} [align] Flexbox alignItems value\n * @property {string} [justify] Flexbox justifyContent value\n * @property {number|string} [padding] Margin\n * @property {number|string} [margin] Margin\n * @property {string} [key] Hyperapp element key\n * @property {Function} [oncreate] Hyperapp oncreate function\n * @property {Function} [onupdate] Hyperapp onupdate function\n * @property {Function} [ondestroy] Hyperapp ondestroy function\n * @typedef BoxProperties\n */\n\nconst unitValue = (value, unset) => typeof value === 'number'\n  ? `${value}px`\n  : (value === false ? unset : value);\n\nconst boxPropNames = {\n  grow: value => ({flexGrow: value}),\n  shrink: value => ({flexShrink: value}),\n  basis: value => ({flexBasis: unitValue(value, 'auto')}),\n  align: value => ({alignItems: value}),\n  justify: value => ({justifyContent: value}),\n  padding: value => ({margin: unitValue(value, '0')}),\n  margin: value => ({margin: unitValue(value, '0')})\n};\n\n/**\n * A generic OS.js GUI container\n * @param {Object} props Properties\n * @param {h[]} children Children\n */\nexport const Element = (props, children = []) => {\n  const givenClassNames = props.class instanceof Array\n    ? props.class\n    : [props.class];\n\n  const classNames = [\n    'osjs-gui',\n    ...givenClassNames\n  ];\n\n  if (props.orientation) {\n    classNames.push('osjs-gui-' + props.orientation);\n  }\n\n  const defaultStyle = typeof props.style === 'string'\n    ? {}\n    : Object.assign({}, props.style || {});\n\n  const style = Object.keys(props).reduce((result, prop) => {\n    const value = boxPropNames[prop]\n      ? boxPropNames[prop](props[prop])\n      : undefined;\n\n    return Object.assign({}, result, value);\n  }, defaultStyle);\n\n  return h('div', {\n    oncreate: props.oncreate,\n    ondestroy: props.ondestroy,\n    class: classNames.filter(s => !!s).join(' '),\n    style\n  }, children);\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Element} from './Element';\n\n/**\n * A flexbox\n * @param {BoxProperties} props Properties\n * @param {string} [props.orientation='horizontal'] Box orientation\n * @param {h[]} children Children\n */\nexport const Box = (props, children) =>\n  h(Element, Object.assign({\n    orientation: 'horizontal'\n  }, props, {\n    class: ['osjs-gui-box', props.class],\n  }), children);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Element} from './Element';\n\n/**\n * A flexbox container\n * @param {BoxProperties} props Properties\n * @param {string} [props.orientation='vertical'] Box orientation\n * @param {h[]} children Children\n */\nexport const BoxContainer = (props, children) =>\n  h(Element, Object.assign({}, props, {\n    class: ['osjs-gui-box-container', props.class]\n  }), children);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Element} from './Element';\n\n/**\n * A styled flexbox container\n * @param {BoxProperties} props Properties\n * @param {h[]} children Children\n */\nexport const BoxStyled = (props, children) =>\n  h(Element, Object.assign({}, props, {\n    class: ['osjs-gui-box-styled', props.class]\n  }), children);\n","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\n\n/**\n * An icon\n * @param {Object} props Properties\n * @param {string} props.src Icon src\n * @param {string} [props.name] Icon name\n * @param {h[]} children Children\n */\nexport const Icon = (props, children) => {\n  const i = props && typeof props === 'object'\n    ? props.src\n    : props;\n\n  const n = props && typeof props === 'object'\n    ? props.name\n    : undefined;\n\n  return h('i', {\n    'data-icon': n,\n    class: 'osjs-icon',\n    style: {\n      backgroundImage: typeof props === 'string' ? `url(${i})` : undefined\n    }\n  });\n};\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\n/**\n * Filter an object based on keys\n * @param {Object} props Props\n * @param {String[]} filterKeys List of keys to filter\n * @return {Object}\n */\nexport const filteredProps = (props, filterKeys) => {\n  const keys = Object.keys(props);\n  const filter = k => filterKeys.indexOf(k) === -1;\n\n  return keys\n    .filter(filter)\n    .reduce((result, k) => Object.assign({\n      [k]: props[k]\n    }, result), {});\n};\n\n/**\n * Creates a double-tap event handler\n * @param {number} [timeout=250] Timeout\n * @return {Function} Handler with => (ev, cb)\n */\nexport const doubleTap = (timeout = 250) => {\n  let tapped = false;\n  let timer;\n\n  return (ev, cb) => {\n    timer = clearTimeout(timer);\n    timer = setTimeout(() => (tapped = false), timeout);\n\n    if (tapped) {\n      ev.preventDefault();\n      return cb(ev);\n    }\n\n    tapped = true;\n\n    return false;\n  };\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\nimport {h} from 'hyperapp';\nimport {filteredProps} from './utils';\nimport {Element} from './components/Element';\n\n/**\n * Creates a new field Element wrapper\n * @param {String} name Field name\n * @param {Object} props Field props\n * @param {Function} cb Callback to create inner element => (props)\n * @param {Function} cb Callback to get value => (event)\n */\nexport const createField = (name, props, defaultProps, cb, cbInput) => {\n  const oninput = props.oninput || function() {};\n  const onchange = props.onchange || function() {};\n  const onkeydown = props.onkeydown || function() {};\n\n  const getValue = cbInput || (ev => [ev.target.value]);\n  const fieldProps = Object.assign(\n    {\n      oninput: ev => oninput(ev, ...getValue(ev)),\n      onchange: ev => onchange(ev, ...getValue(ev)),\n      onkeydown: ev => {\n        if (ev.keyCode === 13 && props.onenter) {\n          props.onenter(ev, ...getValue(ev));\n        }\n        onkeydown(ev);\n      }\n    },\n    defaultProps,\n    filteredProps(props, ['choices', 'label', 'box', 'oninput', 'onchange'])\n  );\n\n  return h(Element, Object.assign({}, props.box || {}, {\n    class: 'osjs-gui-field osjs-gui-' + name\n  }), cb(fieldProps));\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Icon} from './Icon';\nimport {createField} from '../element';\n\n/**\n * A button\n * @param {Object} props Properties\n * @param {string} [props.icon] Icon source\n * @param {string} [props.label] Use this as label instead of children\n * @param {BoxProperties} [props.box] Box Properties\n * @param {h[]} children Children\n */\nexport const Button = (props = {}, children = []) => \n  createField('button', props, {\n  }, (fieldProps) => {\n    const inner = [];\n    if (props.icon) {\n      inner.push(h(Icon, props.icon));\n    }\n\n    if (typeof props.label === 'string') {\n      inner.push(h('span', {class: 'osjs-label'}, props.label));\n    }\n\n    return h('button', fieldProps, [\n      ...inner,\n      ...children\n    ]);\n  });\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Element} from './Element';\n\n/**\n * A progress bar\n * @param {Object} props Properties\n * @param {number} [props.value] The value (percentage)\n * @param {BoxProperties} [props.box] Box Properties\n * @param {h[]} children Children\n */\nexport const Progressbar = (props, children = []) => {\n  let value = typeof props.value === 'number'\n    ? Math.max(0, Math.abs(props.value)) % 100\n    : 0;\n\n  const c = h('div', {class: 'osjs-gui-progressbar-wrapper'}, [\n    h('div', {\n      className: 'osjs-gui-progressbar-value',\n      style: {\n        width: String(value) + '%'\n      }\n    }),\n    h('div', {\n      className: 'osjs-gui-progressbar-label',\n    }, [\n      h('span', {}, [\n        String(value) + '%'\n      ])\n    ])\n  ]);\n\n  return h(Element, Object.assign({}, props.box || {}, {\n    class: ['osjs-gui-progressbar', props.class]\n  }), [\n    c,\n    ...children\n  ]);\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Icon} from './Icon';\n\nconst ul = (props, children = [], level = 0) => {\n\n  const label = child => {\n    const children = [];\n\n    if (child.type === 'checkbox' || typeof child.checked === 'boolean') {\n      children.push(h('span', {\n        class: 'osjs-gui-menu-checkbox ' + (child.checked ? 'active' : '')\n      }));\n    } else if (child.icon) {\n      children.push(h(Icon, child.icon));\n    }\n\n    children.push(h('span', {}, child.label));\n\n    return children;\n  };\n\n  const inner = (props, child) => {\n    if (typeof child.element === 'function') {\n      return child.element();\n    }\n\n    const className = child.type === 'separator'\n      ? 'osjs-gui-menu-separator'\n      : 'osjs-gui-menu-label ' + (child.disabled ? 'osjs__disabled' : '');\n\n    const children = [\n      h('span', {class: className}, label(child))\n    ];\n\n    if (child.items) {\n      children.push(ul(props, child.items, level + 1));\n    }\n\n    return children;\n  };\n\n  return h('ul', {\n    class: ''\n  }, children.map(\n    child => h('li', {\n      class: 'osjs-gui-menu-entry'\n    }, [\n      h('div', {\n        class: 'osjs-gui-menu-container',\n        'data-has-image': child.icon ? true : undefined,\n        'data-has-children': child.items ? true : undefined,\n        onmouseover: child.items ? props.onshow : undefined,\n        ontouchend: child.items ? props.onshow : undefined,\n        onclick: (ev) => {\n          if (child.items) {\n            return;\n          }\n\n          if (child.onclick) {\n            child.onclick(child, ev);\n          }\n\n          if (props.onclick) {\n            props.onclick(child, ev, child);\n          }\n        }\n      }, inner(props, child))\n    ])\n  ));\n};\n\n/**\n * Menu tree\n * @property {String} label Label\n * @property {String} [icon] Icon source\n * @property {Boolean} [disabled] Disabled state\n * @property {Boolean} [closeable] Disable close on click\n * @property {Function} [element] A callback that returns a virtual DOM element (ex. Hyperapp)\n * @property {Function} onclick Click callback\n * @property {MenuItems} [items] Child items\n * @typedef MenuItems\n */\n\n/**\n * A menu\n * @param {Object} props Properties\n * @param {Boolean} [props.visible=true] Visible property\n * @param {Object} [posprops.ition] Position\n * @param {MenuItems} [props.menu] Menu items\n */\nexport const Menu = (props) => h('div', {\n  id: 'osjs-context-menu',\n  className: 'osjs-gui osjs-gui-menu',\n  oncreate: props.oncreate,\n  onupdate: props.onupdate,\n  style: {\n    display: props.visible !== false ? 'block' : 'none',\n    top: props.position ? String(props.position.top) + 'px' : 0,\n    left: props.position ? String(props.position.left) + 'px' : 0\n  }\n}, ul(props, props.menu));\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Element} from './Element';\n\n/**\n * A toolbar\n * @desc Contains entries with spacing\n * @param {BoxProperties} props Properties\n * @param {string} [props.orientation='vertical'] Box orientation\n * @param {h[]} children Children\n */\nexport const Toolbar = (props, children) =>\n  h(Element, Object.assign({\n    orientation: 'vertical'\n  }, props, {\n    class: ['osjs-gui-toolbar', props.class]\n  }), children);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Element} from './Element';\n\n/**\n * A status bar\n * @param {Object} props Properties\n * @param {BoxProperties} [props.box] Box Properties\n * @param {h[]} children Children\n */\nexport const Statusbar = (props, children) =>\n  h(Element, Object.assign({}, props.box || {}, {\n    class: ['osjs-gui-statusbar', props.class]\n  }), children);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Element} from './Element';\n\n/**\n * A menubar item\n * @param {Object} props Properties\n * @param {h[]} children Children\n */\nexport const MenubarItem = (props, children = []) => {\n  const {onclick, data} = props;\n\n  return h('div', {\n    onclick: (ev) => {\n      if (typeof onclick === 'function') {\n        const parentNode = ev.target.parentNode;\n        const index = Array.prototype.indexOf.call(parentNode.children, ev.target);\n\n        onclick(ev, data || {}, index);\n      }\n    }\n  }, h('span', {}, children));\n};\n\n/**\n * A menubar container\n * @param {BoxProperties} [props] Box Properties\n * @param {MenubarItem[]} [props.items] Array of object\n * @param {h[]} children Children\n */\nexport const Menubar = (props, children = []) =>\n  h(Element, Object.assign({}, props, {\n    class: ['osjs-gui-menubar', props.class]\n  }), [\n    ...(props.items || []).map(item => h(MenubarItem, {\n      data: item.data,\n      onclick: (item.onclick || props.onclick)\n    }, item.label)),\n    ...children\n  ]);\n","import {h, app} from 'hyperapp'\n\nexport default \nfunction nestable (state, actions, view, tagname) {\n    actions._$r = function () {return {}}\n    return function (props, children) {\n        return h(tagname || 'x-', {\n            key: props.key,\n            id: props.id,\n            class: props.class,\n            oncreate: function (el) {\n                var wired = app(\n                    state,\n                    actions,\n                    function (s, a) {\n                        var v = view(s, a)\n                        if (typeof v === 'function') v = v(el._$p, el._$c)\n                        return v\n                    },\n                    el\n                )\n                el._$p = props\n                el._$c = children\n                el._$r = wired._$r\n                el._$u = wired.uninit\n                wired.init && wired.init(props)\n                props.oncreate && props.oncreate(el)\n            },\n            onupdate: function (el) {\n                el._$p = props\n                el._$c = children\n                el._$r()\n                props.onupdate && props.onupdate(el)\n            },\n            ondestroy: function (el) {\n                el._$u && el._$u()\n            },\n            onremove: function (el, done) {\n               if (!props.onremove) return done()\n\n               props.onremove(el, done)\n            }\n        })\n    }    \n}\n\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport nestable from 'hyperapp-nestable';\nimport {Element} from './Element';\n\nconst onmousedown = (ev, actions, orientation) => {\n  const {target, clientX, clientY} = ev;\n  const pane = target.previousSibling;\n  const {offsetWidth, offsetHeight} = pane;\n  const index = Array.from(target.parentNode.children).indexOf(pane);\n  const maxWidth = pane.parentNode.offsetWidth * 0.8;\n  const maxHeight = pane.parentNode.offsetHeight * 0.8;\n\n  if (index < 0) {\n    return;\n  }\n\n  const mousemove = ev => {\n    ev.preventDefault();\n\n    let size = orientation === 'vertical' ? offsetWidth : offsetHeight;\n\n    if (orientation === 'vertical') {\n      const diffX = ev.clientX - clientX;\n      size = Math.min(maxWidth, size + diffX);\n    } else {\n      const diffY = ev.clientY - clientY;\n      size = Math.min(maxHeight, size + diffY);\n    }\n\n    actions.setSize({index, size});\n  };\n\n  const mouseup = ev => {\n    ev.preventDefault();\n    document.removeEventListener('mousemove', mousemove);\n    document.removeEventListener('mouseup', mouseup);\n  };\n\n  ev.preventDefault();\n  document.addEventListener('mousemove', mousemove);\n  document.addEventListener('mouseup', mouseup);\n};\n\nconst panes = (state, actions, children, orientation) => {\n  const spacers = Array(Math.ceil(children.length / 2))\n    .fill(null)\n    .map(() => h('div', {\n      class: 'osjs-gui-panes-spacer',\n      onmousedown: ev => onmousedown(ev, actions, orientation)\n    }));\n\n  const child = (c, i) => {\n    const w = state.sizes[i] ? String(state.sizes[i]) + 'px' : undefined;\n\n    return h('div', {\n      class: 'osjs-gui-panes-pane',\n      style: {\n        flex: w ? `0 0 ${w}` : w\n      }\n    }, c);\n  };\n\n  return children\n    .map(child)\n    .map((v, i) => [v, spacers[i]])\n    .reduce((a, b) => a.concat(b))\n    .filter(v => typeof v !== 'undefined');\n};\n\nconst view = (state, actions) => (props, children) => {\n  const orientation = props.orientation || 'vertical';\n\n  return h(Element, {\n    orientation,\n    class: 'osjs-gui-panes-inner'\n  }, panes(state, actions, children, orientation));\n};\n\nconst inner = nestable({\n  sizes: []\n}, {\n  init: props => ({sizes: props.sizes || [150]}),\n  setSize: ({index, size}) => state => {\n    const sizes = [].concat(state.sizes);\n    sizes[index] = size;\n    return {sizes};\n  }\n}, view, 'div');\n\n/**\n * Resizable panes\n * @param {Object} props Properties\n * @param {string} [props.orientation='vertical'] Pane orientation\n * @param {number[]} [props.sizes] Pane sizes\n * @param {h[]} children Children\n */\nexport const Panes = (props, children) => h(inner, {\n  class: 'osjs-gui-panes'\n}, children);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {filteredProps, doubleTap} from '../utils';\nimport {Element} from './Element';\nimport {Icon} from './Icon';\n\nconst tapper = doubleTap();\n\nconst createView = props => {\n\n  const cols = (paneIndex) => (row, rowIndex) => {\n    const col = row.columns[paneIndex] || {};\n    const selected = props.selectedIndex === rowIndex;\n    const colIcon = col.icon ? h(Icon, col.icon) : null;\n    const children = [h('span', {}, [typeof col === 'object' ? col.label : col])];\n\n    if (colIcon) {\n      children.unshift(colIcon);\n    }\n\n    return h('div', {\n      'data-has-icon': col.icon ? true : undefined,\n      class: 'osjs-gui-list-view-cell' + (selected ? ' osjs__active' : ''),\n      ontouchstart: (ev) => tapper(ev, () => props.onactivate({data: row.data, index: rowIndex, ev})),\n      ondblclick: (ev) => props.onactivate({data: row.data, index: rowIndex, ev}),\n      onclick: (ev) => props.onselect({data: row.data, index: rowIndex, ev}),\n      oncontextmenu: (ev) => props.oncontextmenu({data: row.data, index: rowIndex, ev}),\n      oncreate: (el) => props.oncreate({data: row.data, index: rowIndex, el})\n    }, children);\n  };\n\n  const pane = (index, col) => h('div', {\n    class: 'osjs-gui-list-view-pane',\n    style: col.style || {}\n  }, [\n    h('div', {\n      class: 'osjs-gui-list-view-header',\n      style: {\n        display: props.hideColumns ? 'none' : undefined\n      }\n    }, h('span', {}, typeof col === 'object' ? col.label : col)),\n    h('div', {\n      class: 'rows',\n      'data-zebra': String(props.zebra)\n    }, props.rows.map(cols(index)))\n  ]);\n\n  return h('div', {\n    class: 'osjs-gui-list-view-wrapper',\n    oncreate: el => (el.scrollTop = props.scrollTop),\n    onupdate: el => {\n      if (props.selectedIndex < 0) {\n        el.scrollTop = props.scrollTop;\n      }\n    }\n  }, props.columns.map((c, i) => pane(i, c)));\n};\n\nexport const ListView = props => h(Element, Object.assign({\n  class: 'osjs-gui-list-view'\n}, props.box || {}), createView(filteredProps(props, ['box'])));\n\nexport const listView = ({\n  component: (state, actions) => {\n    const newProps = Object.assign({\n      zebra: true,\n      columns: [],\n      rows: [],\n      onselect: ({data, index, ev}) => {\n        actions.select({data, index, ev});\n        actions.setSelectedIndex(index);\n      },\n      onactivate: ({data, index, ev}) => {\n        actions.activate({data, index, ev});\n        actions.setSelectedIndex(-1);\n      },\n      oncontextmenu: ({data, index, ev}) => {\n        actions.select({data, index, ev});\n        actions.contextmenu({data, index, ev});\n        actions.setSelectedIndex(index);\n      },\n      oncreate: (args) => {\n        actions.created(args);\n      }\n    }, state);\n\n    return (props = {}) => ListView(Object.assign(newProps, props));\n  },\n\n  state: state => Object.assign({\n    selectedIndex: -1,\n    scrollTop: 0\n  }, state),\n\n  actions: actions => Object.assign({\n    select: () => () => ({}),\n    activate: () => () => ({}),\n    contextmenu: () => () => ({}),\n    created: () => () => ({}),\n    setRows: rows => ({rows}),\n    setColumns: columns => ({columns}),\n    setScrollTop: scrollTop => state => ({scrollTop}),\n    setSelectedIndex: selectedIndex => state => ({selectedIndex})\n  }, actions || {})\n});\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {doubleTap} from '../utils';\nimport {Element} from './Element';\nimport {Icon} from './Icon';\n\nconst tapper = doubleTap();\n\nexport const IconViewEntry = (entry, index, props) => () => {\n  const icon = entry.icon || {name: 'application-x-executable'};\n  const selected = props.selectedIndex === index;\n\n  return h('div', {\n    class: 'osjs-gui-icon-view-entry' + (selected ? ' osjs__active' : ''),\n    ontouchstart: (ev) => tapper(ev, () => props.onactivate({data: entry.data, index, ev})),\n    ondblclick: (ev) => props.onactivate({data: entry.data, index, ev}),\n    onclick: (ev) => props.onselect({data: entry.data, index, ev}),\n    oncontextmenu: (ev) => props.oncontextmenu({data: entry.data, index, ev}),\n    oncreate: (el) => props.oncreate({data: entry.data, index, el})\n  }, [\n    h('div', {class: 'osjs__container'}, [\n      h('div', {class: 'osjs__image'}, [\n        h(Icon, icon)\n      ]),\n      h('div', {class: 'osjs__label'}, [\n        h('span', {}, entry.label)\n      ])\n    ])\n  ]);\n};\n\nexport const IconView = (props) => {\n  const inner = h('div', {\n    class: 'osjs-gui-icon-view-wrapper',\n    oncreate: el => (el.scrollTop = props.scrollTop),\n    onupdate: el => {\n      if (props.selectedIndex < 0) {\n        el.scrollTop = props.scrollTop;\n      }\n    }\n  }, props.entries.map((entry, index) => {\n    return h(IconViewEntry(entry, index, props));\n  }));\n\n  return h(Element, Object.assign({\n    class: 'osjs-gui-icon-view'\n  }, props.box || {}), inner);\n};\n\nexport const iconView = ({\n  component: (state, actions) => {\n    const newProps = Object.assign({\n      entries: [],\n      onselect: ({data, index, ev}) => {\n        actions.select({data, index, ev});\n        actions.setSelectedIndex(index);\n      },\n      onactivate: ({data, index, ev}) => {\n        actions.activate({data, index, ev});\n        actions.setSelectedIndex(-1);\n      },\n      oncontextmenu: ({data, index, ev}) => {\n        actions.select({data, index, ev});\n        actions.contextmenu({data, index, ev});\n        actions.setSelectedIndex(index);\n      },\n      oncreate: (args) => {\n        actions.created(args);\n      }\n    }, state);\n\n    return (props = {}) => IconView(Object.assign(newProps, props));\n  },\n\n  state: state => Object.assign({\n    selectedIndex: -1,\n    scrollTop: 0\n  }, state),\n\n  actions: actions => Object.assign({\n    select: () => () => ({}),\n    activate: () => () => ({}),\n    contextmenu: () => () => ({}),\n    created: () => () => ({}),\n    setEntries: entries => () => ({entries}),\n    setScrollTop: scrollTop => state => ({scrollTop}),\n    setSelectedIndex: selectedIndex => state => ({selectedIndex}),\n  }, actions || {})\n});\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\n\n/**\n * A image\n * @param {Object} props Properties\n * @param {String} props.src The image source\n * @param {String} [props.alt] The image alternate text\n * @param {number} [props.width] Image width\n * @param {number} [props.height] Image height\n * @param {Function} [props.onload] On loaded data event\n * @param {Function} [props.oncreate] Hyperapp oncreate function\n * @param {Function} [props.onupdate] Hyperapp onupdate function\n * @param {Function} [props.ondestroy] Hyperapp ondestroy function\n */\nexport const Image = (props, children) =>\n  h('div', {\n    class: 'osjs-gui osjs-gui-image',\n    style: {\n      width: props.width ? String(props.width) + 'px' : undefined,\n      height: props.height ? String(props.height) + 'px' : undefined\n    }\n  }, h('img', props));\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\n\nconst sources = list => list.map(item => h('source', item));\n\nconst isTrue = v => typeof v === 'undefined' || v === true;\n\n/**\n * A video\n * @param {Object} props Properties\n * @param {String} [props.class] Append this className\n * @param {Object} [props.style] CSS Style object\n * @param {String} props.src The video source\n * @param {number} [props.width] Video width\n * @param {number} [props.height] Video height\n * @param {String} [props.poster] Poster image source\n * @param {Boolean} [props.loop] Loop video\n * @param {Boolean} [props.autoplay] Autoplay video\n * @param {Boolean} [props.controls] Show controls\n * @param {Function} [props.onloadeddata] On loaded data event\n */\nexport const Video = (props, children) =>\n  h('div', {\n    class: 'osjs-gui osjs-gui-video',\n    style: {\n      width: props.width ? String(props.width) + 'px' : undefined,\n      height: props.height ? String(props.height) + 'px' : undefined\n    }\n  }, [\n    h('video', {\n      src: props.src,\n      width: props.width,\n      height: props.height,\n      poster: props.poster,\n      loop: props.loop ? 'loop' : undefined,\n      muted: props.muted ? 'muted' : undefined,\n      controls: isTrue(props.controls) ? 'controls' : undefined,\n      autoplay: isTrue(props.autoplay) ? 'autoplay' : undefined,\n      onloadeddata: props.onload,\n      oncreate: props.oncreate,\n      onupdate: props.onupdate,\n      ondestroy: props.ondestroy\n    }, sources(props.sources || []))\n  ]);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport nestable from 'hyperapp-nestable';\n\nconst headers = ({labels, onchange, oncontextmenu}, state, actions) => (labels || [])\n  .map((label, index) => h('div', {\n    class: state.selectedIndex === index ? 'osjs__active' : '',\n    oncontextmenu: ev => {\n      (oncontextmenu || function() {})(ev, index, label);\n    },\n    onclick: ev => {\n      actions.setSelectedIndex(index);\n      (onchange || function() {})(ev, index, label);\n    }\n  }, h('span', {}, label)));\n\nconst panes = (state, children) => children\n  .map((child, index) => h('div', {\n    class: state.selectedIndex === index ? 'osjs__active' : ''\n  }, child));\n\nconst view = nestable({\n  selectedIndex: 0\n}, {\n  init: props => ({\n    selectedIndex: props.selectedIndex || 0\n  }),\n  setSelectedIndex: selectedIndex => state => ({selectedIndex})\n}, (state, actions) => (props, children) => h('div', {\n  class: 'osjs-gui-tabs-wrapper'\n}, [\n  h('div', {class: 'osjs-gui-tabs-header'}, headers(props, state, actions)),\n  h('div', {class: 'osjs-gui-tabs-panes'}, panes(state, children))\n]), 'div');\n\n/**\n * A tab container\n * @param {Object} props Properties\n * @param {String[]} props.labels Labels\n * @param {h[]} children Tabs\n */\nexport const Tabs = (props, children) => h(view, Object.assign({\n  class: 'osjs-gui osjs-gui-tabs ' + (props.class || '')\n}, props), children);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {filteredProps} from '../utils';\nimport {Element} from './Element';\n\n/**\n * A iframe\n * @param {Object} props Properties\n * @param {BoxProperties} [props.box] Box Properties\n * @param {h[]} children Children\n */\nexport const Iframe = (props, children = []) =>\n  h(Element, Object.assign({}, props.box || {}, {\n    class: ['osjs-gui-iframe', props.class]\n  }), [\n    h('iframe', Object.assign({\n      frameborder: 0\n    }, filteredProps(props, ['box']))),\n    ...children\n  ]);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {createField} from '../element';\n\n/**\n * A text field\n * @param {Object} props Properties\n * @param {string} [props.value] Value\n * @param {string} [props.type=text] Type\n * @param {BoxProperties} [props.box] Box Properties\n * @param {h[]} children Children\n */\nexport const TextField = (props = {}, children = []) =>\n  createField('text-field', props, {\n    autocomplete: 'off',\n    autocorrect: 'off',\n    autocapitalize: 'off',\n    spellcheck: 'false',\n    type: 'text'\n  }, (fieldProps) => h('input', fieldProps));\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {createField} from '../element';\n\n/**\n * A text field\n * @param {Object} props Properties\n * @param {string} [props.value] Value\n * @param {number} [props.rows=4] Number of rows\n * @param {BoxProperties} [props.box] Box Properties\n * @param {h[]} children Children\n */\nexport const TextareaField = (props = {}, children = []) =>\n  createField('textarea-field', props, {\n    rows: 4\n  }, (fieldProps) => h('textarea', fieldProps, children));\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {createField} from '../element';\n\n/**\n * A text field\n * @param {Object} props Properties\n * @param {string} [props.value] Value\n * @param {BoxProperties} [props.box] Box Properties\n * @param {h[]} children Children\n */\nexport const SelectField = (props = {}, children = []) => {\n\n  const getChoices = choices => choices instanceof Array\n    ? choices.map(value => typeof value === 'object' ? value : {value, label: value})\n    : Object.keys(props.choices || {})\n      .map(value => ({value, label: props.choices[value]}));\n\n  const choices = getChoices(props.choices)\n    .map(({value, label}) => {\n      return h('option', {\n        value,\n        selected: props.value === value\n      }, label);\n    });\n\n  const getValue = ev => [ev.target.value, ev.target.textContent];\n  const createSelect = fieldProps => h('div', {}, h('select', fieldProps, [\n    ...choices,\n    ...children\n  ]));\n\n  return createField('select-field', props, {\n    selectedIndex: undefined\n  }, createSelect, getValue);\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {createField} from '../element';\n\n/**\n * A text field\n * @param {Object} props Properties\n * @param {string} [props.checked] Value\n * @param {string} [props.type=checkbox] Type\n * @param {BoxProperties} [props.box] Box Properties\n * @param {h[]} children Children\n */\nexport const ToggleField = (props = {}, children = []) =>\n  createField('toggle-field', props, {\n    type: 'checkbox',\n    checked: false\n  }, (fieldProps) => h('label', {\n\n  }, [\n    h('input', fieldProps),\n    h('span', {\n      class: 'osjs-toggle-input'\n    }),\n    h('span', {\n      class: 'osjs-toggle-label'\n    }, [\n      props.label || '',\n      ...children\n    ])\n  ]), ev => [props.type === 'radio'\n    ? JSON.parse(ev.target.value)\n    : !!ev.target.checked]);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {createField} from '../element';\n\n/**\n * A range field\n * @param {Object} props Properties\n * @param {string} [props.min] Minimum value\n * @param {string} [props.max] Maximum value\n * @param {string} [props.value] Value\n * @param {BoxProperties} [props.box] Box Properties\n * @param {h[]} children Children\n */\nexport const RangeField = (props = {}, children = []) =>\n  createField('range-field', props, {\n    type: 'range'\n  }, (fieldProps) => h('input', fieldProps));\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Element} from './Element';\nimport nestable from 'hyperapp-nestable';\n\nconst view = (state, actions) => (props, children) => {\n  return h(Element, Object.assign({}, props.box || {}, {\n    class: ['osjs-gui-expander-wrapper']\n  }), [\n    h('div', {\n      class: 'osjs-gui-expander-header',\n      onclick: ev => actions.ontoggle({\n        ev,\n        active: !state.active,\n        ontoggle: props.ontoggle\n      })\n    }, [\n      h('div', {\n        class: 'osjs-gui-expander-header-icon',\n        'data-active': String(state.active)\n      }),\n      h('div', {\n        class: 'osjs-gui-expander-header-label'\n      }, props.label)\n    ]),\n    h('div', {\n      class: 'osjs-gui-expander-content',\n      style: {\n        display: state.active === false ? 'none' : undefined\n      }\n    }, children)\n  ]);\n};\n\nconst inner = nestable({\n  active: true\n}, {\n  init: props => ({\n    ative: props.active !== false\n  }),\n  ontoggle: ({ev, active, ontoggle}) => {\n    const cb = ontoggle || function() {};\n    cb(ev, active);\n    return {active};\n  }\n}, view, 'div');\n\n/**\n * A status bar\n * @param {Object} props Properties\n * @param {boolean} [props.active] Active state\n * @param {Function} [props.ontoggle] Toggle callback => (ev, active)\n * @param {BoxProperties} [props.box] Box Properties\n * @param {h[]} children Children\n */\nexport const Expander = (props, children) =>\n  h(inner, Object.assign({}, props, {\n    class: 'osjs-gui osjs-gui-expander'\n  }), children);\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n!(function(global) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  runtime.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  runtime.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        if (delegate.iterator.return) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // In sloppy mode, unbound `this` refers to the global object, fallback to\n  // Function constructor if we're in global strict mode. That is sadly a form\n  // of indirect eval which violates Content Security Policy.\n  (function() {\n    return this || (typeof self === \"object\" && self);\n  })() || Function(\"return this\")()\n);\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// This method of obtaining a reference to the global object needs to be\n// kept identical to the way it is obtained in runtime.js\nvar g = (function() {\n  return this || (typeof self === \"object\" && self);\n})() || Function(\"return this\")();\n\n// Use `getOwnPropertyNames` because not all browsers support calling\n// `hasOwnProperty` on the global `self` object in a worker. See #183.\nvar hadRuntime = g.regeneratorRuntime &&\n  Object.getOwnPropertyNames(g).indexOf(\"regeneratorRuntime\") >= 0;\n\n// Save the old regeneratorRuntime in case it needs to be restored later.\nvar oldRuntime = hadRuntime && g.regeneratorRuntime;\n\n// Force reevalutation of runtime.js.\ng.regeneratorRuntime = undefined;\n\nmodule.exports = require(\"./runtime\");\n\nif (hadRuntime) {\n  // Restore the original runtime.\n  g.regeneratorRuntime = oldRuntime;\n} else {\n  // Remove the global property added by runtime.js.\n  try {\n    delete g.regeneratorRuntime;\n  } catch(e) {\n    g.regeneratorRuntime = undefined;\n  }\n}\n","module.exports = require(\"regenerator-runtime\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h, app} from 'hyperapp';\nimport {Menu} from './components/Menu';\n\n/*\n * Makes sure sub-menus stays within viewport\n */\nconst clampSubMenu = (root, ev) => {\n  let ul = ev.target.querySelector('ul');\n  if (!ul) {\n    return;\n  }\n\n  // FIXME: Safari reports wrong item\n  if (ul.classList.contains('osjs-gui-menu-container')) {\n    ul = ul.parentNode.parentNode;\n  }\n\n  if (!ul || !ul.offsetParent) {\n    return;\n  }\n\n  ul.classList.remove('clamp-right');\n\n  const rect = ul.getBoundingClientRect();\n  if (rect.right > root.offsetWidth) {\n    ul.classList.add('clamp-right');\n  }\n};\n\n/*\n * Makes sure menu stays within viewport\n */\nconst clampMenu = (root, el, currentPosition) => {\n  const result = {};\n  const bottom = currentPosition.top + el.offsetHeight;\n  const right = currentPosition.left + el.offsetWidth;\n  const offY = root.offsetHeight - currentPosition.top;\n  const offX = root.offsetWidth - currentPosition.left;\n  const overflowRight = right > root.offsetWidth;\n  const overflowBottom = bottom > root.offsetHeight;\n\n  if (overflowBottom) {\n    result.top = root.offsetHeight - el.offsetHeight - offY;\n  }\n\n  if (overflowRight) {\n    result.left = root.offsetWidth - el.offsetWidth - offX;\n  }\n\n  return (overflowBottom || overflowRight) ? result : null;\n};\n\n/*\n * Context Menu view\n */\nconst view = callback => (props, actions) => h(Menu, {\n  position: props.position,\n  visible: props.visible,\n  menu: props.menu,\n  onclick: callback,\n  onshow: actions.onshow\n});\n\nconst timeout = fn => {\n  fn();\n  return setTimeout(fn, 100);\n};\n\n/**\n * ContextMenu Class\n *\n * @desc Handles a Menu/ContextMenu globally for OS.js\n */\nexport class ContextMenu {\n\n  constructor(core) {\n    this.core = core;\n    this.callback = () => {};\n    this.actions = null;\n  }\n\n  destroy() {\n    this.callback = null;\n    this.actions = null;\n  }\n\n  /**\n   * Initializes the Menu Hyperapp\n   */\n  init() {\n    let clampTimeout;\n\n    this.actions = app({\n      visible: false,\n      menu: [],\n      position: {\n        top: 0,\n        left: 0\n      }\n    }, {\n      clamp: (el) => props => {\n        el = el || document.querySelector('#osjs-context-menu');\n        clearTimeout(clampTimeout);\n\n        if (el) {\n          const root = this.core.$root;\n          const newPosition = clampMenu(root, el, props.position);\n          if (newPosition) {\n            return {position: newPosition};\n          }\n        }\n\n        return {};\n      },\n      onshow: (ev) => props => {\n        clampTimeout = timeout(() => clampSubMenu(this.core.$root, ev));\n      },\n      show: (options) => (props, actions) => {\n        let {menu, position} = options;\n        if (position instanceof Event) {\n          position = {left: position.clientX, top: position.clientY};\n        } else if (position instanceof Element) {\n          const box = position.getBoundingClientRect();\n          position = {\n            left: box.left,\n            top: box.top + box.height\n          };\n        }\n\n        this.callback = (child, ev, iter) => {\n          if (options.callback) {\n            options.callback(child, ev);\n          }\n\n          if (iter.closeable !== false) {\n            this.actions.hide();\n          }\n        };\n\n        timeout(() => actions.clamp());\n\n        return {\n          visible: true,\n          menu: menu || [],\n          position: position || {top: 0, left: 0}\n        };\n      },\n      hide: () => props => {\n        this.callback = null;\n\n        return {visible: false};\n      }\n    }, view((...args) => {\n      if (!this.core.destroyed) {\n        if (this.callback) {\n          this.callback(...args);\n        }\n      }\n    }), this.core.$root);\n  }\n\n  /**\n   * Show the menu\n   */\n  show(...args) {\n    return this.actions ? this.actions.show(...args) : null;\n  }\n\n  /**\n   * Hide the menu\n   */\n  hide(...args) {\n    return this.actions ? this.actions.hide(...args) : null;\n  }\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {ContextMenu} from './contextmenu.js';\n\n/*\n * Check if a target allows for context menu\n */\nconst validContextMenuTarget = ev => {\n  const target = ev.target;\n  let isValid = target.tagName === 'TEXTAREA';\n  if (!isValid && target.tagName === 'INPUT') {\n    isValid = ['text', 'password', 'number', 'email'].indexOf(target.type) !== -1;\n  }\n\n  return isValid;\n};\n\n/**\n * OS.js GUI Service Provider\n *\n * @desc Provides wrapper services around GUI features\n */\nexport class GUIServiceProvider {\n\n  constructor(core) {\n    this.core = core;\n    this.contextmenu = new ContextMenu(core);\n  }\n\n  destroy() {\n    const menu = document.getElementById('osjs-context-menu');\n    if (menu) {\n      menu.remove();\n    }\n\n    this.contextmenu.destroy();\n  }\n\n  async init() {\n    const contextmenuApi = {\n      show: (...args) => this.contextmenu.show(...args),\n      hide: (...args) => this.contextmenu.hide(...args)\n    };\n\n    this.core.instance('osjs/contextmenu', (...args) => {\n      if (args.length) {\n        return contextmenuApi.show(...args);\n      }\n\n      return contextmenuApi;\n    });\n\n    this.core.$root.addEventListener('contextmenu', (ev) => {\n      if (validContextMenuTarget(ev)) {\n        return;\n      }\n\n      ev.stopPropagation();\n      ev.preventDefault();\n    });\n  }\n\n  start() {\n    this.core.$root.addEventListener('click', (ev) => {\n      const menu = document.getElementById('osjs-context-menu');\n      const hit = menu.contains(ev.target);\n\n      if (!hit && this.contextmenu) {\n        this.contextmenu.hide();\n      }\n    }, true);\n\n    this.contextmenu.init();\n  }\n}\n","export function h(name, attributes) {\n  var rest = []\n  var children = []\n  var length = arguments.length\n\n  while (length-- > 2) rest.push(arguments[length])\n\n  while (rest.length) {\n    var node = rest.pop()\n    if (node && node.pop) {\n      for (length = node.length; length--; ) {\n        rest.push(node[length])\n      }\n    } else if (node != null && node !== true && node !== false) {\n      children.push(node)\n    }\n  }\n\n  return typeof name === \"function\"\n    ? name(attributes || {}, children)\n    : {\n        nodeName: name,\n        attributes: attributes || {},\n        children: children,\n        key: attributes && attributes.key\n      }\n}\n\nexport function app(state, actions, view, container) {\n  var map = [].map\n  var rootElement = (container && container.children[0]) || null\n  var oldNode = rootElement && recycleElement(rootElement)\n  var lifecycle = []\n  var skipRender\n  var isRecycling = true\n  var globalState = clone(state)\n  var wiredActions = wireStateToActions([], globalState, clone(actions))\n\n  scheduleRender()\n\n  return wiredActions\n\n  function recycleElement(element) {\n    return {\n      nodeName: element.nodeName.toLowerCase(),\n      attributes: {},\n      children: map.call(element.childNodes, function(element) {\n        return element.nodeType === 3 // Node.TEXT_NODE\n          ? element.nodeValue\n          : recycleElement(element)\n      })\n    }\n  }\n\n  function resolveNode(node) {\n    return typeof node === \"function\"\n      ? resolveNode(node(globalState, wiredActions))\n      : node != null\n        ? node\n        : \"\"\n  }\n\n  function render() {\n    skipRender = !skipRender\n\n    var node = resolveNode(view)\n\n    if (container && !skipRender) {\n      rootElement = patch(container, rootElement, oldNode, (oldNode = node))\n    }\n\n    isRecycling = false\n\n    while (lifecycle.length) lifecycle.pop()()\n  }\n\n  function scheduleRender() {\n    if (!skipRender) {\n      skipRender = true\n      setTimeout(render)\n    }\n  }\n\n  function clone(target, source) {\n    var out = {}\n\n    for (var i in target) out[i] = target[i]\n    for (var i in source) out[i] = source[i]\n\n    return out\n  }\n\n  function setPartialState(path, value, source) {\n    var target = {}\n    if (path.length) {\n      target[path[0]] =\n        path.length > 1\n          ? setPartialState(path.slice(1), value, source[path[0]])\n          : value\n      return clone(source, target)\n    }\n    return value\n  }\n\n  function getPartialState(path, source) {\n    var i = 0\n    while (i < path.length) {\n      source = source[path[i++]]\n    }\n    return source\n  }\n\n  function wireStateToActions(path, state, actions) {\n    for (var key in actions) {\n      typeof actions[key] === \"function\"\n        ? (function(key, action) {\n            actions[key] = function(data) {\n              var result = action(data)\n\n              if (typeof result === \"function\") {\n                result = result(getPartialState(path, globalState), actions)\n              }\n\n              if (\n                result &&\n                result !== (state = getPartialState(path, globalState)) &&\n                !result.then // !isPromise\n              ) {\n                scheduleRender(\n                  (globalState = setPartialState(\n                    path,\n                    clone(state, result),\n                    globalState\n                  ))\n                )\n              }\n\n              return result\n            }\n          })(key, actions[key])\n        : wireStateToActions(\n            path.concat(key),\n            (state[key] = clone(state[key])),\n            (actions[key] = clone(actions[key]))\n          )\n    }\n\n    return actions\n  }\n\n  function getKey(node) {\n    return node ? node.key : null\n  }\n\n  function eventListener(event) {\n    return event.currentTarget.events[event.type](event)\n  }\n\n  function updateAttribute(element, name, value, oldValue, isSvg) {\n    if (name === \"key\") {\n    } else if (name === \"style\") {\n      if (typeof value === \"string\") {\n        element.style.cssText = value\n      } else {\n        if (typeof oldValue === \"string\") oldValue = element.style.cssText = \"\"\n        for (var i in clone(oldValue, value)) {\n          var style = value == null || value[i] == null ? \"\" : value[i]\n          if (i[0] === \"-\") {\n            element.style.setProperty(i, style)\n          } else {\n            element.style[i] = style\n          }\n        }\n      }\n    } else {\n      if (name[0] === \"o\" && name[1] === \"n\") {\n        name = name.slice(2)\n\n        if (element.events) {\n          if (!oldValue) oldValue = element.events[name]\n        } else {\n          element.events = {}\n        }\n\n        element.events[name] = value\n\n        if (value) {\n          if (!oldValue) {\n            element.addEventListener(name, eventListener)\n          }\n        } else {\n          element.removeEventListener(name, eventListener)\n        }\n      } else if (\n        name in element &&\n        name !== \"list\" &&\n        name !== \"type\" &&\n        name !== \"draggable\" &&\n        name !== \"spellcheck\" &&\n        name !== \"translate\" &&\n        !isSvg\n      ) {\n        element[name] = value == null ? \"\" : value\n      } else if (value != null && value !== false) {\n        element.setAttribute(name, value)\n      }\n\n      if (value == null || value === false) {\n        element.removeAttribute(name)\n      }\n    }\n  }\n\n  function createElement(node, isSvg) {\n    var element =\n      typeof node === \"string\" || typeof node === \"number\"\n        ? document.createTextNode(node)\n        : (isSvg = isSvg || node.nodeName === \"svg\")\n          ? document.createElementNS(\n              \"http://www.w3.org/2000/svg\",\n              node.nodeName\n            )\n          : document.createElement(node.nodeName)\n\n    var attributes = node.attributes\n    if (attributes) {\n      if (attributes.oncreate) {\n        lifecycle.push(function() {\n          attributes.oncreate(element)\n        })\n      }\n\n      for (var i = 0; i < node.children.length; i++) {\n        element.appendChild(\n          createElement(\n            (node.children[i] = resolveNode(node.children[i])),\n            isSvg\n          )\n        )\n      }\n\n      for (var name in attributes) {\n        updateAttribute(element, name, attributes[name], null, isSvg)\n      }\n    }\n\n    return element\n  }\n\n  function updateElement(element, oldAttributes, attributes, isSvg) {\n    for (var name in clone(oldAttributes, attributes)) {\n      if (\n        attributes[name] !==\n        (name === \"value\" || name === \"checked\"\n          ? element[name]\n          : oldAttributes[name])\n      ) {\n        updateAttribute(\n          element,\n          name,\n          attributes[name],\n          oldAttributes[name],\n          isSvg\n        )\n      }\n    }\n\n    var cb = isRecycling ? attributes.oncreate : attributes.onupdate\n    if (cb) {\n      lifecycle.push(function() {\n        cb(element, oldAttributes)\n      })\n    }\n  }\n\n  function removeChildren(element, node) {\n    var attributes = node.attributes\n    if (attributes) {\n      for (var i = 0; i < node.children.length; i++) {\n        removeChildren(element.childNodes[i], node.children[i])\n      }\n\n      if (attributes.ondestroy) {\n        attributes.ondestroy(element)\n      }\n    }\n    return element\n  }\n\n  function removeElement(parent, element, node) {\n    function done() {\n      parent.removeChild(removeChildren(element, node))\n    }\n\n    var cb = node.attributes && node.attributes.onremove\n    if (cb) {\n      cb(element, done)\n    } else {\n      done()\n    }\n  }\n\n  function patch(parent, element, oldNode, node, isSvg) {\n    if (node === oldNode) {\n    } else if (oldNode == null || oldNode.nodeName !== node.nodeName) {\n      var newElement = createElement(node, isSvg)\n      parent.insertBefore(newElement, element)\n\n      if (oldNode != null) {\n        removeElement(parent, element, oldNode)\n      }\n\n      element = newElement\n    } else if (oldNode.nodeName == null) {\n      element.nodeValue = node\n    } else {\n      updateElement(\n        element,\n        oldNode.attributes,\n        node.attributes,\n        (isSvg = isSvg || node.nodeName === \"svg\")\n      )\n\n      var oldKeyed = {}\n      var newKeyed = {}\n      var oldElements = []\n      var oldChildren = oldNode.children\n      var children = node.children\n\n      for (var i = 0; i < oldChildren.length; i++) {\n        oldElements[i] = element.childNodes[i]\n\n        var oldKey = getKey(oldChildren[i])\n        if (oldKey != null) {\n          oldKeyed[oldKey] = [oldElements[i], oldChildren[i]]\n        }\n      }\n\n      var i = 0\n      var k = 0\n\n      while (k < children.length) {\n        var oldKey = getKey(oldChildren[i])\n        var newKey = getKey((children[k] = resolveNode(children[k])))\n\n        if (newKeyed[oldKey]) {\n          i++\n          continue\n        }\n\n        if (newKey != null && newKey === getKey(oldChildren[i + 1])) {\n          if (oldKey == null) {\n            removeElement(element, oldElements[i], oldChildren[i])\n          }\n          i++\n          continue\n        }\n\n        if (newKey == null || isRecycling) {\n          if (oldKey == null) {\n            patch(element, oldElements[i], oldChildren[i], children[k], isSvg)\n            k++\n          }\n          i++\n        } else {\n          var keyedNode = oldKeyed[newKey] || []\n\n          if (oldKey === newKey) {\n            patch(element, keyedNode[0], keyedNode[1], children[k], isSvg)\n            i++\n          } else if (keyedNode[0]) {\n            patch(\n              element,\n              element.insertBefore(keyedNode[0], oldElements[i]),\n              keyedNode[1],\n              children[k],\n              isSvg\n            )\n          } else {\n            patch(element, oldElements[i], null, children[k], isSvg)\n          }\n\n          newKeyed[newKey] = children[k]\n          k++\n        }\n      }\n\n      while (i < oldChildren.length) {\n        if (getKey(oldChildren[i]) == null) {\n          removeElement(element, oldElements[i], oldChildren[i])\n        }\n        i++\n      }\n\n      for (var i in oldKeyed) {\n        if (!newKeyed[i]) {\n          removeElement(element, oldKeyed[i][0], oldKeyed[i][1])\n        }\n      }\n    }\n    return element\n  }\n}\n","/**\n * marked - a markdown parser\n * Copyright (c) 2011-2018, Christopher Jeffrey. (MIT Licensed)\n * https://github.com/markedjs/marked\n */\n\n;(function(root) {\n'use strict';\n\n/**\n * Block-Level Grammar\n */\n\nvar block = {\n  newline: /^\\n+/,\n  code: /^( {4}[^\\n]+\\n*)+/,\n  fences: noop,\n  hr: /^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)/,\n  heading: /^ *(#{1,6}) *([^\\n]+?) *(?:#+ *)?(?:\\n+|$)/,\n  nptable: noop,\n  blockquote: /^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/,\n  list: /^( {0,3})(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?!\\1bull )\\n*|\\s*$)/,\n  html: '^ {0,3}(?:' // optional indentation\n    + '<(script|pre|style)[\\\\s>][\\\\s\\\\S]*?(?:</\\\\1>[^\\\\n]*\\\\n+|$)' // (1)\n    + '|comment[^\\\\n]*(\\\\n+|$)' // (2)\n    + '|<\\\\?[\\\\s\\\\S]*?\\\\?>\\\\n*' // (3)\n    + '|<![A-Z][\\\\s\\\\S]*?>\\\\n*' // (4)\n    + '|<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>\\\\n*' // (5)\n    + '|</?(tag)(?: +|\\\\n|/?>)[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (6)\n    + '|<(?!script|pre|style)([a-z][\\\\w-]*)(?:attribute)*? */?>(?=\\\\h*\\\\n)[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (7) open tag\n    + '|</(?!script|pre|style)[a-z][\\\\w-]*\\\\s*>(?=\\\\h*\\\\n)[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (7) closing tag\n    + ')',\n  def: /^ {0,3}\\[(label)\\]: *\\n? *<?([^\\s>]+)>?(?:(?: +\\n? *| *\\n *)(title))? *(?:\\n+|$)/,\n  table: noop,\n  lheading: /^([^\\n]+)\\n *(=|-){2,} *(?:\\n+|$)/,\n  paragraph: /^([^\\n]+(?:\\n(?!hr|heading|lheading| {0,3}>|<\\/?(?:tag)(?: +|\\n|\\/?>)|<(?:script|pre|style|!--))[^\\n]+)*)/,\n  text: /^[^\\n]+/\n};\n\nblock._label = /(?!\\s*\\])(?:\\\\[\\[\\]]|[^\\[\\]])+/;\nblock._title = /(?:\"(?:\\\\\"?|[^\"\\\\])*\"|'[^'\\n]*(?:\\n[^'\\n]+)*\\n?'|\\([^()]*\\))/;\nblock.def = edit(block.def)\n  .replace('label', block._label)\n  .replace('title', block._title)\n  .getRegex();\n\nblock.bullet = /(?:[*+-]|\\d{1,9}\\.)/;\nblock.item = /^( *)(bull) ?[^\\n]*(?:\\n(?!\\1bull ?)[^\\n]*)*/;\nblock.item = edit(block.item, 'gm')\n  .replace(/bull/g, block.bullet)\n  .getRegex();\n\nblock.list = edit(block.list)\n  .replace(/bull/g, block.bullet)\n  .replace('hr', '\\\\n+(?=\\\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$))')\n  .replace('def', '\\\\n+(?=' + block.def.source + ')')\n  .getRegex();\n\nblock._tag = 'address|article|aside|base|basefont|blockquote|body|caption'\n  + '|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption'\n  + '|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe'\n  + '|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option'\n  + '|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr'\n  + '|track|ul';\nblock._comment = /<!--(?!-?>)[\\s\\S]*?-->/;\nblock.html = edit(block.html, 'i')\n  .replace('comment', block._comment)\n  .replace('tag', block._tag)\n  .replace('attribute', / +[a-zA-Z:_][\\w.:-]*(?: *= *\"[^\"\\n]*\"| *= *'[^'\\n]*'| *= *[^\\s\"'=<>`]+)?/)\n  .getRegex();\n\nblock.paragraph = edit(block.paragraph)\n  .replace('hr', block.hr)\n  .replace('heading', block.heading)\n  .replace('lheading', block.lheading)\n  .replace('tag', block._tag) // pars can be interrupted by type (6) html blocks\n  .getRegex();\n\nblock.blockquote = edit(block.blockquote)\n  .replace('paragraph', block.paragraph)\n  .getRegex();\n\n/**\n * Normal Block Grammar\n */\n\nblock.normal = merge({}, block);\n\n/**\n * GFM Block Grammar\n */\n\nblock.gfm = merge({}, block.normal, {\n  fences: /^ {0,3}(`{3,}|~{3,})([^`\\n]*)\\n(?:|([\\s\\S]*?)\\n)(?: {0,3}\\1[~`]* *(?:\\n+|$)|$)/,\n  paragraph: /^/,\n  heading: /^ *(#{1,6}) +([^\\n]+?) *#* *(?:\\n+|$)/\n});\n\nblock.gfm.paragraph = edit(block.paragraph)\n  .replace('(?!', '(?!'\n    + block.gfm.fences.source.replace('\\\\1', '\\\\2') + '|'\n    + block.list.source.replace('\\\\1', '\\\\3') + '|')\n  .getRegex();\n\n/**\n * GFM + Tables Block Grammar\n */\n\nblock.tables = merge({}, block.gfm, {\n  nptable: /^ *([^|\\n ].*\\|.*)\\n *([-:]+ *\\|[-| :]*)(?:\\n((?:.*[^>\\n ].*(?:\\n|$))*)\\n*|$)/,\n  table: /^ *\\|(.+)\\n *\\|?( *[-:]+[-| :]*)(?:\\n((?: *[^>\\n ].*(?:\\n|$))*)\\n*|$)/\n});\n\n/**\n * Pedantic grammar\n */\n\nblock.pedantic = merge({}, block.normal, {\n  html: edit(\n    '^ *(?:comment *(?:\\\\n|\\\\s*$)'\n    + '|<(tag)[\\\\s\\\\S]+?</\\\\1> *(?:\\\\n{2,}|\\\\s*$)' // closed tag\n    + '|<tag(?:\"[^\"]*\"|\\'[^\\']*\\'|\\\\s[^\\'\"/>\\\\s]*)*?/?> *(?:\\\\n{2,}|\\\\s*$))')\n    .replace('comment', block._comment)\n    .replace(/tag/g, '(?!(?:'\n      + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub'\n      + '|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)'\n      + '\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b')\n    .getRegex(),\n  def: /^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +([\"(][^\\n]+[\")]))? *(?:\\n+|$)/\n});\n\n/**\n * Block Lexer\n */\n\nfunction Lexer(options) {\n  this.tokens = [];\n  this.tokens.links = Object.create(null);\n  this.options = options || marked.defaults;\n  this.rules = block.normal;\n\n  if (this.options.pedantic) {\n    this.rules = block.pedantic;\n  } else if (this.options.gfm) {\n    if (this.options.tables) {\n      this.rules = block.tables;\n    } else {\n      this.rules = block.gfm;\n    }\n  }\n}\n\n/**\n * Expose Block Rules\n */\n\nLexer.rules = block;\n\n/**\n * Static Lex Method\n */\n\nLexer.lex = function(src, options) {\n  var lexer = new Lexer(options);\n  return lexer.lex(src);\n};\n\n/**\n * Preprocessing\n */\n\nLexer.prototype.lex = function(src) {\n  src = src\n    .replace(/\\r\\n|\\r/g, '\\n')\n    .replace(/\\t/g, '    ')\n    .replace(/\\u00a0/g, ' ')\n    .replace(/\\u2424/g, '\\n');\n\n  return this.token(src, true);\n};\n\n/**\n * Lexing\n */\n\nLexer.prototype.token = function(src, top) {\n  src = src.replace(/^ +$/gm, '');\n  var next,\n      loose,\n      cap,\n      bull,\n      b,\n      item,\n      listStart,\n      listItems,\n      t,\n      space,\n      i,\n      tag,\n      l,\n      isordered,\n      istask,\n      ischecked;\n\n  while (src) {\n    // newline\n    if (cap = this.rules.newline.exec(src)) {\n      src = src.substring(cap[0].length);\n      if (cap[0].length > 1) {\n        this.tokens.push({\n          type: 'space'\n        });\n      }\n    }\n\n    // code\n    if (cap = this.rules.code.exec(src)) {\n      src = src.substring(cap[0].length);\n      cap = cap[0].replace(/^ {4}/gm, '');\n      this.tokens.push({\n        type: 'code',\n        text: !this.options.pedantic\n          ? rtrim(cap, '\\n')\n          : cap\n      });\n      continue;\n    }\n\n    // fences (gfm)\n    if (cap = this.rules.fences.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'code',\n        lang: cap[2] ? cap[2].trim() : cap[2],\n        text: cap[3] || ''\n      });\n      continue;\n    }\n\n    // heading\n    if (cap = this.rules.heading.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'heading',\n        depth: cap[1].length,\n        text: cap[2]\n      });\n      continue;\n    }\n\n    // table no leading pipe (gfm)\n    if (top && (cap = this.rules.nptable.exec(src))) {\n      item = {\n        type: 'table',\n        header: splitCells(cap[1].replace(/^ *| *\\| *$/g, '')),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3] ? cap[3].replace(/\\n$/, '').split('\\n') : []\n      };\n\n      if (item.header.length === item.align.length) {\n        src = src.substring(cap[0].length);\n\n        for (i = 0; i < item.align.length; i++) {\n          if (/^ *-+: *$/.test(item.align[i])) {\n            item.align[i] = 'right';\n          } else if (/^ *:-+: *$/.test(item.align[i])) {\n            item.align[i] = 'center';\n          } else if (/^ *:-+ *$/.test(item.align[i])) {\n            item.align[i] = 'left';\n          } else {\n            item.align[i] = null;\n          }\n        }\n\n        for (i = 0; i < item.cells.length; i++) {\n          item.cells[i] = splitCells(item.cells[i], item.header.length);\n        }\n\n        this.tokens.push(item);\n\n        continue;\n      }\n    }\n\n    // hr\n    if (cap = this.rules.hr.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'hr'\n      });\n      continue;\n    }\n\n    // blockquote\n    if (cap = this.rules.blockquote.exec(src)) {\n      src = src.substring(cap[0].length);\n\n      this.tokens.push({\n        type: 'blockquote_start'\n      });\n\n      cap = cap[0].replace(/^ *> ?/gm, '');\n\n      // Pass `top` to keep the current\n      // \"toplevel\" state. This is exactly\n      // how markdown.pl works.\n      this.token(cap, top);\n\n      this.tokens.push({\n        type: 'blockquote_end'\n      });\n\n      continue;\n    }\n\n    // list\n    if (cap = this.rules.list.exec(src)) {\n      src = src.substring(cap[0].length);\n      bull = cap[2];\n      isordered = bull.length > 1;\n\n      listStart = {\n        type: 'list_start',\n        ordered: isordered,\n        start: isordered ? +bull : '',\n        loose: false\n      };\n\n      this.tokens.push(listStart);\n\n      // Get each top-level item.\n      cap = cap[0].match(this.rules.item);\n\n      listItems = [];\n      next = false;\n      l = cap.length;\n      i = 0;\n\n      for (; i < l; i++) {\n        item = cap[i];\n\n        // Remove the list item's bullet\n        // so it is seen as the next token.\n        space = item.length;\n        item = item.replace(/^ *([*+-]|\\d+\\.) */, '');\n\n        // Outdent whatever the\n        // list item contains. Hacky.\n        if (~item.indexOf('\\n ')) {\n          space -= item.length;\n          item = !this.options.pedantic\n            ? item.replace(new RegExp('^ {1,' + space + '}', 'gm'), '')\n            : item.replace(/^ {1,4}/gm, '');\n        }\n\n        // Determine whether the next list item belongs here.\n        // Backpedal if it does not belong in this list.\n        if (i !== l - 1) {\n          b = block.bullet.exec(cap[i + 1])[0];\n          if (bull.length > 1 ? b.length === 1\n            : (b.length > 1 || (this.options.smartLists && b !== bull))) {\n            src = cap.slice(i + 1).join('\\n') + src;\n            i = l - 1;\n          }\n        }\n\n        // Determine whether item is loose or not.\n        // Use: /(^|\\n)(?! )[^\\n]+\\n\\n(?!\\s*$)/\n        // for discount behavior.\n        loose = next || /\\n\\n(?!\\s*$)/.test(item);\n        if (i !== l - 1) {\n          next = item.charAt(item.length - 1) === '\\n';\n          if (!loose) loose = next;\n        }\n\n        if (loose) {\n          listStart.loose = true;\n        }\n\n        // Check for task list items\n        istask = /^\\[[ xX]\\] /.test(item);\n        ischecked = undefined;\n        if (istask) {\n          ischecked = item[1] !== ' ';\n          item = item.replace(/^\\[[ xX]\\] +/, '');\n        }\n\n        t = {\n          type: 'list_item_start',\n          task: istask,\n          checked: ischecked,\n          loose: loose\n        };\n\n        listItems.push(t);\n        this.tokens.push(t);\n\n        // Recurse.\n        this.token(item, false);\n\n        this.tokens.push({\n          type: 'list_item_end'\n        });\n      }\n\n      if (listStart.loose) {\n        l = listItems.length;\n        i = 0;\n        for (; i < l; i++) {\n          listItems[i].loose = true;\n        }\n      }\n\n      this.tokens.push({\n        type: 'list_end'\n      });\n\n      continue;\n    }\n\n    // html\n    if (cap = this.rules.html.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: this.options.sanitize\n          ? 'paragraph'\n          : 'html',\n        pre: !this.options.sanitizer\n          && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),\n        text: cap[0]\n      });\n      continue;\n    }\n\n    // def\n    if (top && (cap = this.rules.def.exec(src))) {\n      src = src.substring(cap[0].length);\n      if (cap[3]) cap[3] = cap[3].substring(1, cap[3].length - 1);\n      tag = cap[1].toLowerCase().replace(/\\s+/g, ' ');\n      if (!this.tokens.links[tag]) {\n        this.tokens.links[tag] = {\n          href: cap[2],\n          title: cap[3]\n        };\n      }\n      continue;\n    }\n\n    // table (gfm)\n    if (top && (cap = this.rules.table.exec(src))) {\n      item = {\n        type: 'table',\n        header: splitCells(cap[1].replace(/^ *| *\\| *$/g, '')),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3] ? cap[3].replace(/(?: *\\| *)?\\n$/, '').split('\\n') : []\n      };\n\n      if (item.header.length === item.align.length) {\n        src = src.substring(cap[0].length);\n\n        for (i = 0; i < item.align.length; i++) {\n          if (/^ *-+: *$/.test(item.align[i])) {\n            item.align[i] = 'right';\n          } else if (/^ *:-+: *$/.test(item.align[i])) {\n            item.align[i] = 'center';\n          } else if (/^ *:-+ *$/.test(item.align[i])) {\n            item.align[i] = 'left';\n          } else {\n            item.align[i] = null;\n          }\n        }\n\n        for (i = 0; i < item.cells.length; i++) {\n          item.cells[i] = splitCells(\n            item.cells[i].replace(/^ *\\| *| *\\| *$/g, ''),\n            item.header.length);\n        }\n\n        this.tokens.push(item);\n\n        continue;\n      }\n    }\n\n    // lheading\n    if (cap = this.rules.lheading.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'heading',\n        depth: cap[2] === '=' ? 1 : 2,\n        text: cap[1]\n      });\n      continue;\n    }\n\n    // top-level paragraph\n    if (top && (cap = this.rules.paragraph.exec(src))) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'paragraph',\n        text: cap[1].charAt(cap[1].length - 1) === '\\n'\n          ? cap[1].slice(0, -1)\n          : cap[1]\n      });\n      continue;\n    }\n\n    // text\n    if (cap = this.rules.text.exec(src)) {\n      // Top-level should never reach here.\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'text',\n        text: cap[0]\n      });\n      continue;\n    }\n\n    if (src) {\n      throw new Error('Infinite loop on byte: ' + src.charCodeAt(0));\n    }\n  }\n\n  return this.tokens;\n};\n\n/**\n * Inline-Level Grammar\n */\n\nvar inline = {\n  escape: /^\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/,\n  autolink: /^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/,\n  url: noop,\n  tag: '^comment'\n    + '|^</[a-zA-Z][\\\\w:-]*\\\\s*>' // self-closing tag\n    + '|^<[a-zA-Z][\\\\w-]*(?:attribute)*?\\\\s*/?>' // open tag\n    + '|^<\\\\?[\\\\s\\\\S]*?\\\\?>' // processing instruction, e.g. <?php ?>\n    + '|^<![a-zA-Z]+\\\\s[\\\\s\\\\S]*?>' // declaration, e.g. <!DOCTYPE html>\n    + '|^<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>', // CDATA section\n  link: /^!?\\[(label)\\]\\(href(?:\\s+(title))?\\s*\\)/,\n  reflink: /^!?\\[(label)\\]\\[(?!\\s*\\])((?:\\\\[\\[\\]]?|[^\\[\\]\\\\])+)\\]/,\n  nolink: /^!?\\[(?!\\s*\\])((?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]|[^\\[\\]])*)\\](?:\\[\\])?/,\n  strong: /^__([^\\s_])__(?!_)|^\\*\\*([^\\s*])\\*\\*(?!\\*)|^__([^\\s][\\s\\S]*?[^\\s])__(?!_)|^\\*\\*([^\\s][\\s\\S]*?[^\\s])\\*\\*(?!\\*)/,\n  em: /^_([^\\s_])_(?!_)|^\\*([^\\s*\"<\\[])\\*(?!\\*)|^_([^\\s][\\s\\S]*?[^\\s_])_(?!_|[^\\spunctuation])|^_([^\\s_][\\s\\S]*?[^\\s])_(?!_|[^\\spunctuation])|^\\*([^\\s\"<\\[][\\s\\S]*?[^\\s*])\\*(?!\\*)|^\\*([^\\s*\"<\\[][\\s\\S]*?[^\\s])\\*(?!\\*)/,\n  code: /^(`+)([^`]|[^`][\\s\\S]*?[^`])\\1(?!`)/,\n  br: /^( {2,}|\\\\)\\n(?!\\s*$)/,\n  del: noop,\n  text: /^(`+|[^`])[\\s\\S]*?(?=[\\\\<!\\[`*]|\\b_| {2,}\\n|$)/\n};\n\n// list of punctuation marks from common mark spec\n// without ` and ] to workaround Rule 17 (inline code blocks/links)\ninline._punctuation = '!\"#$%&\\'()*+,\\\\-./:;<=>?@\\\\[^_{|}~';\ninline.em = edit(inline.em).replace(/punctuation/g, inline._punctuation).getRegex();\n\ninline._escapes = /\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/g;\n\ninline._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;\ninline._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;\ninline.autolink = edit(inline.autolink)\n  .replace('scheme', inline._scheme)\n  .replace('email', inline._email)\n  .getRegex();\n\ninline._attribute = /\\s+[a-zA-Z:_][\\w.:-]*(?:\\s*=\\s*\"[^\"]*\"|\\s*=\\s*'[^']*'|\\s*=\\s*[^\\s\"'=<>`]+)?/;\n\ninline.tag = edit(inline.tag)\n  .replace('comment', block._comment)\n  .replace('attribute', inline._attribute)\n  .getRegex();\n\ninline._label = /(?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]?|`[^`]*`|[^\\[\\]\\\\])*?/;\ninline._href = /\\s*(<(?:\\\\[<>]?|[^\\s<>\\\\])*>|(?:\\\\[()]?|\\([^\\s\\x00-\\x1f\\\\]*\\)|[^\\s\\x00-\\x1f()\\\\])*?)/;\ninline._title = /\"(?:\\\\\"?|[^\"\\\\])*\"|'(?:\\\\'?|[^'\\\\])*'|\\((?:\\\\\\)?|[^)\\\\])*\\)/;\n\ninline.link = edit(inline.link)\n  .replace('label', inline._label)\n  .replace('href', inline._href)\n  .replace('title', inline._title)\n  .getRegex();\n\ninline.reflink = edit(inline.reflink)\n  .replace('label', inline._label)\n  .getRegex();\n\n/**\n * Normal Inline Grammar\n */\n\ninline.normal = merge({}, inline);\n\n/**\n * Pedantic Inline Grammar\n */\n\ninline.pedantic = merge({}, inline.normal, {\n  strong: /^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,\n  em: /^_(?=\\S)([\\s\\S]*?\\S)_(?!_)|^\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)/,\n  link: edit(/^!?\\[(label)\\]\\((.*?)\\)/)\n    .replace('label', inline._label)\n    .getRegex(),\n  reflink: edit(/^!?\\[(label)\\]\\s*\\[([^\\]]*)\\]/)\n    .replace('label', inline._label)\n    .getRegex()\n});\n\n/**\n * GFM Inline Grammar\n */\n\ninline.gfm = merge({}, inline.normal, {\n  escape: edit(inline.escape).replace('])', '~|])').getRegex(),\n  _extended_email: /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,\n  url: /^((?:ftp|https?):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/,\n  _backpedal: /(?:[^?!.,:;*_~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,\n  del: /^~+(?=\\S)([\\s\\S]*?\\S)~+/,\n  text: edit(inline.text)\n    .replace(']|', '~]|')\n    .replace('|$', '|https?://|ftp://|www\\\\.|[a-zA-Z0-9.!#$%&\\'*+/=?^_`{\\\\|}~-]+@|$')\n    .getRegex()\n});\n\ninline.gfm.url = edit(inline.gfm.url, 'i')\n  .replace('email', inline.gfm._extended_email)\n  .getRegex();\n/**\n * GFM + Line Breaks Inline Grammar\n */\n\ninline.breaks = merge({}, inline.gfm, {\n  br: edit(inline.br).replace('{2,}', '*').getRegex(),\n  text: edit(inline.gfm.text).replace('{2,}', '*').getRegex()\n});\n\n/**\n * Inline Lexer & Compiler\n */\n\nfunction InlineLexer(links, options) {\n  this.options = options || marked.defaults;\n  this.links = links;\n  this.rules = inline.normal;\n  this.renderer = this.options.renderer || new Renderer();\n  this.renderer.options = this.options;\n\n  if (!this.links) {\n    throw new Error('Tokens array requires a `links` property.');\n  }\n\n  if (this.options.pedantic) {\n    this.rules = inline.pedantic;\n  } else if (this.options.gfm) {\n    if (this.options.breaks) {\n      this.rules = inline.breaks;\n    } else {\n      this.rules = inline.gfm;\n    }\n  }\n}\n\n/**\n * Expose Inline Rules\n */\n\nInlineLexer.rules = inline;\n\n/**\n * Static Lexing/Compiling Method\n */\n\nInlineLexer.output = function(src, links, options) {\n  var inline = new InlineLexer(links, options);\n  return inline.output(src);\n};\n\n/**\n * Lexing/Compiling\n */\n\nInlineLexer.prototype.output = function(src) {\n  var out = '',\n      link,\n      text,\n      href,\n      title,\n      cap,\n      prevCapZero;\n\n  while (src) {\n    // escape\n    if (cap = this.rules.escape.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += escape(cap[1]);\n      continue;\n    }\n\n    // tag\n    if (cap = this.rules.tag.exec(src)) {\n      if (!this.inLink && /^<a /i.test(cap[0])) {\n        this.inLink = true;\n      } else if (this.inLink && /^<\\/a>/i.test(cap[0])) {\n        this.inLink = false;\n      }\n      if (!this.inRawBlock && /^<(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n        this.inRawBlock = true;\n      } else if (this.inRawBlock && /^<\\/(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n        this.inRawBlock = false;\n      }\n\n      src = src.substring(cap[0].length);\n      out += this.options.sanitize\n        ? this.options.sanitizer\n          ? this.options.sanitizer(cap[0])\n          : escape(cap[0])\n        : cap[0];\n      continue;\n    }\n\n    // link\n    if (cap = this.rules.link.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.inLink = true;\n      href = cap[2];\n      if (this.options.pedantic) {\n        link = /^([^'\"]*[^\\s])\\s+(['\"])(.*)\\2/.exec(href);\n\n        if (link) {\n          href = link[1];\n          title = link[3];\n        } else {\n          title = '';\n        }\n      } else {\n        title = cap[3] ? cap[3].slice(1, -1) : '';\n      }\n      href = href.trim().replace(/^<([\\s\\S]*)>$/, '$1');\n      out += this.outputLink(cap, {\n        href: InlineLexer.escapes(href),\n        title: InlineLexer.escapes(title)\n      });\n      this.inLink = false;\n      continue;\n    }\n\n    // reflink, nolink\n    if ((cap = this.rules.reflink.exec(src))\n        || (cap = this.rules.nolink.exec(src))) {\n      src = src.substring(cap[0].length);\n      link = (cap[2] || cap[1]).replace(/\\s+/g, ' ');\n      link = this.links[link.toLowerCase()];\n      if (!link || !link.href) {\n        out += cap[0].charAt(0);\n        src = cap[0].substring(1) + src;\n        continue;\n      }\n      this.inLink = true;\n      out += this.outputLink(cap, link);\n      this.inLink = false;\n      continue;\n    }\n\n    // strong\n    if (cap = this.rules.strong.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.strong(this.output(cap[4] || cap[3] || cap[2] || cap[1]));\n      continue;\n    }\n\n    // em\n    if (cap = this.rules.em.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.em(this.output(cap[6] || cap[5] || cap[4] || cap[3] || cap[2] || cap[1]));\n      continue;\n    }\n\n    // code\n    if (cap = this.rules.code.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.codespan(escape(cap[2].trim(), true));\n      continue;\n    }\n\n    // br\n    if (cap = this.rules.br.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.br();\n      continue;\n    }\n\n    // del (gfm)\n    if (cap = this.rules.del.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.del(this.output(cap[1]));\n      continue;\n    }\n\n    // autolink\n    if (cap = this.rules.autolink.exec(src)) {\n      src = src.substring(cap[0].length);\n      if (cap[2] === '@') {\n        text = escape(this.mangle(cap[1]));\n        href = 'mailto:' + text;\n      } else {\n        text = escape(cap[1]);\n        href = text;\n      }\n      out += this.renderer.link(href, null, text);\n      continue;\n    }\n\n    // url (gfm)\n    if (!this.inLink && (cap = this.rules.url.exec(src))) {\n      if (cap[2] === '@') {\n        text = escape(cap[0]);\n        href = 'mailto:' + text;\n      } else {\n        // do extended autolink path validation\n        do {\n          prevCapZero = cap[0];\n          cap[0] = this.rules._backpedal.exec(cap[0])[0];\n        } while (prevCapZero !== cap[0]);\n        text = escape(cap[0]);\n        if (cap[1] === 'www.') {\n          href = 'http://' + text;\n        } else {\n          href = text;\n        }\n      }\n      src = src.substring(cap[0].length);\n      out += this.renderer.link(href, null, text);\n      continue;\n    }\n\n    // text\n    if (cap = this.rules.text.exec(src)) {\n      src = src.substring(cap[0].length);\n      if (this.inRawBlock) {\n        out += this.renderer.text(cap[0]);\n      } else {\n        out += this.renderer.text(escape(this.smartypants(cap[0])));\n      }\n      continue;\n    }\n\n    if (src) {\n      throw new Error('Infinite loop on byte: ' + src.charCodeAt(0));\n    }\n  }\n\n  return out;\n};\n\nInlineLexer.escapes = function(text) {\n  return text ? text.replace(InlineLexer.rules._escapes, '$1') : text;\n};\n\n/**\n * Compile Link\n */\n\nInlineLexer.prototype.outputLink = function(cap, link) {\n  var href = link.href,\n      title = link.title ? escape(link.title) : null;\n\n  return cap[0].charAt(0) !== '!'\n    ? this.renderer.link(href, title, this.output(cap[1]))\n    : this.renderer.image(href, title, escape(cap[1]));\n};\n\n/**\n * Smartypants Transformations\n */\n\nInlineLexer.prototype.smartypants = function(text) {\n  if (!this.options.smartypants) return text;\n  return text\n    // em-dashes\n    .replace(/---/g, '\\u2014')\n    // en-dashes\n    .replace(/--/g, '\\u2013')\n    // opening singles\n    .replace(/(^|[-\\u2014/(\\[{\"\\s])'/g, '$1\\u2018')\n    // closing singles & apostrophes\n    .replace(/'/g, '\\u2019')\n    // opening doubles\n    .replace(/(^|[-\\u2014/(\\[{\\u2018\\s])\"/g, '$1\\u201c')\n    // closing doubles\n    .replace(/\"/g, '\\u201d')\n    // ellipses\n    .replace(/\\.{3}/g, '\\u2026');\n};\n\n/**\n * Mangle Links\n */\n\nInlineLexer.prototype.mangle = function(text) {\n  if (!this.options.mangle) return text;\n  var out = '',\n      l = text.length,\n      i = 0,\n      ch;\n\n  for (; i < l; i++) {\n    ch = text.charCodeAt(i);\n    if (Math.random() > 0.5) {\n      ch = 'x' + ch.toString(16);\n    }\n    out += '&#' + ch + ';';\n  }\n\n  return out;\n};\n\n/**\n * Renderer\n */\n\nfunction Renderer(options) {\n  this.options = options || marked.defaults;\n}\n\nRenderer.prototype.code = function(code, infostring, escaped) {\n  var lang = (infostring || '').match(/\\S*/)[0];\n  if (this.options.highlight) {\n    var out = this.options.highlight(code, lang);\n    if (out != null && out !== code) {\n      escaped = true;\n      code = out;\n    }\n  }\n\n  if (!lang) {\n    return '<pre><code>'\n      + (escaped ? code : escape(code, true))\n      + '</code></pre>';\n  }\n\n  return '<pre><code class=\"'\n    + this.options.langPrefix\n    + escape(lang, true)\n    + '\">'\n    + (escaped ? code : escape(code, true))\n    + '</code></pre>\\n';\n};\n\nRenderer.prototype.blockquote = function(quote) {\n  return '<blockquote>\\n' + quote + '</blockquote>\\n';\n};\n\nRenderer.prototype.html = function(html) {\n  return html;\n};\n\nRenderer.prototype.heading = function(text, level, raw, slugger) {\n  if (this.options.headerIds) {\n    return '<h'\n      + level\n      + ' id=\"'\n      + this.options.headerPrefix\n      + slugger.slug(raw)\n      + '\">'\n      + text\n      + '</h'\n      + level\n      + '>\\n';\n  }\n  // ignore IDs\n  return '<h' + level + '>' + text + '</h' + level + '>\\n';\n};\n\nRenderer.prototype.hr = function() {\n  return this.options.xhtml ? '<hr/>\\n' : '<hr>\\n';\n};\n\nRenderer.prototype.list = function(body, ordered, start) {\n  var type = ordered ? 'ol' : 'ul',\n      startatt = (ordered && start !== 1) ? (' start=\"' + start + '\"') : '';\n  return '<' + type + startatt + '>\\n' + body + '</' + type + '>\\n';\n};\n\nRenderer.prototype.listitem = function(text) {\n  return '<li>' + text + '</li>\\n';\n};\n\nRenderer.prototype.checkbox = function(checked) {\n  return '<input '\n    + (checked ? 'checked=\"\" ' : '')\n    + 'disabled=\"\" type=\"checkbox\"'\n    + (this.options.xhtml ? ' /' : '')\n    + '> ';\n};\n\nRenderer.prototype.paragraph = function(text) {\n  return '<p>' + text + '</p>\\n';\n};\n\nRenderer.prototype.table = function(header, body) {\n  if (body) body = '<tbody>' + body + '</tbody>';\n\n  return '<table>\\n'\n    + '<thead>\\n'\n    + header\n    + '</thead>\\n'\n    + body\n    + '</table>\\n';\n};\n\nRenderer.prototype.tablerow = function(content) {\n  return '<tr>\\n' + content + '</tr>\\n';\n};\n\nRenderer.prototype.tablecell = function(content, flags) {\n  var type = flags.header ? 'th' : 'td';\n  var tag = flags.align\n    ? '<' + type + ' align=\"' + flags.align + '\">'\n    : '<' + type + '>';\n  return tag + content + '</' + type + '>\\n';\n};\n\n// span level renderer\nRenderer.prototype.strong = function(text) {\n  return '<strong>' + text + '</strong>';\n};\n\nRenderer.prototype.em = function(text) {\n  return '<em>' + text + '</em>';\n};\n\nRenderer.prototype.codespan = function(text) {\n  return '<code>' + text + '</code>';\n};\n\nRenderer.prototype.br = function() {\n  return this.options.xhtml ? '<br/>' : '<br>';\n};\n\nRenderer.prototype.del = function(text) {\n  return '<del>' + text + '</del>';\n};\n\nRenderer.prototype.link = function(href, title, text) {\n  href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n  if (href === null) {\n    return text;\n  }\n  var out = '<a href=\"' + escape(href) + '\"';\n  if (title) {\n    out += ' title=\"' + title + '\"';\n  }\n  out += '>' + text + '</a>';\n  return out;\n};\n\nRenderer.prototype.image = function(href, title, text) {\n  href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n  if (href === null) {\n    return text;\n  }\n\n  var out = '<img src=\"' + href + '\" alt=\"' + text + '\"';\n  if (title) {\n    out += ' title=\"' + title + '\"';\n  }\n  out += this.options.xhtml ? '/>' : '>';\n  return out;\n};\n\nRenderer.prototype.text = function(text) {\n  return text;\n};\n\n/**\n * TextRenderer\n * returns only the textual part of the token\n */\n\nfunction TextRenderer() {}\n\n// no need for block level renderers\n\nTextRenderer.prototype.strong =\nTextRenderer.prototype.em =\nTextRenderer.prototype.codespan =\nTextRenderer.prototype.del =\nTextRenderer.prototype.text = function (text) {\n  return text;\n};\n\nTextRenderer.prototype.link =\nTextRenderer.prototype.image = function(href, title, text) {\n  return '' + text;\n};\n\nTextRenderer.prototype.br = function() {\n  return '';\n};\n\n/**\n * Parsing & Compiling\n */\n\nfunction Parser(options) {\n  this.tokens = [];\n  this.token = null;\n  this.options = options || marked.defaults;\n  this.options.renderer = this.options.renderer || new Renderer();\n  this.renderer = this.options.renderer;\n  this.renderer.options = this.options;\n  this.slugger = new Slugger();\n}\n\n/**\n * Static Parse Method\n */\n\nParser.parse = function(src, options) {\n  var parser = new Parser(options);\n  return parser.parse(src);\n};\n\n/**\n * Parse Loop\n */\n\nParser.prototype.parse = function(src) {\n  this.inline = new InlineLexer(src.links, this.options);\n  // use an InlineLexer with a TextRenderer to extract pure text\n  this.inlineText = new InlineLexer(\n    src.links,\n    merge({}, this.options, {renderer: new TextRenderer()})\n  );\n  this.tokens = src.reverse();\n\n  var out = '';\n  while (this.next()) {\n    out += this.tok();\n  }\n\n  return out;\n};\n\n/**\n * Next Token\n */\n\nParser.prototype.next = function() {\n  return this.token = this.tokens.pop();\n};\n\n/**\n * Preview Next Token\n */\n\nParser.prototype.peek = function() {\n  return this.tokens[this.tokens.length - 1] || 0;\n};\n\n/**\n * Parse Text Tokens\n */\n\nParser.prototype.parseText = function() {\n  var body = this.token.text;\n\n  while (this.peek().type === 'text') {\n    body += '\\n' + this.next().text;\n  }\n\n  return this.inline.output(body);\n};\n\n/**\n * Parse Current Token\n */\n\nParser.prototype.tok = function() {\n  switch (this.token.type) {\n    case 'space': {\n      return '';\n    }\n    case 'hr': {\n      return this.renderer.hr();\n    }\n    case 'heading': {\n      return this.renderer.heading(\n        this.inline.output(this.token.text),\n        this.token.depth,\n        unescape(this.inlineText.output(this.token.text)),\n        this.slugger);\n    }\n    case 'code': {\n      return this.renderer.code(this.token.text,\n        this.token.lang,\n        this.token.escaped);\n    }\n    case 'table': {\n      var header = '',\n          body = '',\n          i,\n          row,\n          cell,\n          j;\n\n      // header\n      cell = '';\n      for (i = 0; i < this.token.header.length; i++) {\n        cell += this.renderer.tablecell(\n          this.inline.output(this.token.header[i]),\n          { header: true, align: this.token.align[i] }\n        );\n      }\n      header += this.renderer.tablerow(cell);\n\n      for (i = 0; i < this.token.cells.length; i++) {\n        row = this.token.cells[i];\n\n        cell = '';\n        for (j = 0; j < row.length; j++) {\n          cell += this.renderer.tablecell(\n            this.inline.output(row[j]),\n            { header: false, align: this.token.align[j] }\n          );\n        }\n\n        body += this.renderer.tablerow(cell);\n      }\n      return this.renderer.table(header, body);\n    }\n    case 'blockquote_start': {\n      body = '';\n\n      while (this.next().type !== 'blockquote_end') {\n        body += this.tok();\n      }\n\n      return this.renderer.blockquote(body);\n    }\n    case 'list_start': {\n      body = '';\n      var ordered = this.token.ordered,\n          start = this.token.start;\n\n      while (this.next().type !== 'list_end') {\n        body += this.tok();\n      }\n\n      return this.renderer.list(body, ordered, start);\n    }\n    case 'list_item_start': {\n      body = '';\n      var loose = this.token.loose;\n\n      if (this.token.task) {\n        body += this.renderer.checkbox(this.token.checked);\n      }\n\n      while (this.next().type !== 'list_item_end') {\n        body += !loose && this.token.type === 'text'\n          ? this.parseText()\n          : this.tok();\n      }\n\n      return this.renderer.listitem(body);\n    }\n    case 'html': {\n      // TODO parse inline content if parameter markdown=1\n      return this.renderer.html(this.token.text);\n    }\n    case 'paragraph': {\n      return this.renderer.paragraph(this.inline.output(this.token.text));\n    }\n    case 'text': {\n      return this.renderer.paragraph(this.parseText());\n    }\n    default: {\n      var errMsg = 'Token with \"' + this.token.type + '\" type was not found.';\n      if (this.options.silent) {\n        console.log(errMsg);\n      } else {\n        throw new Error(errMsg);\n      }\n    }\n  }\n};\n\n/**\n * Slugger generates header id\n */\n\nfunction Slugger () {\n  this.seen = {};\n}\n\n/**\n * Convert string to unique id\n */\n\nSlugger.prototype.slug = function (value) {\n  var slug = value\n    .toLowerCase()\n    .trim()\n    .replace(/[\\u2000-\\u206F\\u2E00-\\u2E7F\\\\'!\"#$%&()*+,./:;<=>?@[\\]^`{|}~]/g, '')\n    .replace(/\\s/g, '-');\n\n  if (this.seen.hasOwnProperty(slug)) {\n    var originalSlug = slug;\n    do {\n      this.seen[originalSlug]++;\n      slug = originalSlug + '-' + this.seen[originalSlug];\n    } while (this.seen.hasOwnProperty(slug));\n  }\n  this.seen[slug] = 0;\n\n  return slug;\n};\n\n/**\n * Helpers\n */\n\nfunction escape(html, encode) {\n  if (encode) {\n    if (escape.escapeTest.test(html)) {\n      return html.replace(escape.escapeReplace, function (ch) { return escape.replacements[ch]; });\n    }\n  } else {\n    if (escape.escapeTestNoEncode.test(html)) {\n      return html.replace(escape.escapeReplaceNoEncode, function (ch) { return escape.replacements[ch]; });\n    }\n  }\n\n  return html;\n}\n\nescape.escapeTest = /[&<>\"']/;\nescape.escapeReplace = /[&<>\"']/g;\nescape.replacements = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;'\n};\n\nescape.escapeTestNoEncode = /[<>\"']|&(?!#?\\w+;)/;\nescape.escapeReplaceNoEncode = /[<>\"']|&(?!#?\\w+;)/g;\n\nfunction unescape(html) {\n  // explicitly match decimal, hex, and named HTML entities\n  return html.replace(/&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/ig, function(_, n) {\n    n = n.toLowerCase();\n    if (n === 'colon') return ':';\n    if (n.charAt(0) === '#') {\n      return n.charAt(1) === 'x'\n        ? String.fromCharCode(parseInt(n.substring(2), 16))\n        : String.fromCharCode(+n.substring(1));\n    }\n    return '';\n  });\n}\n\nfunction edit(regex, opt) {\n  regex = regex.source || regex;\n  opt = opt || '';\n  return {\n    replace: function(name, val) {\n      val = val.source || val;\n      val = val.replace(/(^|[^\\[])\\^/g, '$1');\n      regex = regex.replace(name, val);\n      return this;\n    },\n    getRegex: function() {\n      return new RegExp(regex, opt);\n    }\n  };\n}\n\nfunction cleanUrl(sanitize, base, href) {\n  if (sanitize) {\n    try {\n      var prot = decodeURIComponent(unescape(href))\n        .replace(/[^\\w:]/g, '')\n        .toLowerCase();\n    } catch (e) {\n      return null;\n    }\n    if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {\n      return null;\n    }\n  }\n  if (base && !originIndependentUrl.test(href)) {\n    href = resolveUrl(base, href);\n  }\n  try {\n    href = encodeURI(href).replace(/%25/g, '%');\n  } catch (e) {\n    return null;\n  }\n  return href;\n}\n\nfunction resolveUrl(base, href) {\n  if (!baseUrls[' ' + base]) {\n    // we can ignore everything in base after the last slash of its path component,\n    // but we might need to add _that_\n    // https://tools.ietf.org/html/rfc3986#section-3\n    if (/^[^:]+:\\/*[^/]*$/.test(base)) {\n      baseUrls[' ' + base] = base + '/';\n    } else {\n      baseUrls[' ' + base] = rtrim(base, '/', true);\n    }\n  }\n  base = baseUrls[' ' + base];\n\n  if (href.slice(0, 2) === '//') {\n    return base.replace(/:[\\s\\S]*/, ':') + href;\n  } else if (href.charAt(0) === '/') {\n    return base.replace(/(:\\/*[^/]*)[\\s\\S]*/, '$1') + href;\n  } else {\n    return base + href;\n  }\n}\nvar baseUrls = {};\nvar originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;\n\nfunction noop() {}\nnoop.exec = noop;\n\nfunction merge(obj) {\n  var i = 1,\n      target,\n      key;\n\n  for (; i < arguments.length; i++) {\n    target = arguments[i];\n    for (key in target) {\n      if (Object.prototype.hasOwnProperty.call(target, key)) {\n        obj[key] = target[key];\n      }\n    }\n  }\n\n  return obj;\n}\n\nfunction splitCells(tableRow, count) {\n  // ensure that every cell-delimiting pipe has a space\n  // before it to distinguish it from an escaped pipe\n  var row = tableRow.replace(/\\|/g, function (match, offset, str) {\n        var escaped = false,\n            curr = offset;\n        while (--curr >= 0 && str[curr] === '\\\\') escaped = !escaped;\n        if (escaped) {\n          // odd number of slashes means | is escaped\n          // so we leave it alone\n          return '|';\n        } else {\n          // add space before unescaped |\n          return ' |';\n        }\n      }),\n      cells = row.split(/ \\|/),\n      i = 0;\n\n  if (cells.length > count) {\n    cells.splice(count);\n  } else {\n    while (cells.length < count) cells.push('');\n  }\n\n  for (; i < cells.length; i++) {\n    // leading or trailing whitespace is ignored per the gfm spec\n    cells[i] = cells[i].trim().replace(/\\\\\\|/g, '|');\n  }\n  return cells;\n}\n\n// Remove trailing 'c's. Equivalent to str.replace(/c*$/, '').\n// /c*$/ is vulnerable to REDOS.\n// invert: Remove suffix of non-c chars instead. Default falsey.\nfunction rtrim(str, c, invert) {\n  if (str.length === 0) {\n    return '';\n  }\n\n  // Length of suffix matching the invert condition.\n  var suffLen = 0;\n\n  // Step left until we fail to match the invert condition.\n  while (suffLen < str.length) {\n    var currChar = str.charAt(str.length - suffLen - 1);\n    if (currChar === c && !invert) {\n      suffLen++;\n    } else if (currChar !== c && invert) {\n      suffLen++;\n    } else {\n      break;\n    }\n  }\n\n  return str.substr(0, str.length - suffLen);\n}\n\n/**\n * Marked\n */\n\nfunction marked(src, opt, callback) {\n  // throw error in case of non string input\n  if (typeof src === 'undefined' || src === null) {\n    throw new Error('marked(): input parameter is undefined or null');\n  }\n  if (typeof src !== 'string') {\n    throw new Error('marked(): input parameter is of type '\n      + Object.prototype.toString.call(src) + ', string expected');\n  }\n\n  if (callback || typeof opt === 'function') {\n    if (!callback) {\n      callback = opt;\n      opt = null;\n    }\n\n    opt = merge({}, marked.defaults, opt || {});\n\n    var highlight = opt.highlight,\n        tokens,\n        pending,\n        i = 0;\n\n    try {\n      tokens = Lexer.lex(src, opt);\n    } catch (e) {\n      return callback(e);\n    }\n\n    pending = tokens.length;\n\n    var done = function(err) {\n      if (err) {\n        opt.highlight = highlight;\n        return callback(err);\n      }\n\n      var out;\n\n      try {\n        out = Parser.parse(tokens, opt);\n      } catch (e) {\n        err = e;\n      }\n\n      opt.highlight = highlight;\n\n      return err\n        ? callback(err)\n        : callback(null, out);\n    };\n\n    if (!highlight || highlight.length < 3) {\n      return done();\n    }\n\n    delete opt.highlight;\n\n    if (!pending) return done();\n\n    for (; i < tokens.length; i++) {\n      (function(token) {\n        if (token.type !== 'code') {\n          return --pending || done();\n        }\n        return highlight(token.text, token.lang, function(err, code) {\n          if (err) return done(err);\n          if (code == null || code === token.text) {\n            return --pending || done();\n          }\n          token.text = code;\n          token.escaped = true;\n          --pending || done();\n        });\n      })(tokens[i]);\n    }\n\n    return;\n  }\n  try {\n    if (opt) opt = merge({}, marked.defaults, opt);\n    return Parser.parse(Lexer.lex(src, opt), opt);\n  } catch (e) {\n    e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n    if ((opt || marked.defaults).silent) {\n      return '<p>An error occurred:</p><pre>'\n        + escape(e.message + '', true)\n        + '</pre>';\n    }\n    throw e;\n  }\n}\n\n/**\n * Options\n */\n\nmarked.options =\nmarked.setOptions = function(opt) {\n  merge(marked.defaults, opt);\n  return marked;\n};\n\nmarked.getDefaults = function () {\n  return {\n    baseUrl: null,\n    breaks: false,\n    gfm: true,\n    headerIds: true,\n    headerPrefix: '',\n    highlight: null,\n    langPrefix: 'language-',\n    mangle: true,\n    pedantic: false,\n    renderer: new Renderer(),\n    sanitize: false,\n    sanitizer: null,\n    silent: false,\n    smartLists: false,\n    smartypants: false,\n    tables: true,\n    xhtml: false\n  };\n};\n\nmarked.defaults = marked.getDefaults();\n\n/**\n * Expose\n */\n\nmarked.Parser = Parser;\nmarked.parser = Parser.parse;\n\nmarked.Renderer = Renderer;\nmarked.TextRenderer = TextRenderer;\n\nmarked.Lexer = Lexer;\nmarked.lexer = Lexer.lex;\n\nmarked.InlineLexer = InlineLexer;\nmarked.inlineLexer = InlineLexer.output;\n\nmarked.Slugger = Slugger;\n\nmarked.parse = marked;\n\nif (typeof module !== 'undefined' && typeof exports === 'object') {\n  module.exports = marked;\n} else if (typeof define === 'function' && define.amd) {\n  define(function() { return marked; });\n} else {\n  root.marked = marked;\n}\n})(this || (typeof window !== 'undefined' ? window : global));\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","module.exports = OSjs;"],"sourceRoot":""}