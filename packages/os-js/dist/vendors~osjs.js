(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["vendors~osjs"],{

/***/ "./node_modules/@osjs/client/dist/main.js":
/*!************************************************!*\
  !*** ./node_modules/@osjs/client/dist/main.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

!function(e,t){ true?module.exports=t():undefined}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=23)}([function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){var r=n(16),o=n(9);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?o(e):t}},function(e,t,n){var r=n(19);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){(function(t){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){e.exports=n(3)},function(e,t,n){"use strict";n.r(t),n.d(t,"EventEmitter",function(){return c});var r=n(0),o=n.n(r),i=n(1),s=n.n(i),a=function(e){return e instanceof Array?e:String(e).replace(/\s+/g,"").split(",")},c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined";o()(this,e),this.name=t,this.events={}}return s()(e,[{key:"destroy",value:function(){this.events={}}},{key:"on",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r=r||{},"function"!=typeof t)throw new TypeError("Invalid callback");return a(e).forEach(function(e){n.events[e]||(n.events[e]=[]),n.events[e].push({callback:t,options:r})}),this}},{key:"once",value:function(e,t){return this.on(e,t,{once:!0})}},{key:"off",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a(e).filter(function(e){return!!t.events[e]}).forEach(function(e){if(n)for(var o=t.events[e].length;o--;){var i=t.events[e][o];(!i.options.persist||r)&&i.callback===n&&t.events[e].splice(o,1)}else t.events[e]=r?[]:t.events[e].filter(function(e){return!0!==e.options.persist})}),this}},{key:"emit",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return a(e).forEach(function(e){if(t.events[e])for(var n=t.events[e].length;n--;){var o=t.events[e][n],i=o.options,s=o.callback;try{s.apply(void 0,r)}catch(e){console.warn(e)}i&&i.once&&t.events[e].splice(n,1)}}),this}}]),e}()}])}).call(this,n(20))},function(e,t,n){var r=n(25),o=n(26),i=n(27);e.exports=function(e){return r(e)||o(e)||i()}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){(function(e){!function(e,t){for(var n in t)e[n]=t[n]}(t,function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=13)}([function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){e.exports=n(3)},function(e,t,n){"use strict";n.r(t),n.d(t,"EventEmitter",function(){return c});var r=n(0),o=n.n(r),i=n(1),s=n.n(i),a=function(e){return e instanceof Array?e:String(e).replace(/\s+/g,"").split(",")},c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined";o()(this,e),this.name=t,this.events={}}return s()(e,[{key:"destroy",value:function(){this.events={}}},{key:"on",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r=r||{},"function"!=typeof t)throw new TypeError("Invalid callback");return a(e).forEach(function(e){n.events[e]||(n.events[e]=[]),n.events[e].push({callback:t,options:r})}),this}},{key:"off",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a(e).filter(function(e){return!!t.events[e]}).forEach(function(e){if(n)for(var o=t.events[e].length;o--;){var i=t.events[e][o];(!i.options.persist||r)&&i.callback===n&&t.events[e].splice(o,1)}else t.events[e]=r?[]:t.events[e].filter(function(e){return!0!==e.options.persist})}),this}},{key:"emit",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return a(e).forEach(function(e){t.events[e]&&t.events[e].forEach(function(e){return e.callback.apply(void 0,r)})}),this}}]),e}()}])},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(17))},function(e,t,n){e.exports=n(26)},function(e,t,n){"use strict";
/*!
   * isobject <https://github.com/jonschlinkert/isobject>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   */e.exports=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)}},function(e,t,n){var r=n(14),o=n(4);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?o(e):t}},function(e,t,n){n(0);var r=n(15);function o(t,n,i){return"undefined"!=typeof Reflect&&Reflect.get?e.exports=o=Reflect.get:e.exports=o=function(e,t,n){var o=r(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}},o(t,n,i||t)}e.exports=o},function(e,t,n){var r=n(16);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){"use strict";var r=n(19),o=n(20);e.exports=function e(t,n){if(void 0===t)return{};if(Array.isArray(t)){for(var i=0;i<t.length;i++)t[i]=e(t[i],n);return t}if(!r(t))return t;if("string"==typeof n&&(n=[n]),!Array.isArray(n))return t;for(var s=0;s<n.length;s++)o(t,n[s]);for(var a in t)t.hasOwnProperty(a)&&(t[a]=e(t[a],n));return t}},function(e,t){function n(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise(function(o,i){var s=e.apply(t,r);function a(e){n(s,o,i,a,c,"next",e)}function c(e){n(s,o,i,a,c,"throw",e)}a(void 0)})}}},function(e,t,n){e.exports=n(28)},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=r=function(e){return n(e)}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(t)}e.exports=r},function(e,t,n){var r=n(0);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(18),o=function(){function e(){this.nodes={},this.outgoingEdges={},this.incomingEdges={}}return e.prototype.addNode=function(e){if(this.hasNode(e.name))throw new Error('A node with the name of "'+e.name+'" already exists in the graph!');this.nodes[e.name]=e,this.outgoingEdges[e.name]=[],this.incomingEdges[e.name]=[]},e.prototype.removeNode=function(e){if(!this.hasNode(e))throw new Error('A node with the name of "'+e+'" does not exist in the graph!');for(var t in delete this.nodes[e],delete this.outgoingEdges[e],delete this.incomingEdges[e],this.incomingEdges)this.incomingEdges[t].includes(e)&&this.incomingEdges[t].splice(t.indexOf(e),1);for(var n in this.outgoingEdges)this.outgoingEdges[n].includes(e)&&this.outgoingEdges[n].splice(n.indexOf(e),1)},e.prototype.hasNode=function(e){return this.nodes.hasOwnProperty(e)},Object.defineProperty(e.prototype,"size",{get:function(){return Object.keys(this.nodes).length},enumerable:!0,configurable:!0}),e.prototype.getNode=function(e){if(this.hasNode(e))return this.nodes[e];throw new Error('Node "'+e+'" not found!')},e.prototype.addDependency=function(e,t){if(!this.hasNode(e))throw new Error("Node does not exist: "+e);if(!this.hasNode(t))throw new Error("Node does not exist: "+t);if(e===t)throw new Error("Cannot add self dependency: "+t);this.outgoingEdges[e].includes(t)||this.outgoingEdges[e].push(t),this.incomingEdges[t].includes(e)||this.incomingEdges[t].push(e)},e.prototype.removeDependency=function(e,t){},e.prototype.dependenciesOf=function(e){return this.outgoingEdges[e]},e.prototype.dependentsOf=function(e){return this.incomingEdges[e]},e.prototype.traverse=function(){var e=this;Object.keys(this.nodes).map(function(t){return e.getNode(t).clearMutex()});var t=function(n){return Promise.all(e.dependenciesOf(n.name).map(function(t){return e.nodes[t].awaitData()})).then(function(){return n.signalDependenciesReady(),e.dependentsOf(n.name).length>0?Promise.all(e.dependentsOf(n.name).map(function(n){return t(e.getNode(n))})):n.awaitData()})},n=Object.keys(this.nodes).filter(function(t){return 0===e.dependenciesOf(t).length});if(0===n.length)throw new Error("Cannot traverse graph due to no root node. The graph may be circular");return Promise.all(n.map(function(n){return t(e.nodes[n])}))},e.prototype.clearNodeAndDependents=function(e){var t=this,n=this.getNode(e),r=function(e){return e.hasData()?(e.clearData(),Promise.all(t.dependentsOf(e.name).map(function(e){return r(t.getNode(e))}))):Promise.resolve()};return r(n)},e.prototype.reset=function(){for(var e in this.nodes)this.nodes[e].reset()},e.prototype.ls=function(){for(var e in this.nodes)console.log(e),console.log(this.dependentsOf(e))},e}();t.Graph=o;var i=function(){function e(e,t){this.locked=!1,this._name=e,this._promise=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),e.prototype.awaitData=function(){var e=this;return this.mutex||(this.mutex=new r.Mutex(function(){return void 0!==e._data})),new Promise(function(t,n){e.mutex.await(function(r){if(r)return n(r);t(e._data)})})},e.prototype.signalDependenciesReady=function(){var e=this;if(this.mutex||(this.mutex=new r.Mutex(function(){return void 0!==e._data})),void 0===this._data){if(!0===this.locked)return;this.locked=!0;var t=this._promise();if(void 0===t)throw new Error('Node "'+this._name+'" has undefined promise.');t.then(function(t){e._data=t,e.locked=!1,e.mutex.ready()}).catch(function(t){e._data=null,e.locked=!1,e.mutex.ready(t)})}else this.mutex.ready()},e.prototype.setData=function(e){this._data=e,this.signalDependenciesReady()},e.prototype.reset=function(){this.clearData(),this.clearMutex()},e.prototype.clearMutex=function(){this.hasData()&&(this.mutex=void 0)},e.prototype.hasData=function(){return void 0!==this._data},e.prototype.clearData=function(){this._data=void 0},e}();t.Node=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.readyTest=e}return e.prototype.await=function(e){!0===this.readyTest()?e():(this.waiting=this.waiting||[],this.waiting.push(e))},e.prototype.ready=function(e){this.waiting&&this.waiting.forEach(function(t){return t(e)}),delete this.waiting},e}();t.Mutex=r},function(e,t,n){"use strict";
/*!
   * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   */var r=n(7);function o(e){return!0===r(e)&&"[object Object]"===Object.prototype.toString.call(e)}e.exports=function(e){var t,n;return!1!==o(e)&&"function"==typeof(t=e.constructor)&&!1!==o(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")}},function(e,t,n){"use strict";
/*!
   * unset-value <https://github.com/jonschlinkert/unset-value>
   *
   * Copyright (c) 2015, 2017, Jon Schlinkert.
   * Released under the MIT License.
   */var r=n(7),o=n(21);e.exports=function(e,t){if(!r(e))throw new TypeError("expected an object.");if(e.hasOwnProperty(t))return delete e[t],!0;if(o(e,t)){for(var n=t.split("."),i=n.pop();n.length&&"\\"===n[n.length-1].slice(-1);)i=n.pop().slice(0,-1)+"."+i;for(;n.length;)e=e[t=n.shift()];return delete e[i]}return!0}},function(e,t,n){"use strict";
/*!
   * has-value <https://github.com/jonschlinkert/has-value>
   *
   * Copyright (c) 2014-2016, Jon Schlinkert.
   * Licensed under the MIT License.
   */var r=n(22),o=n(24),i=n(25);e.exports=function(e,t,n){return r(e)?o(i(e,t),n):o(e,t)}},function(e,t,n){"use strict";
/*!
   * isobject <https://github.com/jonschlinkert/isobject>
   *
   * Copyright (c) 2014-2015, Jon Schlinkert.
   * Licensed under the MIT License.
   */var r=n(23);e.exports=function(e){return null!=e&&"object"==typeof e&&!1===r(e)}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";
/*!
   * has-values <https://github.com/jonschlinkert/has-values>
   *
   * Copyright (c) 2014-2015, Jon Schlinkert.
   * Licensed under the MIT License.
   */e.exports=function(e,t){if(null==e)return!1;if("boolean"==typeof e)return!0;if("number"==typeof e)return 0!==e||!0!==t;if(void 0!==e.length)return 0!==e.length;for(var n in e)if(e.hasOwnProperty(n))return!0;return!1}},function(e,t){function n(e){return e?Array.isArray(e)?e.join("."):e:""}
/*!
   * get-value <https://github.com/jonschlinkert/get-value>
   *
   * Copyright (c) 2014-2015, Jon Schlinkert.
   * Licensed under the MIT License.
   */e.exports=function(e,t,r,o,i){if(!function(e){return null!==e&&("object"==typeof e||"function"==typeof e)}(e)||!t)return e;if(t=n(t),r&&(t+="."+n(r)),o&&(t+="."+n(o)),i&&(t+="."+n(i)),t in e)return e[t];for(var s=t.split("."),a=s.length,c=-1;e&&++c<a;){for(var u=s[c];"\\"===u[u.length-1];)u=u.slice(0,-1)+"."+s[++c];e=e[u]}return e}},function(e,t,n){var r=function(){return this||"object"==typeof self&&self}()||Function("return this")(),o=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,i=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(27),o)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";var n,r=Object.prototype,o=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag",u="object"==typeof e,l=t.regeneratorRuntime;if(l)u&&(e.exports=l);else{(l=t.regeneratorRuntime=u?e.exports:{}).wrap=y;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",m={},v={};v[s]=function(){return this};var L=Object.getPrototypeOf,g=L&&L(L(j([])));g&&g!==r&&o.call(g,s)&&(v=g);var _=A.prototype=O.prototype=Object.create(v);b.prototype=_.constructor=A,A.constructor=b,A[c]=b.displayName="GeneratorFunction",l.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},l.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,A):(e.__proto__=A,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(_),e},l.awrap=function(e){return{__await:e}},w(T.prototype),T.prototype[a]=function(){return this},l.AsyncIterator=T,l.async=function(e,t,n,r){var o=new T(y(e,t,n,r));return l.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},w(_),_[c]="Generator",_[s]=function(){return this},_.toString=function(){return"[object Generator]"},l.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},l.values=j,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,o){return a.type="throw",a.arg=e,t.next=r,o&&(t.method="next",t.arg=n),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var c=o.call(s,"catchLoc"),u=o.call(s,"finallyLoc");if(c&&u){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:j(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),m}}}function y(e,t,n,r){var o=t&&t.prototype instanceof O?t:O,i=Object.create(o.prototype),s=new N(r||[]);return i._invoke=function(e,t,n){var r=f;return function(o,i){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var a=S(s,n);if(a){if(a===m)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var c=E(e,t,n);if("normal"===c.type){if(r=n.done?p:d,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=p,n.method="throw",n.arg=c.arg)}}}(e,n,s),i}function E(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function O(){}function b(){}function A(){}function w(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function T(e){var t;this._invoke=function(n,r){function i(){return new Promise(function(t,i){!function t(n,r,i,s){var a=E(e[n],e,r);if("throw"!==a.type){var c=a.arg,u=c.value;return u&&"object"==typeof u&&o.call(u,"__await")?Promise.resolve(u.__await).then(function(e){t("next",e,i,s)},function(e){t("throw",e,i,s)}):Promise.resolve(u).then(function(e){c.value=e,i(c)},function(e){return t("throw",e,i,s)})}s(a.arg)}(n,r,t,i)})}return t=t?t.then(i,i):i()}}function S(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,S(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var o=E(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,m;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,m):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function B(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(B,this),this.reset(!0)}function j(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(o.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:n,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(e,t,n){"use strict";n.r(t);var r=n(2),o=n.n(r),i=n(3),s=n.n(i),a=n(8),c=n.n(a),u=n(0),l=n.n(u),f=n(9),d=n.n(f),h=n(10),p=n.n(h),m=n(4),v=n.n(m),L=n(5),g=function(e){var t={},n=[],r=[],o=function(e,t){var n=new L.Graph,r=e.map(function(e){return"function"==typeof e.provider.provides?e.provider.provides():[]});return e.forEach(function(e,r){n.addNode(new L.Node(String(r),function(){try{return Promise.resolve(e.provider[t]())}catch(e){return Promise.reject(e)}}))}),e.forEach(function(e,t){if(e.options.depends instanceof Array){var o=function(e){return r.findIndex(function(t){return t.some(function(t){return-1!==e.indexOf(t)})})}(e.options.depends);-1!==o&&n.addDependency(String(t),String(o))}}),n.traverse().catch(function(e){return console.warn(e)})};return{register:function(t,r){try{n.push({provider:new t(e,r.args),options:r})}catch(e){console.error("Provider register error",e)}},init:function(e){return function(e){return o(e,"init").then(function(){return o(e,"start")})}(e?n.filter(function(e){return e.options.before}):n.filter(function(e){return!e.options.before}))},bind:function(t,n,o){e.logger.info("Provider binding",t),r.push({singleton:n,name:t,make:function(){return o.apply(void 0,arguments)}})},has:function(e){return-1!==r.findIndex(function(t){return t.name===e})},make:function(e){var n=r.find(function(t){return t.name===e});if(!n)throw new Error("Provider '".concat(e,"' not found"));for(var o=arguments.length,i=new Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];return n.singleton?(t[e]||n&&(t[e]=n.make.apply(n,i)),t[e]):n.make.apply(n,i)},destroy:function(){var e;e=n,Promise.all(e.map(function(e){try{return e.provider.destroy()}catch(e){return Promise.reject(e)}})).catch(function(e){return console.warn(e)}),t={},r=[]}}},_=n(1),y=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===E}(e)}(e)},E="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function O(e,t){return!1!==t.clone&&t.isMergeableObject(e)?A(function(e){return Array.isArray(e)?[]:{}}(e),e,t):e}function b(e,t,n){return e.concat(t).map(function(e){return O(e,n)})}function A(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||b,n.isMergeableObject=n.isMergeableObject||y;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):function(e,t,n){var r={};return n.isMergeableObject(e)&&Object.keys(e).forEach(function(t){r[t]=O(e[t],n)}),Object.keys(t).forEach(function(o){n.isMergeableObject(t[o])&&e[o]?r[o]=A(e[o],t[o],n):r[o]=O(t[o],n)}),r}(e,t,n):O(t,n)}A.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(e,n){return A(e,n,t)},{})};var w=A,T=n(11),S=n.n(T),B=function(e){function t(e,n,r){var i;o()(this,t),i=c()(this,l()(t).call(this,"Core"));var s=w.default?w.default:w,a=S()(e,r.omit||[]);return i.logger=console,i.configuration=s(a,n),i.options=r,i.booted=!1,i.started=!1,i.destroyed=!1,i.providers=g(v()(v()(i))),i}return p()(t,e),s()(t,[{key:"destroy",value:function(){return!this.destroyed&&(this.booted=!1,this.destroyed=!0,this.started=!1,this.providers.destroy(),d()(l()(t.prototype),"destroy",this).call(this),!0)}},{key:"boot",value:function(){return this.booted?Promise.resolve(!0):(this.started=!1,this.destroyed=!1,this.booted=!0,this.providers.init(!0).then(function(){return!0}))}},{key:"start",value:function(){return this.started?Promise.resolve(!0):(this.started=!0,this.providers.init(!1).then(function(){return!0}))}},{key:"config",value:function(e,t){return e?function(e,t,n){var r;try{r=t.split(/\./g).reduce(function(e,t){return e[t]},Object.assign({},e))}catch(e){}return void 0===r?n:r}(this.configuration,e,t):Object.assign({},this.configuration)}},{key:"register",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.providers.register(e,t)}},{key:"instance",value:function(e,t){this.providers.bind(e,!1,t)}},{key:"singleton",value:function(e,t){this.providers.bind(e,!0,t)}},{key:"make",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return(t=this.providers).make.apply(t,[e].concat(r))}},{key:"has",value:function(e){return this.providers.has(e)}}]),t}(_.EventEmitter),k=n(6),N=n.n(k),j=n(12),P=n.n(j),R=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o()(this,e),this.core=t,this.options=n}return s()(e,[{key:"provides",value:function(){return[]}},{key:"init",value:function(){var e=P()(N.a.mark(function e(){return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"start",value:function(){}},{key:"destroy",value:function(){}}]),e}();n.d(t,"CoreBase",function(){return B}),n.d(t,"ServiceProvider",function(){return R}),n.d(t,"EventEmitter",function(){return _.EventHandler})}]))}).call(this,n(20))},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){n(2);var r=n(28);function o(t,n,i){return"undefined"!=typeof Reflect&&Reflect.get?e.exports=o=Reflect.get:e.exports=o=function(e,t,n){var o=r(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}},o(t,n,i||t)}e.exports=o},function(e,t,n){var r=n(29),o=n(30),i=n(31);e.exports=function(e,t){return r(e)||o(e,t)||i()}},function(e,t,n){e.exports=function(){"use strict";var e=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var n=Object.prototype.toString.call(e);return"[object RegExp]"===n||"[object Date]"===n||function(e){return e.$$typeof===t}(e)}(e)},t="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function n(e,t){return!1!==t.clone&&t.isMergeableObject(e)?o((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function r(e,t,r){return e.concat(t).map(function(e){return n(e,r)})}function o(t,i,s){(s=s||{}).arrayMerge=s.arrayMerge||r,s.isMergeableObject=s.isMergeableObject||e;var a=Array.isArray(i),c=Array.isArray(t),u=a===c;return u?a?s.arrayMerge(t,i,s):function(e,t,r){var i={};return r.isMergeableObject(e)&&Object.keys(e).forEach(function(t){i[t]=n(e[t],r)}),Object.keys(t).forEach(function(s){r.isMergeableObject(t[s])&&e[s]?i[s]=o(e[s],t[s],r):i[s]=n(t[s],r)}),i}(t,i,s):n(i,s)}return o.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(e,n){return o(e,n,t)},{})},o}()},function(e,t,n){e.exports=n(33)},function(e,t,n){var r=n(19);function o(t,n,i){return!function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?e.exports=o=function(e,t,n){var o=[null];o.push.apply(o,t);var i=new(Function.bind.apply(e,o));return n&&r(i,n.prototype),i}:e.exports=o=Reflect.construct,o.apply(null,arguments)}e.exports=o},function(e,t,n){e.exports=n.p+"881c86876af63b732063d7bdd51bb226.png"},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=r=function(e){return n(e)}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(t)}e.exports=r},function(e,t){function n(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise(function(o,i){var s=e.apply(t,r);function a(e){n(s,o,i,a,c,"next",e)}function c(e){n(s,o,i,a,c,"throw",e)}a(void 0)})}}},function(e,t,n){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=r=function(e){return n(e)}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(t)}e.exports=r},function(e,t,n){var r=n(5),o=n(6),i=n(7);e.exports=function(e,t){return r(e)||o(e,t)||i()}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){e.exports=n(4)},function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),i=n(2),s=n.n(i),a=n(0),c=n.n(a),u=function(e){return void 0===e?e:JSON.parse(JSON.stringify(e))},l=function(e){return e.split(/\./g)},f=function(e){return null==e},d=function(e){return!!e&&"object"===c()(e)&&!Array.isArray(e)},h=function e(t,n){if(d(t)&&d(n)){for(var r in n)d(n[r])?(t[r]&&c()(t[r])===c()(n[r])||Object.assign(t,s()({},r,{})),e(t[r],n[r])):Object.assign(t,s()({},r,n[r]));return t}return n},p=function(e,t,n){if(f(t))return e;var r;try{r=l(t).reduce(function(e,t){return e[t]},Object.assign({},e))}catch(e){}return void 0===r?n:r},m=function(e,t,n){var r=l(t),o=r.length;if(n)for(var i=e,s=0;s<o;s++){var a=r[s];void 0===i[a]&&(i[a]={}),i=i[a]}var c=1===o?r[0]:r.pop();return[1===o?e:p(e,r.join(".")),c]};t.default=function(e){var t,n=function(e){return t=u(e)};return n(e),{get:function(e,n){return u(p(t,e,n))},set:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return u(function(e,t,n,r){if(!1!==r.parse)try{n=void 0===n?n:JSON.parse(n)}catch(e){}if(f(t)){var i=!1!==r.merge?h(e,n):n;return Object.assign(e,i)}var s=m(e,t,!0),a=o()(s,2),c=a[0],u=a[1];f(c[u])&&(c[u]={});var l=!1!==r.merge?h(c[u],n):n;return c[u]=l,l}(t,e,n,r))},push:function(e,n){return u(function(e,t,n){var r=p(e,t);if(!Array.isArray(r))throw new Error("The key '".concat(t,"' is not an array"));return r.push(n),r}(t,e,n))},remove:function(e){return u(function(e,t){var n=m(e,t),r=o()(n,2),i=r[0],s=r[1];return void 0!==i[s]&&(i instanceof Array?i.splice(i.indexOf(i[s]),1):delete i[s]),i}(t,e))},reset:function(t){return u(n(t||e))},toString:function(){return JSON.stringify(t)}}}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}}])},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r;!function(o){"use strict";var i,s,a,c=(i=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,s=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,a=/[^-+\dA-Z]/g,function(e,t,n,r){if(1!==arguments.length||"string"!==(null===(o=e)?"null":void 0===o?"undefined":"object"!=typeof o?typeof o:Array.isArray(o)?"array":{}.toString.call(o).slice(8,-1).toLowerCase())||/\d/.test(e)||(t=e,e=void 0),(e=e||new Date)instanceof Date||(e=new Date(e)),isNaN(e))throw TypeError("Invalid date");var o,l=(t=String(c.masks[t]||t||c.masks.default)).slice(0,4);"UTC:"!==l&&"GMT:"!==l||(t=t.slice(4),n=!0,"GMT:"===l&&(r=!0));var f=n?"getUTC":"get",d=e[f+"Date"](),h=e[f+"Day"](),p=e[f+"Month"](),m=e[f+"FullYear"](),v=e[f+"Hours"](),L=e[f+"Minutes"](),g=e[f+"Seconds"](),_=e[f+"Milliseconds"](),y=n?0:e.getTimezoneOffset(),E=function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var r=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-r);var o=(t-n)/6048e5;return 1+Math.floor(o)}(e),O=function(e){var t=e.getDay();return 0===t&&(t=7),t}(e),b={d:d,dd:u(d),ddd:c.i18n.dayNames[h],dddd:c.i18n.dayNames[h+7],m:p+1,mm:u(p+1),mmm:c.i18n.monthNames[p],mmmm:c.i18n.monthNames[p+12],yy:String(m).slice(2),yyyy:m,h:v%12||12,hh:u(v%12||12),H:v,HH:u(v),M:L,MM:u(L),s:g,ss:u(g),l:u(_,3),L:u(Math.round(_/10)),t:v<12?c.i18n.timeNames[0]:c.i18n.timeNames[1],tt:v<12?c.i18n.timeNames[2]:c.i18n.timeNames[3],T:v<12?c.i18n.timeNames[4]:c.i18n.timeNames[5],TT:v<12?c.i18n.timeNames[6]:c.i18n.timeNames[7],Z:r?"GMT":n?"UTC":(String(e).match(s)||[""]).pop().replace(a,""),o:(y>0?"-":"+")+u(100*Math.floor(Math.abs(y)/60)+Math.abs(y)%60,4),S:["th","st","nd","rd"][d%10>3?0:(d%100-d%10!=10)*d%10],W:E,N:O};return t.replace(i,function(e){return e in b?b[e]:e.slice(1,e.length-1)})});function u(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}c.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},c.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},void 0===(r=function(){return c}.call(t,n,t,e))||(e.exports=r)}()},function(e,t,n){"use strict";t.match=function(e,t){return c(e).some(function(e){var n=e.inverse,r="all"===e.type||t.type===e.type;if(r&&n||!r&&!n)return!1;var o=e.expressions.every(function(e){var n=e.feature,r=e.modifier,o=e.value,i=t[n];if(!i)return!1;switch(n){case"orientation":case"scan":return i.toLowerCase()===o.toLowerCase();case"width":case"height":case"device-width":case"device-height":o=f(o),i=f(i);break;case"resolution":o=l(o),i=l(i);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":o=u(o),i=u(i);break;case"grid":case"color":case"color-index":case"monochrome":o=parseInt(o,10)||1,i=parseInt(i,10)||0}switch(r){case"min":return i>=o;case"max":return i<=o;default:return i===o}});return o&&!n||!o&&n})},t.parse=c;var r=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,o=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,i=/^(?:(min|max)-)?(.+)/,s=/(em|rem|px|cm|mm|in|pt|pc)?$/,a=/(dpi|dpcm|dppx)?$/;function c(e){return e.split(",").map(function(e){var t=(e=e.trim()).match(r),n=t[1],s=t[2],a=t[3]||"",c={};return c.inverse=!!n&&"not"===n.toLowerCase(),c.type=s?s.toLowerCase():"all",a=a.match(/\([^\)]+\)/g)||[],c.expressions=a.map(function(e){var t=e.match(o),n=t[1].toLowerCase().match(i);return{modifier:n[1],feature:n[2],value:t[2]}}),c})}function u(e){var t,n=Number(e);return n||(n=(t=e.match(/^(\d+)\s*\/\s*(\d+)$/))[1]/t[2]),n}function l(e){var t=parseFloat(e);switch(String(e).match(a)[1]){case"dpcm":return t/2.54;case"dppx":return 96*t;default:return t}}function f(e){var t=parseFloat(e);switch(String(e).match(s)[1]){case"em":case"rem":return 16*t;case"cm":return 96*t/2.54;case"mm":return 96*t/2.54/10;case"in":return 96*t;case"pt":return 72*t;case"pc":return 72*t/12;default:return t}}},function(e,t,n){e.exports=n(35)},function(e,t,n){},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t,n){var r=n(2);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,n){e.exports=n.p+"f4cfc6708cf6bfc17d4b1e775f594ae2.png"},function(e,t,n){var r=function(){return this||"object"==typeof self&&self}()||Function("return this")(),o=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,i=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(34),o)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";var n,r=Object.prototype,o=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag",u="object"==typeof e,l=t.regeneratorRuntime;if(l)u&&(e.exports=l);else{(l=t.regeneratorRuntime=u?e.exports:{}).wrap=y;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",m={},v={};v[s]=function(){return this};var L=Object.getPrototypeOf,g=L&&L(L(j([])));g&&g!==r&&o.call(g,s)&&(v=g);var _=A.prototype=O.prototype=Object.create(v);b.prototype=_.constructor=A,A.constructor=b,A[c]=b.displayName="GeneratorFunction",l.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},l.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,A):(e.__proto__=A,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(_),e},l.awrap=function(e){return{__await:e}},w(T.prototype),T.prototype[a]=function(){return this},l.AsyncIterator=T,l.async=function(e,t,n,r){var o=new T(y(e,t,n,r));return l.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},w(_),_[c]="Generator",_[s]=function(){return this},_.toString=function(){return"[object Generator]"},l.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},l.values=j,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,o){return a.type="throw",a.arg=e,t.next=r,o&&(t.method="next",t.arg=n),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var c=o.call(s,"catchLoc"),u=o.call(s,"finallyLoc");if(c&&u){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:j(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),m}}}function y(e,t,n,r){var o=t&&t.prototype instanceof O?t:O,i=Object.create(o.prototype),s=new N(r||[]);return i._invoke=function(e,t,n){var r=f;return function(o,i){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var a=S(s,n);if(a){if(a===m)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var c=E(e,t,n);if("normal"===c.type){if(r=n.done?p:d,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=p,n.method="throw",n.arg=c.arg)}}}(e,n,s),i}function E(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function O(){}function b(){}function A(){}function w(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function T(e){var t;this._invoke=function(n,r){function i(){return new Promise(function(t,i){!function t(n,r,i,s){var a=E(e[n],e,r);if("throw"!==a.type){var c=a.arg,u=c.value;return u&&"object"==typeof u&&o.call(u,"__await")?Promise.resolve(u.__await).then(function(e){t("next",e,i,s)},function(e){t("throw",e,i,s)}):Promise.resolve(u).then(function(e){c.value=e,i(c)},function(e){return t("throw",e,i,s)})}s(a.arg)}(n,r,t,i)})}return t=t?t.then(i,i):i()}}function S(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,S(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var o=E(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,m;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,m):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function B(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(B,this),this.reset(!0)}function j(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(o.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:n,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"draggable",function(){return j}),n.d(r,"droppable",function(){return P});var o={};n.r(o),n.d(o,"en_EN",function(){return Ge}),n.d(o,"fr_FR",function(){return He}),n.d(o,"nb_NO",function(){return Ke}),n.d(o,"sl_SI",function(){return ze}),n.d(o,"vi_VN",function(){return We}),n.d(o,"de_DE",function(){return Ve});var i={};n.r(i),n.d(i,"parentDirectory",function(){return nt}),n.d(i,"pathJoin",function(){return rt}),n.d(i,"humanFileSize",function(){return at}),n.d(i,"transformReaddir",function(){return ct}),n.d(i,"transformArrayBuffer",function(){return ut}),n.d(i,"getFileIcon",function(){return lt}),n.d(i,"createFileIter",function(){return ft});var s={};n.r(s),n.d(s,"readdir",function(){return pt}),n.d(s,"readfile",function(){return mt}),n.d(s,"writefile",function(){return vt}),n.d(s,"copy",function(){return Lt}),n.d(s,"rename",function(){return gt}),n.d(s,"move",function(){return _t}),n.d(s,"mkdir",function(){return yt}),n.d(s,"unlink",function(){return Et}),n.d(s,"exists",function(){return Ot}),n.d(s,"stat",function(){return bt}),n.d(s,"url",function(){return At}),n.d(s,"download",function(){return wt}),n.d(s,"search",function(){return Tt}),n.d(s,"touch",function(){return St});n(24);var a,c,u,l,f=n(7),d=n.n(f),h=n(6),p=n.n(h),m=n(0),v=n.n(m),L=n(1),g=n.n(L),_=n(3),y=n.n(_),E=n(2),O=n.n(E),b=n(10),A=n.n(b),w=n(4),T=n.n(w),S=n(9),B=n.n(S),k=n(5),N=function(e){function t(e,n){var r;arguments.length>2&&void 0!==arguments[2]&&arguments[2];return v()(this,t),console.debug("Websocket::constructor()",e,n),(r=y()(this,O()(t).call(this,"Websocket@"+e))).connection=new WebSocket(n),r.connection.onopen=function(){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=r).emit.apply(e,["open"].concat(n))},r.connection.onclose=function(){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=r).emit.apply(e,["close"].concat(n))},r.connection.onmessage=function(){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=r).emit.apply(e,["message"].concat(n))},r.connection.onerror=function(){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=r).emit.apply(e,["error"].concat(n))},r}return T()(t,e),g()(t,[{key:"send",value:function(){var e;return(e=this.connection).send.apply(e,arguments)}},{key:"close",value:function(){var e;return(e=this.connection).close.apply(e,arguments)}}]),t}(k.EventEmitter),j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},{type:"application/json",effect:"move",ondragstart:function(){return!0},ondragend:function(){return!0},setDragImage:null},t),r=n.type,o=n.effect,i=n.data,s=n.ondragstart,a=n.ondragend,c=n.setDragImage,u="function"==typeof c,l="application/json"===r?JSON.stringify(i):i,f=function(n){if(e.setAttribute("aria-grabbed","true"),n.dataTransfer){if(n.dataTransfer.setDragImage&&u)try{c(n,e,t)}catch(e){console.warn(e)}try{n.dataTransfer.effectAllowed=o,n.dataTransfer.setData(r,l)}catch(e){console.warn(e)}}return s(n)},d=function(t){return e.setAttribute("aria-grabbed","false"),a(t)};return e.setAttribute("draggable","true"),e.setAttribute("aria-grabbed","false"),e.addEventListener("dragstart",f),e.addEventListener("dragend",d),e.classList.add("osjs__draggable"),{destroy:function(){e.removeAttribute("draggable"),e.removeAttribute("aria-grabbed"),e.removeEventListener("dragstart",f),e.removeEventListener("dragend",d),e.classList.remove("osjs__draggable")}}},P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},{type:"application/json",effect:"move",ondragenter:function(){return!0},ondragover:function(){return!0},ondragleave:function(){return!0},ondrop:function(){return!0}},t),r=n.type,o=n.effect,i=n.ondragenter,s=n.ondragover,a=n.ondragleave,c=n.ondrop,u=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=e.apply(void 0,n);if("boolean"==typeof o)return o}catch(e){console.warn(e)}return!0},l=function(e){return i(e)},f=function(t){return e.classList.remove("osjs__drop"),u(a,t)},d=function(t){return t.preventDefault(),e.contains(t.target)?(t.stopPropagation(),t.dataTransfer.dropEffect=o,e.classList.add("osjs__drop"),u(s,t)):(e.classList.remove("osjs__drop"),!1)},h=function(t){var n,o=[];if(t.dataTransfer){o=t.dataTransfer.files?Array.from(t.dataTransfer.files):[];try{var i=t.dataTransfer.getData(r);try{n="application/json"===r?void 0===i?i:JSON.parse(i):i}catch(e){n=i,console.warn(e)}}catch(e){console.warn(e)}}return t.stopPropagation(),t.preventDefault(),e.classList.remove("osjs__drop"),u(c,t,n,o)};return e.setAttribute("aria-dropeffect",o),e.addEventListener("dragenter",l),e.addEventListener("dragover",d),e.addEventListener("dragleave",f),e.addEventListener("drop",h),e.classList.add("osjs__droppable"),{destroy:function(){e.removeAttribute("aria-dropeffect",o),e.removeEventListener("dragenter",l),e.removeEventListener("dragover",d),e.removeEventListener("dragleave",f),e.removeEventListener("drop",h),e.classList.remove("osjs__droppable")}}},R=function(e,t){return new Promise(function(n,r){var o=document.createElement("link");return o.setAttribute("rel","stylesheet"),o.setAttribute("type","text/css"),o.onload=function(){return n(o)},o.onerror=function(e){return r(e)},o.setAttribute("href",t),e.appendChild(o),o})},I=function(e,t){return new Promise(function(n,r){var o=document.createElement("script");return o.onreadystatechange=function(){"complete"!==this.readyState&&"loaded"!==this.readyState||n(o)},o.onerror=function(e){return r(e)},o.onload=function(){return n(o)},o.src=t,e.appendChild(o),o})},C=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){return e=!0}});window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}catch(e){}return function(){return e}}(),x=[],M=0,D=1,F=null,U=function(e){return Object.assign({classNames:[],modal:!1,ontop:!1,gravity:!1,moveable:!0,resizable:!0,focusable:!0,maximizable:!0,minimizable:!0,sessionable:!0,closeable:!0,header:!0,controls:!0,visibility:"global",shadowDOM:!1,mediaQueries:{small:"screen and (max-width: 640px)",medium:"screen and (min-width: 640px) and (max-width: 1024px)",big:"screen and (min-width: 1024px)"},minDimension:{width:100,height:100},maxDimension:{width:-1,height:-1}},e)},$=function(e,t,r){return Object.assign({title:t.title||t.id,icon:t.icon||n(15),media:null,moving:!1,resizing:!1,loading:!1,focused:!1,maximized:!1,minimized:!1,zIndex:1,styles:{},position:Object.assign({},{left:null,top:null},t.position),dimension:Object.assign({},{width:Math.max(r.minDimension.width,100),height:Math.max(r.minDimension.height,100)},t.dimension)},e)},G=function(e){var t=M;return M++,x.push(e),t},H='<div class="osjs-window-inner">\n  <div class="osjs-window-header">\n    <div class="osjs-window-icon">\n      <div></div>\n    </div>\n    <div class="osjs-window-title"></div>\n    <div class="osjs-window-button" data-action="minimize">\n      <div></div>\n    </div>\n    <div class="osjs-window-button" data-action="maximize">\n      <div></div>\n    </div>\n    <div class="osjs-window-button" data-action="close">\n      <div></div>\n    </div>\n  </div>\n  <div class="osjs-window-content">\n  </div>\n  <div class="osjs-window-resize" data-direction="n"></div>\n  <div class="osjs-window-resize" data-direction="nw"></div>\n  <div class="osjs-window-resize" data-direction="w"></div>\n  <div class="osjs-window-resize" data-direction="sw"></div>\n  <div class="osjs-window-resize" data-direction="s"></div>\n  <div class="osjs-window-resize" data-direction="se"></div>\n  <div class="osjs-window-resize" data-direction="e"></div>\n  <div class="osjs-window-resize" data-direction="ne"></div>\n</div>'.replace(/\n\s+/g,"").trim(),K=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return v()(this,t),r=Object.assign({id:null,title:null,parent:null,template:null,attributes:{},position:{},dimension:{},state:{}},r),console.log("Window::constructor()",r),n=y()(this,O()(t).call(this,"Window@"+r.id)),"string"==typeof r.position&&(r.attributes.gravity=r.position,r.position={}),n.id=r.id,n.wid=G(B()(B()(n))),n.parent=r.parent,n.children=[],n.core=e,n.destroyed=!1,n.rendered=!1,n.attributes=U(r.attributes),n.state=$(r.state,r,n.attributes),n.$element=document.createElement("div"),n.$content=null,n.$header=null,n.$icon=null,n.$title=null,n._preventDefaultPosition=!1,n._loadingDebounce=null,n._template=r.template,n}return T()(t,e),g()(t,[{key:"destroy",value:function(){var e=this;if(!this.destroyed){this.destroyed=!0,console.debug("Window::destroy()"),this.emit("destroy",this),this.core.emit("osjs/window:destroy",this),this.children.forEach(function(e){return e.destroy()}),this.$element&&this.$element.remove(),F===this&&(F=null);var t=x.findIndex(function(t){return t===e});-1!==t&&x.splice(t,1),this.children=[],this.parent=null,this.$element=null,this.$content=null,this.$header=null,this.$icon=null,this.$title=null}}},{key:"init",value:function(){var e=this;if(this.inited)return this;this.parent&&(this.on("destroy",function(){var t=e.parent.children.findIndex(function(t){return t===e});-1!==t&&e.parent.children.splice(t,1)}),this.parent.children.push(this));var t=this.core.config("windows.template")||H;this._template?this.$element.innerHTML="function"==typeof this._template?this._template(this,t):this._template:this.$element.innerHTML=t,this.$content=this.$element.querySelector(".osjs-window-content"),this.$header=this.$element.querySelector(".osjs-window-header"),this.$icon=this.$element.querySelector(".osjs-window-icon > div"),this.$title=this.$element.querySelector(".osjs-window-title");var n=this.core.make("osjs/window-behavior");n&&n.init(this);var r=P(this.$element,{ondragenter:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.emit.apply(e,["dragenter"].concat(n,[e]))},ondragover:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.emit.apply(e,["dragover"].concat(n,[e]))},ondragleave:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.emit.apply(e,["dragleave"].concat(n,[e]))},ondrop:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.emit.apply(e,["drop"].concat(n,[e]))}});return this.on("destroy",function(){return r.destroy()}),this.inited=!0,this.emit("init",this),this.core.emit("osjs/window:create",this),this}},{key:"render",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};if(this.rendered)return this;this.inited||this.init(),["osjs-window"].concat(p()(this.attributes.classNames)).filter(function(e){return!!e}).forEach(function(t){e.$element.classList.add(t)}),this.attributes.header||(this.$header.style.display="none");var n=function(t){return e.$header.querySelector(".osjs-window-button[data-action=".concat(t,"]")).style.display="none"};this.attributes.controls?(this.attributes.maximizable||n("maximize"),this.attributes.minimizable||n("minimize"),this.attributes.closeable||n("close")):Array.from(this.$header.querySelectorAll(".osjs-window-button")).forEach(function(e){return e.style.display="none"}),this._updateDOM(),this._preventDefaultPosition||this.gravitate(this.attributes.gravity);var r=this.core.make("osjs/desktop").getRect();return Object.assign(this.state.position,function(e,t){var n=t.dimension,r=t.position,o=e.width-n.width,i=e.height-n.height+e.top;return{left:Math.min(o,r.left),top:Math.max(e.top,Math.min(i,r.top))}}(r,this.state)),this.core.$root.appendChild(this.$element),this.attributes.modal&&this.parent&&(this.on("render",function(){return e.parent.setState("loading",!0)}),this.on("destroy",function(){e.parent.setState("loading",!1),e.parent.focus()})),function(){if("function"==typeof t){if(e.attributes.shadowDOM)try{var n="string"==typeof e.attributes.shadowDOM?e.attributes.shadowDOM:"open",r=e.$content.attachShadow({mode:n});return void t(r,e)}catch(e){console.warn("Shadow DOM not supported?",e)}t(e.$content,e)}}(),this.rendered=!0,this.setNextZindex(!0),setTimeout(function(){e.emit("render",e),e.core.emit("osjs/window:render",e)},1),this}},{key:"close",value:function(){this.destroyed||(this.emit("close",this),this.destroy())}},{key:"focus",value:function(){return!(this.state.minimized||!this._toggleState("focused",!0,"focus"))&&(F&&F!==this&&F.blur(),this.setNextZindex(),F=this,!0)}},{key:"blur",value:function(){var e,t,n=(e=this.$element,t=document.activeElement,e.contains(t)?t:null);return n&&n.blur(),this._toggleState("focused",!1,"blur")}},{key:"minimize",value:function(){return!this._toggleState("minimized",!0,"minimize")||this.blur()}},{key:"raise",value:function(){return this._toggleState("minimized",!1,"raise")}},{key:"maximize",value:function(){var e=this;return!!this._toggleState("maximized",!0,"maximize")&&(this.once("transitionend",function(){return e.emit("resized")}),!0)}},{key:"restore",value:function(){var e=this;return!!this._toggleState("maximized",!1,"restore")&&(this.once("transitionend",function(){return e.emit("resized")}),!0)}},{key:"resizeFit",value:function(e){if(e=e||this.$content.firstChild){var t=this.attributes.minDimension,n=this.attributes.maxDimension,r=Math.max(e.offsetWidth,t.width),o=Math.max(e.offsetHeight+this.$header.offsetHeight,t.height);n.width>0&&(r=Math.min(r,n.width)),n.height>0&&(o=Math.min(o,n.height)),isNaN(r)||isNaN(o)||this.setDimension({width:r,height:o})}}},{key:"setIcon",value:function(e){this.state.icon=e,this._updateDOM()}},{key:"setTitle",value:function(e){this.state.title=e||"",this._updateDOM(),this.core.emit("osjs/window:change",this,"title",e)}},{key:"setDimension",value:function(e){var t=Object.assign({},this.state.dimension,e||{}),n=t.width,r=t.height;this.state.dimension.width=n,this.state.dimension.height=r,this._updateDOM()}},{key:"setPosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object.assign({},this.state.position,e||{}),r=n.left,o=n.top;this.state.position.top=o,this.state.position.left=r,t&&(this._preventDefaultPosition=!0),this._updateDOM()}},{key:"setZindex",value:function(e){this.state.zIndex=e,console.debug("Window::setZindex()",e),this._updateDOM()}},{key:"setNextZindex",value:function(e){var t,n,r,o,i,s,a;(e||(n=(t=this).wid,r=t.attributes,o=t.state,i=r.ontop,s=o.zIndex,a=x.filter(function(e){return e.attributes.ontop===i}).filter(function(e){return e.wid!==n}).map(function(e){return e.state.zIndex}),s<(a.length>0?Math.max.apply(null,a):0)))&&(this.setZindex(D),D++)}},{key:"setState",value:function(e,t){var n=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=function(){return n._setState(e,t,r)};"loading"===e&&r&&(clearTimeout(this._loadingDebounce),!0===t)?this._loadingDebounce=setTimeout(function(){return o()},250):o()}},{key:"gravitate",value:function(e){if(this.core.has("osjs/desktop")){var t=this.core.make("osjs/desktop").getRect(),n=this.state.position,r=n.left,o=n.top;if("center"===e)r=t.width/2-this.state.dimension.width/2,o=t.height/2-this.state.dimension.height/2;else if(e){var i=e.match(/top|bottom/),s=e.match(/left|rigth/);e.match(/top/)?o=t.top:e.match(/bottom/)&&(o=t.height-this.state.dimension.height+t.top),e.match(/left/)?r=t.left:e.match(/right/)&&(r=t.width-this.state.dimension.width),!i&&e.match(/center/)?o=t.height/2-this.state.dimension.height/2:!s&&e.match(/center/)&&(r=t.width/2-this.state.dimension.width/2)}this.setPosition({left:r,top:o})}}},{key:"getState",value:function(e){var t=this.state[e];return-1!==["position","dimension","styles"].indexOf(e)?Object.assign({},t):t}},{key:"getSession",value:function(){return!1===this.attributes.sessionable?null:{id:this.id,position:Object.assign({},this.state.position),dimension:Object.assign({},this.state.dimension)}}},{key:"_setState",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.state[e];this.state[e]=t,n&&(r!==t&&console.debug("Window::_setState()",e,t),this._updateDOM())}},{key:"_toggleState",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return this.state[e]!==t&&(console.debug("Window::_toggleState()",e,t,n,r),this.state[e]=t,this.emit(n,this),this.core.emit("osjs/window:change",this,e,t),r&&this._updateDOM(),!0)}},{key:"_updateDOM",value:function(){if(this.inited){var e,t,n,r=this.$element,o=this.$title,i=this.$icon,s=this.id,a=this.state,c=this.attributes,u=a.dimension,l=u.width,f=u.height,d=a.position,h=d.top,p=d.left,m=a.title,v=a.icon,L=a.zIndex,g=a.styles,_={id:s,media:a.media,moving:a.moving,resizing:a.resizing,loading:a.loading,focused:a.focused,maximized:a.maximized,minimized:a.minimized,modal:c.modal,ontop:c.ontop,resizable:c.resizable,moveable:c.moveable,maximizable:c.maximizable,minimizable:c.minimizable},y=(e=Object.assign({top:String(h)+"px",left:String(p)+"px",height:String(f)+"px",width:String(l)+"px",zIndex:(_.ontop?8388635:0)+L},g),Object.keys(e).map(function(e){return[e,e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()]}).map(function(t){return"".concat(t[1],": ").concat(e[t[0]])}).join(";"));o&&(o.innerHTML=(t=m,(n=document.createElement("div")).innerHTML=t,n.textContent)),i&&(i.style.backgroundImage="url(".concat(v,")")),r&&(Object.keys(_).forEach(function(e){return r.setAttribute("data-".concat(e),String(_[e]))}),r.style.cssText=y)}}}],[{key:"getWindows",value:function(){return x}},{key:"lastWindow",value:function(){return F}}]),t}(k.EventEmitter),z=n(11),W=n.n(z),V=n(16),Y=n.n(V),Z=[window.ArrayBuffer,window.ArrayBufferView,window.Blob,window.File,window.URLSearchParams,window.FormData].filter(function(e){return!!e}),q=function(e,t,n){var r,o=Object.assign({},{credentials:"same-origin",method:"get",headers:{}},t);"json"===n&&(o.headers=Object.assign(o.headers,{Accept:"application/json, text/plain, */*","Content-Type":"application/json"})),o.body&&"get"===o.method.toLowerCase()&&(e+="?"+(r=o.body,Object.keys(r).filter(function(e){return"object"!==Y()(r[e])}).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(r[e])}).join("&")),delete o.body);var i=void 0!==o.body,s="string"==typeof o.body;"json"===n&&i&&!s&&(o.body instanceof FormData||Z.find(function(e){return o.body instanceof e})||(o.body=JSON.stringify(o.body)));return[e,o]},X=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=q(e,t,n),o=W()(r,2),i=o[0],s=o[1];return window.fetch(i,s).then(function(e){return e.ok?"json"===n?e.json():e:e.json().then(function(t){return function(e,t){return Promise.reject(new Error(t||"".concat(e.status," (").concat(e.statusText,")")))}(e,t.error)})})},Q=[],J=0,ee=function(e){return"osjs/application/"+e.name},te=function(e){function t(e,n){var r;v()(this,t),n=Object.assign({},{args:{},options:{},metadata:{}},n),console.log("Application::constructor()",n);var o=n.options.settings?Object.assign({},n.options.settings):{},i=n.metadata&&n.metadata.name?"Application@"+n.metadata.name:"Application"+String(J);return r=y()(this,O()(t).call(this,i)),window.zztop=B()(B()(r)),r.pid=J,r.core=e,r.args=n.args,r.options=Object.assign({sessionable:!0,windowAutoFocus:!0},n.options),r.metadata=n.metadata,r.windows=[],r.workers=[],r.destroyed=!1,r.settings=e.make("osjs/settings").get(ee(r.metadata),null,o),r.started=new Date,r.sockets=[],Q.push(B()(B()(r))),J++,r.core.emit("osjs/application:create",B()(B()(r))),r}return T()(t,e),g()(t,[{key:"destroy",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.destroyed){this.destroyed=!0,this.emit("destroy"),this.core.emit("osjs/application:destroy",this);var n=function(e,t){try{e.forEach(t)}catch(e){console.warn(e)}return[]};if(this.windows=n(this.windows,function(e){return e.destroy()}),this.sockets=n(this.sockets,function(e){return e.close()}),this.workers=n(this.workers,function(e){return e.terminate()}),t){var r=Q.findIndex(function(t){return t===e});-1!==r&&Q.splice(r,1)}}}},{key:"relaunch",value:function(){var e=this,t=this.windows.map(function(e){return e.getSession()});this.destroy(),setTimeout(function(){e.core.run(e.metadata.name,Object.assign({},e.args),Object.assign({},e.options,{forcePreload:e.core.config("development"),restore:{windows:t}}))},1)}},{key:"resource",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.core.url(e,t,this.metadata)}},{key:"request",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"json",r=this.resource(e);return X(r,t,n)}},{key:"socket",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/socket",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=Object.assign({},{socket:{}},t);var n=this.resource(e,{type:"websocket"}),r=new N(this.metadata.name,n,t.socket);return this.sockets.push(r),r}},{key:"send",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.core.ws.send(JSON.stringify({name:"osjs/application:socket:message",params:[{pid:this.pid,name:this.metadata.name,args:t}]}))}},{key:"worker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.resource(e),r=new Worker(n,Object.assign({credentials:"same-origin"},t));return this.workers.push(r),r}},{key:"createWindow",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.windows.find(function(e){return e.id===t.id})){var n=this.core.make("osjs/locale").translate("ERR_WINDOW_ID_EXISTS",t.id);throw new Error(n)}t.attributes=t.attributes||{classNames:["Window_".concat(this.metadata.name)]};var r=new K(this.core,t);if(r.init(),this.options.restore){var o=this.options.restore.windows||[],i=o.findIndex(function(e){return e.id===r.id});if(-1!==i){var s=o[i];r.setPosition(s.position,!0),r.setDimension(s.dimension),this.options.restore.windows.splice(i,1)}}return this.windows.push(r),this.emit("create-window",r),r.on("destroy",function(){if(!e.destroyed){var t=e.windows.findIndex(function(e){return e===r});-1!==t&&e.windows.splice(t,1)}e.emit("destroy-window",r)}),this.options.windowAutoFocus&&r.focus(),r}},{key:"removeWindow",value:function(e){for(var t=this.windows.length;t--;)e(this.windows[t],t)&&this.windows.splice(t,1)}},{key:"getSession",value:function(){return{args:Object.assign({},this.args),name:this.metadata.name,windows:this.windows.map(function(e){return e.getSession()}).filter(function(e){return null!==e})}}},{key:"emitAll",value:function(e){var t=this,n=function(e){return e.pid!==t.pid},r="function"==typeof e?e:"string"==typeof e?function(t){return n(t)&&t.metadata.name===e}:n;return function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return Q.filter(r).map(function(t){return t.emit.apply(t,[e].concat(n))})}}},{key:"saveSettings",value:function(){var e=this.core.make("osjs/settings"),t=ee(this.metadata);return e.set(t,null,this.settings),e.save()}}],[{key:"getApplications",value:function(){return Q}},{key:"destroyAll",value:function(){Q.forEach(function(e){try{e.destroy(!1)}catch(e){console.warn(e)}}),Q.splice(0,Q.length)}}]),t}(k.EventEmitter),ne=function(){function e(t){var n=this;v()(this,e),this.core=t,this.$loading=document.createElement("div"),this.$loading.className="osjs-boot-splash",this.$loading.appendChild(document.createTextNode("Loading...")),t.on("osjs/core:boot",function(){return n.show()}),t.on("osjs/core:booted",function(){return n.destroy()}),t.on("osjs/core:logged-in",function(){return n.show()}),t.on("osjs/core:started",function(){return n.destroy()})}return g()(e,[{key:"show",value:function(){this.$loading.parentNode||this.core.$root.appendChild(this.$loading)}},{key:"destroy",value:function(){this.$loading.parentNode&&this.$loading.remove()}}]),e}(),re=n(8),oe=n(21),ie=n.n(oe),se={nb:"nb_NO"},ae=/\{(\d+)\}/g,ce=function(e,t){var n=function(e,t){return e.config("locale."+t)}(e,t);return{defaultLocale:n,userLocale:function(e,t,n){return e.make("osjs/settings").get("osjs/locale",t,n)}(e,t,n)}},ue=function(e){return function(t,n){var r=ce(e,"language"),o=r.defaultLocale;return t[r.userLocale]||t[o]||t.en_EN||n}},le=function(e){return function(t){var n=ce(e,"language"),r=n.defaultLocale,o=n.userLocale;return function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return function(e,t,n,r){for(var o=function(e,t,n,r){return(e[t]||e[n]||e.en_EN||{})[r]||r}(e,t,n,r),i=arguments.length,s=new Array(i>4?i-4:0),a=4;a<i;a++)s[a-4]=arguments[a];return o.replace(ae,function(e){return function(t,n){return n in e?e[n]:t}}(s))}.apply(void 0,[t,o,r,e].concat(i))}}},fe=(a=window.navigator||{},c=a.userLanguage||a.language||"",u=(a.languages||[c]).map(function(e){return function(e){return se[e]?se[e]:e.match(/_/)?e:e?"".concat(e,"_").concat(e.toUpperCase()):""}(e.replace("-","_"))}),l=u[u.length-1],function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en_EN";return l||e}),de=window.location,he=de.pathname,pe=de.href,me="/"!==he.substr(-1)?he+"/":he,ve=pe.replace(/[^\/]*$/,""),Le={development:!"production".match(/^prod/i),standalone:!1,http:{public:me,uri:ve},ws:{connectInterval:5e3,uri:ve.replace(/^http/,"ws")},languages:{en_EN:"English",nb_NO:"Norwegian, Norsk (bokmål)",vi_VN:"Vietnamese, Vietnamese",fr_FR:"French",de_DE:"German",sl_SI:"Slovenian, Slovenščina"},application:{categories:{development:{label:"LBL_APP_CAT_DEVELOPMENT",icon:"applications-development"},science:{label:"LBL_APP_CAT_SCIENCE",icon:"applications-science"},games:{label:"LBL_APP_CAT_GAMES",icon:"applications-games"},graphics:{label:"LBL_APP_CAT_GRAPHICS",icon:"applications-graphics"},network:{label:"LBL_APP_CAT_NETWORK",icon:"applications-internet"},multimedia:{label:"LBL_APP_CAT_MULTIMEDIA",icon:"applications-multimedia"},office:{label:"LBL_APP_CAT_OFFICE",icon:"applications-office"},system:{label:"LBL_APP_CAT_SYSTEM",icon:"applications-system"},utilities:{label:"LBL_APP_CAT_UTILITIES",icon:"applications-utilities"},other:{label:"LBL_APP_CAT_OTHER",icon:"applications-other"}}},auth:{ui:{},login:{username:null,password:null}},settings:{lock:[],defaults:{"osjs/session":[],"osjs/desktop":{},"osjs/locale":{}}},search:{enabled:!0},notifications:{native:!1},desktop:{lock:!1,contextmenu:{enabled:!0,defaults:!0},settings:{font:"Roboto",theme:"StandardTheme",sounds:"FreedesktopSounds",icons:"GnomeIcons",animations:!1,panels:[{position:"top",items:[{name:"menu"},{name:"windows"},{name:"tray"},{name:"clock"}]}],widgets:[],keybindings:[],background:{src:n(32),color:"#572a79",style:"cover"},iconview:{enabled:!1}}},locale:{language:fe("en_EN"),rtl:["az","fa","he","uz","ar"],format:{shortDate:"yyyy-mm-dd",mediumDate:"dS mmm yyyy",longDate:"dS mmmm yyyy",fullDate:"dddd dS mmmm yyyy",shortTime:"HH:MM",longTime:"HH:MM:ss"}},windows:{lofi:!1,mobile:!1,template:null},vfs:{defaultPath:"home:/",defaultAdapter:"system",adapters:{},mountpoints:[{name:"apps",label:"Applications",adapter:"apps",icon:n(15),attributes:{visibility:"restricted",readOnly:!0}},{name:"osjs",label:"OS.js",adapter:"system",icon:{name:"folder-publicshare"}},{name:"home",label:"Home",adapter:"system",icon:{name:"user-home"}}],icons:{"^application/zip":{name:"package-x-generic"},"^application/javascript":{name:"text-x-script"},"^application/json":{name:"text-x-script"},"^application/x-python":{name:"text-x-script"},"^application/php":{name:"text-x-script"},"^application/pdf":{name:"x-office-document"},"^application/rtf":{name:"x-office-document"},"^application/msword":{name:"x-office-document"},"^application/(xz|tar|gzip)":{name:"package-x-generic"},"^text/css":{name:"text-x-script"},"^text/html":{name:"text-html"},"^(application|text)/xml":{name:"text-html"},"^application":{name:"application-x-executable"},"^text":{name:"text-x-generic"},"^audio":{name:"audio-x-generic"},"^video":{name:"video-x-generic"},"^image":{name:"image-x-generic"}}},providers:{globalBlacklist:["osjs/websocket","osjs/clipboard","osjs/gapi"],globalWhitelist:[]}},ge=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v()(this,t),r=Object.assign({},{classNames:["osjs-root"],root:document.body},r||{}),(n=y()(this,O()(t).call(this,Le,e,r))).user=null,n.ws=null,n.connected=!1,n.reconnecting=!1,n.ping=null,n.splash=new ne(B()(B()(n))),n.$root=r.root,n.$resourceRoot=r.resourceRoot||document.querySelector("head"),n.options.classNames.forEach(function(e){return n.$root.classList.add(e)});var o=n.configuration.ws.uri;if(!n.configuration.ws.uri.match(/^wss?:/)){var i=window.location,s=i.protocol,a=i.host;n.configuration.ws.uri=s.replace(/^http/,"ws")+"//"+a+o.replace(/^\/+/,"/")}return n}return T()(t,e),g()(t,[{key:"destroy",value:function(){this.destroyed||(this.emit("osjs/core:destroy"),this.ping=clearInterval(this.ping),te.destroyAll(),this.ws&&this.ws.close(),this.user=null,this.ws=null,this.connected=!1,this.connecting=!1,this.reconnecting=!1,this.connectfailed=!1,this.ping=null,A()(O()(t.prototype),"destroy",this).call(this))}},{key:"boot",value:function(){var e=this,n=function(t){return t&&console.error(t),console.groupEnd(),e.start()};return this.booted?Promise.resolve(!1):(console.group("Core::boot()"),this.on("osjs/core:started",function(){e.has("osjs/sounds")&&e.make("osjs/sounds").play("service-login")}),this.on("osjs/core:destroy",function(){e.has("osjs/sounds")&&e.make("osjs/sounds").play("service-logout")}),this.on("osjs/application:socket:message",function(e){var t=e.pid,n=e.args,r=te.getApplications().find(function(e){return e&&e.pid===t});r&&r.emit.apply(r,["ws:message"].concat(p()(n)))}),this.emit("osjs/core:boot"),A()(O()(t.prototype),"boot",this).call(this).then(function(){return e.emit("osjs/core:booted"),e.has("osjs/auth")?e.make("osjs/auth").show(function(t){e.user=t,e.emit("osjs/core:logged-in"),e.has("osjs/settings")?e.make("osjs/settings").load().then(function(){return n()}).catch(function(){return n()}):n()}):(console.warn("OS.js STARTED WITHOUT ANY AUTHENTICATION"),n())}).catch(n))}},{key:"start",value:function(){var e=this,n=function(t){return e.emit("osjs/core:started"),t&&console.warn(t),console.groupEnd(),!!t};return this.started?Promise.resolve():(console.group("Core::start()"),this.emit("osjs/core:start"),this.on("osjs/core:connected",function(t){var n=t.cookie.maxAge/2;e.ping=setInterval(function(){e.connected&&!e.reconnecting&&e.request("/ping").catch(function(e){return console.warn(e)})},n)}),this._createListeners(),A()(O()(t.prototype),"start",this).call(this).then(function(t){return console.groupEnd(),!!t&&new Promise(function(t,n){e._createConnection(function(e){return e?n(e):t()})||n("Already connecting...")}).then(function(){return n()}).catch(function(e){return n(e)})}).catch(n))}},{key:"_createConnection",value:function(e){var t=this;if(e=e||function(){},this.configuration.standalone||this.connected)return!1;var n=this.config("ws").uri;return console.log("Creating websocket connection on",n),this.ws=new N("CoreSocket",n),this.ws.on("open",function(n){var r=!!t.reconnecting;clearInterval(t.reconnecting),t.connected=!0,t.reconnecting=!1,t.connectfailed=!1,setTimeout(function(){return e()},100),t.emit("osjs/core:connect",n,r)}),this.ws.on("close",function(n){t.connected||t.connectfailed||(t.emit("osjs/core:connection-failed",n),t.connectfailed=!0),clearInterval(t.reconnecting),t.reconnecting=setInterval(function(){t._createConnection()},t.config("ws.connectInterval",1e3)),t.connected=!1,e(new Error("Connection closed")),t.emit("osjs/core:disconnect",n)}),this.ws.on("message",function(e){try{var n=JSON.parse(e.data),r=n.params||[];console.debug("WebSocket message",n),t.emit.apply(t,[n.name].concat(p()(r)))}catch(e){console.warn(e)}}),!0}},{key:"_createListeners",value:function(){window.addEventListener("message",function(e){var t=e.data||{};if(t&&t.pid>=0){var n=te.getApplications().find(function(e){return e.pid===t.pid});if(n)return console.debug("Routing message",t),void n.emit.apply(n,["message"].concat(p()(t.args)))}})}},{key:"url",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.configuration,o=r.http,i=r.ws;if("string"!=typeof e)return o.public;if(e.match(/^(http|ws|ftp)s?:/i))return e;var s=Object.assign({},{type:null,prefix:"websocket"===t.type},t),a=s.type,c=s.prefix,u="websocket"===a?i.uri:o.uri,l=e.replace(/^\/+/,"");if(n.type){var f=e.replace(/^\/?/,"/"),d="theme"===n.type?"themes":"icons"===n.type?"icons":"apps";l="".concat(d,"/").concat(n.name).concat(f)}return c?u+l:o.public.replace(/^\/?/,"/")+l}},{key:"request",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.has("osjs/locale")?this.make("osjs/locale").translate:function(e){return e};return this.config("standalone")?Promise.reject(new Error(r("ERR_REQUEST_STANDALONE"))):(e.match(/^((http|ws|ftp)s?:)?/i)||(e=this.url(e)),X(e,t,n).catch(function(e){throw new Error(r("ERR_REQUEST_NOT_OK",e))}))}},{key:"run",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return console.log("Core::run()",e,t,n),this.make("osjs/packages").launch(e,t,n)}},{key:"open",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.make("osjs/locale").translate,o=function(r){return t.run(r,{file:e},n)};if("osjs/application"===e.mime)return this.run(e.path.split("/").pop());var i=this.make("osjs/packages").getCompatiblePackages(e.mime);if(i.length>0){if(i.length>1)try{return this.make("osjs/dialog","choice",{title:r("LBL_LAUNCH_SELECT"),message:r("LBL_LAUNCH_SELECT_MESSAGE",e.path),choices:i.reduce(function(e,t){return Object.assign(e,d()({},t.name,t.name))},{})},function(e,t){"ok"===e&&t&&o(t)}),!0}catch(e){console.warn(e)}return o(i[0].name),Promise.resolve(!0)}return Promise.reject(!1)}},{key:"off",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e.match(/^osjs\//)&&"function"!=typeof n)throw new TypeError("The callback must be a function");return A()(O()(t.prototype),"off",this).call(this,e,n,r)}},{key:"getUser",value:function(){return Object.assign({},this.user)}}]),t}(re.CoreBase);function _e(e,t){for(var n=[],r=[],o=arguments.length;o-- >2;)n.push(arguments[o]);for(;n.length;){var i=n.pop();if(i&&i.pop)for(o=i.length;o--;)n.push(i[o]);else null!=i&&!0!==i&&!1!==i&&r.push(i)}return"function"==typeof e?e(t||{},r):{nodeName:e,attributes:t||{},children:r,key:t&&t.key}}function ye(e,t,n,r){var o,i=[].map,s=r&&r.children[0]||null,a=s&&function e(t){return{nodeName:t.nodeName.toLowerCase(),attributes:{},children:i.call(t.childNodes,function(t){return 3===t.nodeType?t.nodeValue:e(t)})}}(s),c=[],u=!0,l=m(e),f=function e(t,n,r){for(var o in r)"function"==typeof r[o]?function(e,o){r[e]=function(e){var i=o(e);return"function"==typeof i&&(i=i(L(t,l),r)),i&&i!==(n=L(t,l))&&!i.then&&p(l=v(t,m(n,i),l)),i}}(o,r[o]):e(t.concat(o),n[o]=m(n[o]),r[o]=m(r[o]));return r}([],l,m(t));return p(),f;function d(e){return"function"==typeof e?d(e(l,f)):null!=e?e:""}function h(){o=!o;var e=d(n);for(r&&!o&&(s=function e(t,n,r,o,i){if(o===r);else if(null==r||r.nodeName!==o.nodeName){var s=function e(t,n){var r="string"==typeof t||"number"==typeof t?document.createTextNode(t):(n=n||"svg"===t.nodeName)?document.createElementNS("http://www.w3.org/2000/svg",t.nodeName):document.createElement(t.nodeName);var o=t.attributes;if(o){o.oncreate&&c.push(function(){o.oncreate(r)});for(var i=0;i<t.children.length;i++)r.appendChild(e(t.children[i]=d(t.children[i]),n));for(var s in o)y(r,s,o[s],null,n)}return r}(o,i);t.insertBefore(s,n),null!=r&&E(t,n,r),n=s}else if(null==r.nodeName)n.nodeValue=o;else{!function(e,t,n,r){for(var o in m(t,n))n[o]!==("value"===o||"checked"===o?e[o]:t[o])&&y(e,o,n[o],t[o],r);var i=u?n.oncreate:n.onupdate;i&&c.push(function(){i(e,t)})}(n,r.attributes,o.attributes,i=i||"svg"===o.nodeName);for(var a={},l={},f=[],h=r.children,p=o.children,v=0;v<h.length;v++){f[v]=n.childNodes[v];var L=g(h[v]);null!=L&&(a[L]=[f[v],h[v]])}for(var v=0,_=0;_<p.length;){var L=g(h[v]),O=g(p[_]=d(p[_]));if(l[L])v++;else if(null==O||O!==g(h[v+1]))if(null==O||u)null==L&&(e(n,f[v],h[v],p[_],i),_++),v++;else{var b=a[O]||[];L===O?(e(n,b[0],b[1],p[_],i),v++):b[0]?e(n,n.insertBefore(b[0],f[v]),b[1],p[_],i):e(n,f[v],null,p[_],i),l[O]=p[_],_++}else null==L&&E(n,f[v],h[v]),v++}for(;v<h.length;)null==g(h[v])&&E(n,f[v],h[v]),v++;for(var v in a)l[v]||E(n,a[v][0],a[v][1])}return n}(r,s,a,a=e)),u=!1;c.length;)c.pop()()}function p(){o||(o=!0,setTimeout(h))}function m(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n}function v(e,t,n){var r={};return e.length?(r[e[0]]=e.length>1?v(e.slice(1),t,n[e[0]]):t,m(n,r)):t}function L(e,t){for(var n=0;n<e.length;)t=t[e[n++]];return t}function g(e){return e?e.key:null}function _(e){return e.currentTarget.events[e.type](e)}function y(e,t,n,r,o){if("key"===t);else if("style"===t)if("string"==typeof n)e.style.cssText=n;else for(var i in"string"==typeof r&&(r=e.style.cssText=""),m(r,n)){var s=null==n||null==n[i]?"":n[i];"-"===i[0]?e.style.setProperty(i,s):e.style[i]=s}else"o"===t[0]&&"n"===t[1]?(t=t.slice(2),e.events?r||(r=e.events[t]):e.events={},e.events[t]=n,n?r||e.addEventListener(t,_):e.removeEventListener(t,_)):t in e&&"list"!==t&&"type"!==t&&"draggable"!==t&&"spellcheck"!==t&&"translate"!==t&&!o?e[t]=null==n?"":n:null!=n&&!1!==n&&e.setAttribute(t,n),null!=n&&!1!==n||e.removeAttribute(t)}function E(e,t,n){function r(){e.removeChild(function e(t,n){var r=n.attributes;if(r){for(var o=0;o<n.children.length;o++)e(t.childNodes[o],n.children[o]);r.ondestroy&&r.ondestroy(t)}return t}(t,n))}var o=n.attributes&&n.attributes.onremove;o?o(t,r):r()}}var Ee=function(){function e(t){v()(this,e),this.core=t,this.$element=document.createElement("div"),this.app=null,this.focusLastWindow=null}return g()(e,[{key:"destroy",value:function(){}},{key:"init",value:function(){var e=this,t=this.core.make("osjs/theme").icon,n=this.core.make("osjs/locale").translate;this.core.make("osjs/tray").create({title:n("LBL_SEARCH_TOOLTOP","F3"),icon:t("system-search.png")},function(t){return e.show()}),this.$element.className="osjs-search",this.core.$root.appendChild(this.$element),this.createApp()}},{key:"search",value:function(e){var t=this.core.make("osjs/vfs"),n=this.core.make("osjs/fs").mountpoints().map(function(e){return"".concat(e.name,":/")}).map(function(n){return t.search({path:n},e).catch(function(e){return console.warn(e),[]})});return Promise.all(n).then(function(e){var t;return(t=[]).concat.apply(t,p()(e))})}},{key:"createApp",value:function(){var e=this,t=this.core.make("osjs/fs"),n=this.core.make("osjs/theme").icon,r=this.core.make("osjs/locale").translate,o=function(e,r){var o=e.results,i=e.index;return o.map(function(e,o){return _e("li",{onclick:function(){return r.open(o)},onupdate:function(e){o===i&&e.scrollIntoView()},class:["osjs-search-result",i===o?"osjs__active":""].join(" ")},[_e("img",{src:n(t.icon(e).name+".png")}),_e("span",{},"".concat(e.path," (").concat(e.mime,")"))])})};this.searchUI=ye({query:"",index:-1,status:void 0,error:null,visible:!1,results:[]},{search:function(t){return function(n,o){return e.search(t).then(function(e){return o.setResults(e)}).catch(function(e){return o.setError(e)}),{status:r("LBL_SEARCH_WAIT")}}},open:function(t){return function(n,r){var o=n.results[t];o&&e.core.open(o),r.toggle(!1)}},resetIndex:function(){return function(){return{index:-1}}},setNextIndex:function(){return function(e){return{index:(e.index+1)%e.results.length}}},setPreviousIndex:function(){return function(e){return{index:e.index<=0?e.results.length-1:e.index-1}}},setError:function(e){return function(){return{error:e,status:void 0,index:-1}}},setResults:function(e){return function(){return{results:e,index:-1,status:r("LBL_SEARCH_RESULT",e.length)}}},setQuery:function(e){return function(){return{query:e}}},toggle:function(e){return function(t){return{query:"",results:[],index:-1,status:void 0,error:null,visible:"boolean"==typeof e?e:!t.visible}}}},function(t,n){return _e("div",{class:"osjs-search-container osjs-notification",style:{display:t.visible?void 0:"none"}},[_e("input",{type:"text",placeholder:r("LBL_SEARCH_PLACEHOLDER"),class:"osjs-search-input",value:t.query,onblur:function(){t.value||setTimeout(function(){return n.toggle(!1)},300)},oninput:function(e){return n.setQuery(e.target.value)},onkeydown:function(r){38===r.keyCode?n.setPreviousIndex():40===r.keyCode?n.setNextIndex():27===r.keyCode&&(n.resetIndex(),-1===t.index&&e.hide())},onkeypress:function(e){13===e.keyCode&&(t.index>=0?n.open(t.index):n.search(t.query.replace(/\*?$/,"*").replace(/^\*?/,"*")))}}),_e("div",{"data-error":!!t.error,class:"osjs-search-message",style:{display:t.error||t.status?"block":"none"}},t.error||t.status),_e("ol",{class:"osjs-search-results",style:{display:t.results.length?void 0:"none"}},o(t,n))])},this.$element)}},{key:"focus",value:function(){var e=this.$element.querySelector(".osjs-search-input");e&&e.focus()}},{key:"hide",value:function(){if(this.searchUI){this.searchUI.toggle(!1);var e=K.lastWindow();this.focusLastWindow&&e&&e.focus()}}},{key:"show",value:function(){var e=this;if(this.searchUI){var t=K.lastWindow();this.focusLastWindow=t&&t.blur(),this.searchUI.toggle(!0),setTimeout(function(){return e.focus()},1)}}}]),e}(),Oe=n(12),be=function(e){function t(e,n){var r;return v()(this,t),(r=y()(this,O()(t).call(this,"Desktop"))).core=e,r.options=Object.assign({contextmenu:[]},n),r.$theme=[],r.$icons=[],r.$styles=document.createElement("style"),r.$styles.setAttribute("type","text/css"),r.contextmenuEntries=[],r.search=e.config("search.enabled")?new Ee(e):null,r.subtract={left:0,top:0,right:0,bottom:0},r}return T()(t,e),g()(t,[{key:"destroy",value:function(){this.search&&(this.search=this.search.destroy()),this.$styles&&this.$styles.parentNode&&this.$styles.remove(),this.$styles=null,this._removeIcons(),this._removeTheme()}},{key:"init",value:function(){var e=this;this.core.on("osjs/panel:create",function(t){e.subtract[t.options.position]+=t.$element.offsetHeight,e._updateCSS(),e.core.emit("osjs/desktop:transform",e.getRect())}),this.core.on("osjs/panel:destroy",function(t){e.subtract[t.options.position]-=t.$element.offsetHeight,e._updateCSS(),e.core.emit("osjs/desktop:transform",e.getRect())}),this.core.on("osjs/core:disconnect",function(t){console.warn("Connection closed",t);var n=e.core.make("osjs/locale").translate;e.core.make("osjs/notification",{title:n("LBL_CONNECTION_LOST"),message:n("LBL_CONNECTION_LOST_MESSAGE")})}),this.core.on("osjs/core:connect",function(t,n){if(console.info("Connection opened"),n){var r=e.core.make("osjs/locale").translate;e.core.make("osjs/notification",{title:r("LBL_CONNECTION_RESTORED"),message:r("LBL_CONNECTION_RESTORED_MESSAGE")})}}),this.core.on("osjs/core:connection-failed",function(t){console.info("Connection failed");var n=e.core.make("osjs/locale").translate;e.core.make("osjs/notification",{title:n("LBL_CONNECTION_FAILED"),message:n("LBL_CONNECTION_FAILED_MESSAGE")})}),this.core.on("osjs/window:transitionend",function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.emit.apply(e,["theme:window:transitionend"].concat(n))}),this.core.on("osjs/window:change",function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.emit.apply(e,["theme:window:change"].concat(n))});var t=this.core.make("osjs/tray").create({title:"OS.js developer tools"},function(t){return e.onDeveloperMenu(t)});this.core.on("destroy",function(){return t.destroy()}),this.core.$root.addEventListener("touchmove",function(e){return e.preventDefault()}),this.core.$root.addEventListener("dragover",function(e){e.preventDefault()}),this.core.$root.addEventListener("drop",function(e){e.preventDefault()});var n;["keydown","keyup","keypress"].forEach(function(t){e.core.$root.addEventListener(t,function(e){return function(e,t){var n=K.lastWindow();(function(e){return e&&!e.getState("minimized")&&e.getState("focused")})(n)&&n.emit(e,t,n)}(t,e)})}),this.core.$root.addEventListener("keydown",function(t){var n,r,o,i;if(t.target)if(114===t.keyCode)t.preventDefault(),e.search&&e.search.show();else if(9===t.keyCode){var s=t.target.tagName,a=-1!==["INPUT","TEXTAREA","SELECT","BUTTON"].indexOf(s);!function(e,t){return e&&e.$element.contains(t)}(K.lastWindow(),t.target)?t.preventDefault():a?"TEXTAREA"===s&&(n=t.target,r=n.selectionStart,o=n.selectionEnd,i=n.value,n.value=i.substring(0,r)+"\t"+i.substring(o,i.length),r++,n.selectionStart=r,n.selectionEnd=r):t.preventDefault()}}),this.core.$root.addEventListener("contextmenu",function(t){t.target===e.core.$root&&e.onContextMenu(t)}),window.addEventListener("mousedown",function(){var t=!1,n=function(){t||(t=!0,e.core.$root.setAttribute("data-mousemove",String(!0)))};window.addEventListener("mousemove",n),window.addEventListener("mouseup",function r(){t=!1,e.core.$root.setAttribute("data-mousemove",String(!1)),window.removeEventListener("mousemove",n),window.removeEventListener("mouseup",r)})}),window.addEventListener("resize",function(){clearTimeout(n),n=setTimeout(function(){return e._updateCSS()},200)}),history.pushState(null,null,document.URL),window.addEventListener("popstate",function(){history.pushState(null,null,document.URL)});var r=this.core.config("locale.rtl"),o=function(){var t=e.core.make("osjs/locale").getLocale().split("_")[0].toLowerCase(),n=-1!==r.indexOf(t);e.core.$root.setAttribute("data-dir",n?"rtl":"ltr")};this.core.on("osjs/settings:load",o),this.core.on("osjs/settings:save",o),this.core.on("osjs/core:started",o),this.core.$resourceRoot.appendChild(this.$styles)}},{key:"start",value:function(){this.search&&this.search.init(),this._updateCSS()}},{key:"_updateCSS",value:function(){if(this.$styles){var e,t=this.core.config("windows.mobile"),n=!!t&&this.core.$root.offsetWidth<=t;this.core.$root.setAttribute("data-mobile",n),this.$styles.innerHTML=(e=this.subtract,"\n  .osjs-root[data-mobile=true] .osjs-window,\n  .osjs-window[data-maximized=true] {\n    top: ".concat(e.top,"px !important;\n    left: ").concat(e.left,"px !important;\n    right: ").concat(e.right,"px !important;\n    bottom: ").concat(e.bottom,"px !important;\n    width: calc(100% -  ").concat(e.left+e.right,"px) !important;\n    height: calc(100% - ").concat(e.top+e.bottom,"px) !important;\n  }\n"))}}},{key:"addContextMenu",value:function(e){this.contextmenuEntries=this.contextmenuEntries.concat(e)}},{key:"applySettings",value:function(e){var t,n=this,r=this.core.config("desktop.lock"),o=this.core.config("desktop.settings");if(r)t=o;else{var i=e||this.core.make("osjs/settings").get("osjs/desktop");t=Oe(o,i,{arrayMerge:function(e,t){return t}})}var s,a,c,u=function(e,t){if(n.core.has(e)){var r=n.core.make(e);r.removeAll(),t.forEach(function(e){return r.create(e)})}};return a=(s=t).font,c=s.background,n.core.$root.style.fontFamily="".concat(a,", sans-serif"),function(e,t){var n=e.$root,r={backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"auto",backgroundColor:t.color,backgroundImage:"none"};"cover"===t.style||"contain"===t.style?r.backgroundSize=t.style:"repeat"===t.style&&(r.backgroundRepeat="repeat"),"color"!==t.style&&t.src&&("string"==typeof t.src?r.backgroundImage="url(".concat(t.src,")"):e.make("osjs/vfs").url(t.src).then(function(e){setTimeout(function(){return n.style.backgroundImage="url(".concat(e,")")},1)}).catch(function(e){return console.warn(e)})),Object.keys(r).forEach(function(e){return n.style[e]=r[e]})}(n.core,c),u("osjs/panels",t.panels),u("osjs/widgets",t.widgets),this.applyTheme(t.theme),this.applyIcons(t.icons),Object.assign({},t)}},{key:"_removeTheme",value:function(){this.emit("theme:destroy"),this.off(["theme:init","theme:destroy","theme:window:change","theme:window:transitionend"]),this.$theme.forEach(function(e){e&&e.parentNode&&e.remove()}),this.$theme=[]}},{key:"_removeIcons",value:function(){this.$icons.forEach(function(e){e&&e.parentNode&&e.remove()}),this.$icons=[]}},{key:"applyIcons",value:function(e){var t=this;return e=e||this.core.config("desktop.icons"),this._applyTheme(e).then(function(e){var n=e.elements;e.errors,e.callback,e.metadata;t._removeIcons(),t.$icons=Object.values(n),t.emit("icons:init")})}},{key:"applyTheme",value:function(e){var t=this;return e=e||this.core.config("desktop.theme"),this._applyTheme(e).then(function(e){var n=e.elements,r=(e.errors,e.callback),o=e.metadata;if(t._removeTheme(),r&&o)try{r(t.core,t,{},o)}catch(e){console.warn(e)}t.$theme=Object.values(n),t.emit("theme:init")})}},{key:"_applyTheme",value:function(e,t){return this.core.make("osjs/packages").launch(e).then(function(e){return e.errors.length&&console.error(e.errors),e})}},{key:"_applySettingsByKey",value:function(e,t){var n=this;return this.core.make("osjs/settings").set("osjs/desktop",e,t).save().then(function(){return n.applySettings()})}},{key:"onDeveloperMenu",value:function(e){var t=this,n=this.core.make("osjs/locale").translate,r=this.core.make("osjs/settings").get(),o=Object.keys(r).map(function(e){return{label:e,onclick:function(){t.core.make("osjs/settings").clear(e).then(function(){return t.applySettings()})}}});this.core.make("osjs/contextmenu").show({position:e,menu:[{label:n("LBL_KILL_ALL"),onclick:function(){return te.destroyAll()}},{label:n("LBL_APPLICATIONS"),items:te.getApplications().map(function(e){return{label:"".concat(e.metadata.name," (").concat(e.pid,")"),items:[{label:n("LBL_KILL"),onclick:function(){return e.destroy()}},{label:n("LBL_RELOAD"),onclick:function(){return e.relaunch()}}]}})},{label:"Clear Storage",items:o}]})}},{key:"onContextMenu",value:function(e){var t,n=this,r=this.core.config("desktop.lock"),o=(t=[]).concat.apply(t,p()(this.contextmenuEntries.map(function(e){return"function"==typeof e?e():e}))),i=this.core.config("desktop.contextmenu");if(!1!==i&&!1!==i.enabled){var s=!0===i||i.defaults,a=this.core.make("osjs/locale").translate,c=this.core.make("osjs/locale").translatableFlat,u=this.core.make("osjs/packages").getPackages(function(e){return"theme"===e.type}),l=r?[]:[{label:a("LBL_DESKTOP_SELECT_WALLPAPER"),onclick:function(){n.core.make("osjs/dialog","file",{mime:["^image"]},function(e,t){"ok"===e&&n._applySettingsByKey("background.src",t)})}},{label:a("LBL_DESKTOP_SELECT_THEME"),items:u.map(function(e){return{label:c(e.title,e.name),onclick:function(){n._applySettingsByKey("theme",e.name)}}})}],f="function"===s?i.defaults(this,l):s?l:[],d="function"==typeof this.options.contextmenu?this.options.contextmenu(this,l):this.options.contextmenu||[],h=[].concat(p()(f),p()(d),p()(o));h.length&&this.core.make("osjs/contextmenu").show({menu:h,position:e})}}},{key:"getRect",value:function(){var e=this.core.$root,t=this.subtract,n=t.left,r=t.top,o=t.right,i=t.bottom;return{width:e.offsetWidth-n-o,height:e.offsetHeight-r-i,top:r,bottom:i,left:n,right:o}}}]),t}(k.EventEmitter),Ae="Notification"in window,we=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};v()(this,e);var o=t.make("osjs/locale").translate("LBL_NOTIFICATION");this.core=t,this.$root=n,this.$element=document.createElement("div"),this.destroyed=!1,this.options=Object.assign({icon:null,title:o,message:o,timeout:5e3,native:t.config("notifications.native",!1)},r),this.core.emit("osjs/notification:create",this)}return g()(e,[{key:"destroy",value:function(){this.destroyed||(this.destroyed=!0,this.core.emit("osjs/notification:destroy",this),this.$element.remove(),this.$element=null,this.$root=null)}},{key:"render",value:function(){var e=this,t=function(){return e.destroy()},n=function(){e.$element.classList.add("osjs-notification"),e.options.timeout&&setTimeout(function(){return e.destroy()},e.options.timeout),e.$element.addEventListener("click",t),e.$root.appendChild(e.$element),ye(e.options,{},function(e){return _e("div",{class:"osjs-notification-wrapper","data-has-icon":!!e.icon,style:{backgroundImage:e.icon?"url(".concat(e.icon,")"):void 0}},[_e("div",{class:"osjs-notification-title"},e.title),_e("div",{class:"osjs-notification-message"},e.message)])},e.$element)};this.options.native?function(e,t){var n=window.Notification,r=function(){var r=new n(e.title,{body:e.message,icon:e.icon});return r.onclick=t,r};if(Ae){if("granted"===n.permission)return Promise.resolve(r());if("denied"!==n.permission)return new Promise(function(e,t){n.requestPermission(function(n){return"granted"===n?e(!0):t(n)})}).then(r)}return Promise.reject("Unsupported")}(this.options,t).catch(function(e){console.warn(e),n()}):n()}}]),e}(),Te=n(22),Se=C(),Be=!!Se&&{passive:!0},ke={maximize:function(e){return e.maximize()?null:e.restore()},minimize:function(e){return e.minimize()},close:function(e){return e.close()}},Ne=function(e,t){var n=function(e){var t=e.attributes,n=t.maxDimension,r=t.minDimension,o=e.state,i=o.position,s=o.dimension,a={left:i.left+s.width-r.width,top:i.top+s.height-r.height},c=function(e,t,n){var r=-1===e?n:Math.max(e,n);return-1===t?r:Math.min(t,r)};return function(e,t,o,i){return{width:c(r.width,n.width,e),height:c(r.height,n.height,t),top:c(-1,a.top,o),left:c(-1,a.left,i)}}}(e),r=e.state,o=r.position,i=r.dimension,s=t.getAttribute("data-direction").split(""),a=function(e){return-1!==s.indexOf(e)},c=a("e")?1:a("w")?-1:0,u=a("s")?1:a("n")?-1:0;return function(e,t){var r=i.width+e*c,s=i.height+t*u,a=-1===u?o.top+t:o.top,l=-1===c?o.left+e:o.left;return n(r,s,a,l)}},je=function(e){var t=e.clientX,n=e.clientY,r=e.target,o=e.touches||e.changedTouches||[];return o.length&&(t=o[0].clientX,n=o[0].clientY),{clientX:t,clientY:n,touch:o.length>0,target:r}},Pe=function(e){return Object.keys(e.attributes.mediaQueries).filter(function(t){return Te.match(e.attributes.mediaQueries[t],{type:"screen",orientation:(n=window.screen,n&&n.orientation?n.orientation.type:window.matchMedia("(orientation: portrait)")?"portrait":"landscape"),width:e.state.dimension.width,height:e.state.dimension.height});var n}).pop()},Re=function(){function e(t){v()(this,e),this.core=t,this.lastAction=null,this.$lofi=document.createElement("div"),this.$lofi.className="osjs-window-behavior-lofi"}return g()(e,[{key:"init",value:function(e){var t=this,n=function(n){return t.mousedown(n,e)},r=function(n){return t.mousedown(n,e)},o=function(n){return t.click(n,e)},i=function(n){return t.dblclick(n,e)},s=function(n){n.stopPropagation(),n.preventDefault(),t.iconDblclick(n,e)},a=function(n){n.stopPropagation(),n.preventDefault(),t.iconClick(n,e)},c=function(n){e&&e.emit("transitionend"),t.core.emit("osjs/window:transitionend",n,e)};e.$element.addEventListener("touchstart",n,Be),e.$element.addEventListener("mousedown",r),e.$element.addEventListener("click",o),e.$element.addEventListener("dblclick",i),e.$element.addEventListener("transitionend",c),e.$icon&&(e.$icon.addEventListener("dblclick",s),e.$icon.addEventListener("click",a)),e.on("destroy",function(){e.$element&&(e.$element.removeEventListener("touchstart",n,Be),e.$element.removeEventListener("mousedown",r),e.$element.removeEventListener("click",o),e.$element.removeEventListener("dblclick",i),e.$element.removeEventListener("transitionend",c)),e.$icon&&(e.$icon.removeEventListener("dblclick",s),e.$icon.removeEventListener("click",a))});var u=this.core.has("osjs/desktop")?this.core.make("osjs/desktop").getRect():{top:0,left:0},l=function(e,t,n){var r=10+t.left,o=10+t.top,i=r+e.wid%20*10,s=o+e.wid%20*10;return{top:"number"==typeof n.top?Math.max(t.top,n.top):s,left:"number"==typeof n.left?Math.max(t.left,n.left):i}}(e,u,e.state.position),f=l.top,d=l.left;e.state.position.top=f,e.state.position.left=d,e.state.media=Pe(e)}},{key:"click",value:function(e,t){if(!this.lastAction&&e.target.classList.contains("osjs-window-button")){var n=e.target.getAttribute("data-action");ke[n](t)}}},{key:"dblclick",value:function(e,t){this.lastAction||e.target.classList.contains("osjs-window-header")&&(t.state.maximized?t.restore():t.state.minimized?t.raise():t.maximize())}},{key:"mousedown",value:function(e,t){var n,r=this,o=!1,i=t.attributes,s=i.moveable,a=i.resizable,c=this.core.config("windows").lofi,u=je(e),l=u.clientX,f=u.clientY,d=u.touch,h=u.target,p=e.ctrlKey?t.$element.contains(h):h.classList.contains("osjs-window-header"),m=this.core.has("osjs/desktop")?this.core.make("osjs/desktop").getRect():{top:0,left:0},v=h.classList.contains("osjs-window-resize")?Ne(t,h):null,L=p?function(e,t){var n=e.state.position;return function(e,r){return{top:Math.max(n.top+r,t.top),left:n.left+e}}}(t,m):null,g=function(e){if(Se||e.preventDefault(),!(!s&&L||!a&&v)){var i=je(e),u=v?Math.max(m.left,i.clientX):i.clientX,d=v?Math.max(m.top,i.clientY):i.clientY,h=u-l,p=d-f;if(v){var g=v(h,p),_=g.width,y=g.height,E=g.top,O=g.left;n=function(){t._setState("dimension",{width:_,height:y},!1),t._setState("position",{top:E,left:O},!1)},c?(r.$lofi.style.top="".concat(E,"px"),r.$lofi.style.left="".concat(O,"px"),r.$lofi.style.width="".concat(_,"px"),r.$lofi.style.height="".concat(y,"px")):n(),r.lastAction="resize"}else if(L){var b=L(h,p);n=function(){t._setState("position",b,!1)},c?(r.$lofi.style.top="".concat(b.top,"px"),r.$lofi.style.left="".concat(b.left,"px")):n(),r.lastAction="move"}r.lastAction&&(t._setState("move"===r.lastAction?"moving":"resizing",!0),o||(r.core.$root.setAttribute("data-window-action",String(!0)),o=!0))}},_=function e(){d?(document.removeEventListener("touchmove",g,Be),document.removeEventListener("touchend",e,Be)):(document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",e)),t._setState("media",Pe(t),!1),c&&(r.$lofi.remove(),n&&n(),n=void 0),"move"===r.lastAction?(t.emit("moved",Object.assign({},t.state.position),t),t._setState("moving",!1)):"resize"===r.lastAction&&(t.emit("resized",Object.assign({},t.state.dimension),t),t._setState("resizing",!1)),r.core.$root.setAttribute("data-window-action",String(!1))};t.focus()||t.setNextZindex(),(L||v)&&(d?(document.addEventListener("touchmove",g,Be),document.addEventListener("touchend",_,Be)):(document.addEventListener("mousemove",g),document.addEventListener("mouseup",_))),this.lastAction=null,this.core.has("osjs/contextmenu")&&this.core.make("osjs/contextmenu").hide(),c&&(this.$lofi.style.zIndex=t.state.zIndex+1,this.$lofi.style.top="".concat(t.state.position.top,"px"),this.$lofi.style.left="".concat(t.state.position.left,"px"),this.$lofi.style.width="".concat(t.state.dimension.width,"px"),this.$lofi.style.height="".concat(t.state.dimension.height,"px"),this.$lofi.parentNode||document.body.appendChild(this.$lofi))}},{key:"iconDblclick",value:function(e,t){t.close()}},{key:"iconClick",value:function(e,t){var n=t.state,r=n.minimized,o=n.maximized,i=t.attributes,s=i.minimizable,a=i.maximizable,c=i.closeable,u=this.core.make("osjs/locale").translate;this.core.make("osjs/contextmenu",{position:e,menu:[{label:u(r?"LBL_RAISE":"LBL_MINIMIZE"),disabled:!s,onclick:function(){return r?t.raise():t.minimize()}},{label:u(o?"LBL_RESTORE":"LBL_MAXIMIZE"),disabled:!a,onclick:function(){return o?t.restore():t.maximize()}},{label:u("LBL_CLOSE"),disabled:!c,onclick:function(){return t.close()}}]})}}]),e}(),Ie=function(e,t,n){return t.map(function(t){return _e("div",{class:"osjs-login-field osjs-login-field-"+t.tagName},_e(t.tagName,function(e,t,n){return n=n?"disabled":void 0,"input"===t.tagName&&"submit"!==t.attributes.type?Object.assign({},{autocapitalize:"off",autocomplete:"new-"+t.attributes.name,disabled:n,oncreate:function(n){return n.value=e[t.attributes.name]||t.value||""}},t.attributes):Object.assign({disabled:n},t.attributes)}(e,t,n),function(e){return"select"===e.tagName&&e.choices?e.choices.map(function(e){return _e("option",{current:e.current?"current":void 0,value:e.value},e.label)}):[]}(t)))})},Ce=function(e){function t(e,n){var r;return v()(this,t),(r=y()(this,O()(t).call(this,"Login"))).$container=null,r.core=e,r.options=Object.assign({id:"osjs-login",title:"Welcome to OS.js",stamp:e.config("version"),logo:{position:"top",src:null},fields:[{tagName:"input",attributes:{name:"username",type:"text",placeholder:"Username"}},{tagName:"input",attributes:{name:"password",type:"password",placeholder:"Password"}},{tagName:"input",attributes:{type:"submit",value:"Login"}}]},n),r}return T()(t,e),g()(t,[{key:"init",value:function(e){this.$container=document.createElement("div"),this.$container.id=this.options.id,this.$container.className="osjs-login-base",this.core.$root.classList.add("login"),this.core.$root.appendChild(this.$container),this.render(e)}},{key:"destroy",value:function(){this.core.$root.classList.remove("login"),this.$container&&this.$container.remove()}},{key:"render",value:function(e){var t=this,n=this.options.logo,r=n.src,o=n.position,i=this.core.config("auth.login",{}),s=function(){return _e("div",{class:"osjs-login-logo","data-position":o,style:{backgroundImage:"url('".concat(r,"')")}})},a=ye(Object.assign({hidden:e},i),{setLoading:function(e){return function(t){return{loading:e}}},setError:function(e){return function(t){return{error:e,hidden:!1}}},submit:function(e){return function(n){if(e.preventDefault(),!n.loading){var r=Array.from(e.target.elements).filter(function(e){return"submit"!==e.type}).reduce(function(e,t){return Object.assign(e,d()({},t.name,t.value))},{});t.emit("login:post",r)}}}},function(e,n){var i=[];t.options.title&&i.push(_e("div",{class:"osjs-login-header"},_e("span",{},t.options.title))),r&&-1!==["top","middle"].indexOf(o)&&i["top"===o?"unshift":"push"](s());var a=function(e){return o===e?_e("div",{"data-position":o},s()):null},c=function(e){var n=Ie(e,t.options.fields,e.loading);return r&&"bottom"===o&&n.push(s()),t.options.stamp&&n.push(_e("div",{class:"osjs-login-stamp"},t.options.stamp)),n}(e),u=[].concat(i,[_e("div",{class:"osjs-login-error",style:{display:e.error?"block":"none"}},_e("span",{},e.error)),_e("form",{loading:!1,method:"post",action:"#",autocomplete:"off",onsubmit:n.submit},c)]);return _e("div",{class:"osjs-login",id:t.options.id,style:{display:e.hidden?"none":void 0}},[a("left"),_e("div",{class:"osjs-login-content"},u),a("right")].filter(function(e){return!!e}))},this.$container);this.on("login:start",function(){return a.setLoading(!0)}),this.on("login:stop",function(){return a.setLoading(!1)}),this.on("login:error",function(e){return a.setError(e)})}}]),t}(k.EventEmitter),xe=n(14),Me=n.n(xe),De=function(){function e(t){v()(this,e),this.core=t}return g()(e,[{key:"save",value:function(){var e=te.getApplications().filter(function(e){return!1!==e.options.sessionable}).map(function(e){return e.getSession()});return this.core.make("osjs/settings").set("osjs/session",null,e).save()}},{key:"load",value:function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&te.destroyAll();var t=this.core.make("osjs/settings").get("osjs/session");return!t||t instanceof Array||(t=Object.values(t)),t&&(console.group("Session::load()"),t.forEach(function(t){try{e.core.run(t.name,t.args,{restore:{windows:t.windows}})}catch(e){console.warn(e)}}),console.groupEnd()),Promise.resolve(!0)}}]),e}(),Fe=function(){function e(t){v()(this,e),this.core=t,this.packages=[],this.metadata=[],this.loaded=[],this.running=[]}return g()(e,[{key:"destroy",value:function(){this.packages=[],this.metadata=[]}},{key:"init",value:function(){var e,t=this;return console.debug("Packages::init()"),this.core.on("osjs/core:started",function(){t.metadata.filter(function(e){return!0===e.autostart}).forEach(function(e){return t.launch(e.name)})}),(e=this.core,fetch(e.url("/metadata.json")).then(function(e){return e.json()})).then(function(e){t.metadata=e.map(function(e){return Object.assign({type:"application"},e)})})}},{key:"preload",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.core.$resourceRoot,o=function(e){return!n&&t.loaded.find(function(t){return t===e})},i=e.filter(function(e){return!o(e)}).map(function(e){return console.debug("Packages::preload()",e),(e.match(/\.js$/)?I(r,e):R(r,e)).then(function(t){return{success:!0,entry:e,el:t}}).catch(function(t){return{success:!1,entry:e,error:t}})});return Promise.all(i).then(function(e){var n=e.filter(function(e){return e.success});n.forEach(function(e){o(e)||t.loaded.push(e)});var r=e.filter(function(e){return!e.success});return r.forEach(function(e){return console.warn("Failed loading",e.entry,e.error)}),{errors:r.map(function(e){return e.entry}),elements:n.reduce(function(e,t){return Object.assign({},e,d()({},t.entry,t.el))},{})}})}},{key:"launch",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};console.debug("Packages::launch()",e,n,r);var o=!1,i=this.core.make("osjs/locale").translate,s=this.metadata.find(function(t){return t.name===e});if(!s)throw new Error(i("ERR_PACKAGE_NOT_FOUND",e));if(-1!==["theme","icons","sounds"].indexOf(s.type))return this._launchTheme(e,s.type);if(s.singleton){var a=te.getApplications().find(function(e){return e.metadata.name===s.name});if(a)return a.emit("attention",n,r),o=!0,Promise.resolve(a);if(this.running.filter(function(t){return t===e}).length>0)return new Promise(function(i,s){t.core.on("osjs/application:launched",function(t,s){o?i(s):t===e&&(s.emit("attention",n,r),i(s))})})}return this.core.emit("osjs/application:launch",e,n,r),this.running.push(e),this._launch(e,s,n,r)}},{key:"_launchTheme",value:function(e,t){var n=this,r=this.core.make("osjs/locale").translate,o=this.getPackages(function(e){return-1!==["theme","icons","sounds"].indexOf(e.type)}).find(function(t){return t.name===e});if(!o)throw new Error(r("ERR_PACKAGE_NOT_FOUND",e));var i=(o.files||[]).map(function(e){return n.core.url(e,{},Object.assign({type:t},o))});return this.preload(i).then(function(t){return Object.assign({elements:{}},t,n.packages.find(function(t){return t.metadata.name===e})||{})})}},{key:"_launch",value:function(e,t,n,r){var o=this,i=this.core.make("osjs/locale").translate,s=function(t){o.core.has("osjs/dialog")?o.core.make("osjs/dialog","alert",{type:"error",title:i("ERR_PACKAGE_EXCEPTION",e),message:i("ERR_PACKAGE_EXCEPTION",e),error:t},function(){}):alert("".concat(i("ERR_PACKAGE_EXCEPTION",e),": ").concat(t.stack||t))},a=function(t){throw o.core.emit("osjs/application:launched",e,!1),s(t),new Error(t)},c=t.files.map(function(e){return o.core.url(e,{},Object.assign({type:"apps"},t))});return this.preload(c,!0===r.forcePreload).then(function(t){var c=t.errors;c.length&&a(i("ERR_PACKAGE_LOAD",e,c.join(", ")));var u=o.packages.find(function(t){return t.metadata.name===e});return u||a(i("ERR_PACKAGE_NO_RUNTIME",e)),function(t){var i;try{console.group("Packages::_launch()"),(i=t.callback(o.core,n,r,t.metadata))instanceof te?i.on("destroy",function(){var t=o.running.findIndex(function(t){return t===e});-1!==t&&o.running.splice(t,1)}):console.warn("The application",e,"did not return an Application instance from registration")}catch(e){s(e),console.warn(e)}finally{o.core.emit("osjs/application:launched",e,i),console.groupEnd()}return i}(u)})}},{key:"register",value:function(e,t){console.info("Packages::register()",e);var n=this.core.make("osjs/locale").translate,r=this.metadata.find(function(t){return t.name===e});if(!r)throw new Error(n("ERR_PACKAGE_NO_METADATA",e));var o=this.packages.findIndex(function(t){return t.metadata.name===e});-1!==o&&this.packages.splice(o,1),this.packages.push({metadata:r,callback:t})}},{key:"getPackages",value:function(e){e=e||function(){return!0};var t=this.core.getUser();return this.metadata.map(function(e){return Object.assign({},e)}).filter(function(e){return!(e.groups instanceof Array)||e.groups.every(function(e){return-1!==t.groups.indexOf(e)})}).filter(function(e){return!(t.blacklist instanceof Array)||-1===t.blacklist.indexOf(e.name)}).filter(e)}},{key:"getCompatiblePackages",value:function(e){return this.getPackages(function(t){return!!t.mimes&&!!t.mimes.find(function(t){try{return new RegExp(t).test(e)}catch(e){console.warn(e)}return t===e})})}}]),e}(),Ue=function(){function e(t){v()(this,e),this.core=t,this.entries=[]}return g()(e,[{key:"destroy",value:function(){this.entries=[]}},{key:"create",value:function(e,t){var r=this,o=this.core.make("osjs/locale").translate("LBL_TRAY");t=t||function(){};var i=Object.assign({},{icon:n(15),title:o,onclick:t,oncontextmenu:t,handler:t},e);return console.debug("Created new tray entry",i),this.entries.push(i),this.core.emit("osjs/tray:create",i),this.core.emit("osjs/tray:update",this.entries),{entry:i,update:function(e){Object.keys(e).forEach(function(t){return i[t]=e[t]}),r.core.emit("osjs/tray:update",r.entries)},destroy:function(){return r.remove(i)}}}},{key:"remove",value:function(e){var t=this.entries.findIndex(function(t){return t===e});-1!==t&&(this.entries.splice(t,1),this.core.emit("osjs/tray:remove",e),this.core.emit("osjs/tray:update",this.entries))}}]),e}(),$e=function(){function e(){v()(this,e),this.value=void 0,this.clear()}return g()(e,[{key:"destroy",value:function(){this.clear()}},{key:"clear",value:function(){this.value=Promise.resolve()}},{key:"set",value:function(e){this.value=e}},{key:"get",value:function(e){var t=this,n="function"==typeof this.value?n():n,r=function(n){return e&&t.clear(),n};return Promise.resolve(n).then(r).catch(r)}}]),e}(),Ge={ERR_REQUEST_STANDALONE:"Cannot make requests in standalone mode.",ERR_REQUEST_NOT_OK:"An error occured while performing a request: {0}",ERR_VFS_MOUNT_NOT_FOUND:"Filesystem '{0}' not found",ERR_VFS_MOUNT_NOT_FOUND_FOR:"Filesystem not found for '{0}'",ERR_VFS_MOUNT_NOT_MOUNTED:"Filesystem '{0}' not mounted",ERR_VFS_MOUNT_ALREADY_MOUNTED:"Filesystem '{0}' already mounted",ERR_VFS_PATH_FORMAT_INVALID:"Given path '{0}' does not match 'name:/path'",ERR_PACKAGE_NOT_FOUND:"Package Metadata '{0}' not found",ERR_PACKAGE_LOAD:"Package Loading '{0}' failed: {1}",ERR_PACKAGE_NO_RUNTIME:"Package Runtime '{0}' not found",ERR_PACKAGE_NO_METADATA:"Metadata not found for '{0}'. Is it in the manifest?",ERR_PACKAGE_EXCEPTION:"An exception occured in '{0}'",ERR_WINDOW_ID_EXISTS:"Window with ID '{0}' already exists",ERR_INVALID_LOCALE:"Invalid locale '{0}'",LBL_CONNECTION_LOST:"Connection Lost",LBL_CONNECTION_LOST_MESSAGE:"The connection to the OS.js was lost. Reconnecting....",LBL_CONNECTION_RESTORED:"Connection Restored",LBL_CONNECTION_RESTORED_MESSAGE:"The connection to the OS.js server was restored.",LBL_CONNECTION_FAILED:"Connection Failed",LBL_CONNECTION_FAILED_MESSAGE:"The connection to the OS.js could not be established. Some features might not work properly.",LBL_APP_CAT_DEVELOPMENT:"Development",LBL_APP_CAT_SCIENCE:"Science",LBL_APP_CAT_GAMES:"Games",LBL_APP_CAT_GRAPHICS:"Graphics",LBL_APP_CAT_NETWORK:"Network",LBL_APP_CAT_MULTIMEDIA:"Multimedia",LBL_APP_CAT_OFFICE:"Office",LBL_APP_CAT_SYSTEM:"System",LBL_APP_CAT_UTILITIES:"Utilities",LBL_APP_CAT_OTHER:"Other",LBL_LAUNCH_SELECT:"Select application",LBL_LAUNCH_SELECT_MESSAGE:"Select application for '{0}'",LBL_DESKTOP_SELECT_WALLPAPER:"Select wallpaper",LBL_DESKTOP_SELECT_THEME:"Select theme",LBL_SEARCH_TOOLTOP:"Search Filesystem ({0})",LBL_SEARCH_PLACEHOLDER:"Search filesystems...",LBL_SEARCH_WAIT:"Searching...",LBL_SEARCH_RESULT:"Showing {0} results",LBL_FS_B:"B",LBL_FS_M:"M",LBL_FS_G:"G",LBL_FS_KIB:"KiB",LBL_FS_MIB:"MiB",LBL_FS_GIB:"GiB",LBL_TOP:"Top",LBL_LEFT:"Left",LBL_RIGHT:"Right",LBL_BOTTOM:"Bottom",LBL_MENU:"Menu",LBL_ERROR:"Error",LBL_INFO:"Info",LBL_MESSAGE:"Message",LBL_WARNINIG:"Warning",LBL_SUCCESS:"Success",LBL_FAILURE:"Failure",LBL_WINDOW:"Window",LBL_WINDOWS:"Windows",LBL_NOTIFICATION:"Notification",LBL_NOTIFICATIONS:"Notifications",LBL_TRAY:"Tray Entry",LBL_NAME:"Name",LBL_TYPE:"Type",LBL_SIZE:"Size",LBL_FILE:"File",LBL_NEW:"New",LBL_OPEN:"Open",LBL_SAVE:"Save",LBL_SAVEAS:"Save As",LBL_OK:"OK",LBL_ABORT:"Abort",LBL_CANCEL:"Cancel",LBL_CLOSE:"Close",LBL_QUIT:"Quit",LBL_YES:"Yes",LBL_NO:"No",LBL_GO:"Go",LBL_MKDIR:"Create new directory",LBL_MKFILE:"Create new file",LBL_COPY:"Copy",LBL_PASTE:"Paste",LBL_CUT:"Cut",LBL_MOVE:"Move",LBL_RENAME:"Rename",LBL_DELETE:"Delete",LBL_DOWNLOAD:"Download",LBL_REFRESH:"Refresh",LBL_RELOAD:"Reload",LBL_HOME:"Home",LBL_VIEW:"View",LBL_HELP:"Help",LBL_ABOUT:"About",LBL_APPLICATION:"Application",LBL_APPLICATIONS:"Applications",LBL_KILL:"Kill",LBL_KILL_ALL:"Kill all",LBL_MINIMIZE:"Minimize",LBL_MAXIMIZE:"Maximize",LBL_RESTORE:"Restore",LBL_RAISE:"Raise",LBL_SHADE:"Shade",LBL_UNSHADE:"Unshade",LBL_ONTOP:"On top",LBL_RESIZE:"Resize",LBL_BACK:"Back",LBL_FORWARD:"Forward",LBL_UPLOAD:"Upload",LBL_IMAGE:"Image"},He={ERR_REQUEST_STANDALONE:"Impossible d'effectuer des requêtes en mode autonome.",ERR_REQUEST_NOT_OK:"Une erreur s'est produite en exécutant une requête : {0}",ERR_VFS_MOUNT_NOT_FOUND:"Système de fichier '{0}' absent",ERR_VFS_MOUNT_NOT_FOUND_FOR:"Système de fichier pour '{0}' absent",ERR_VFS_MOUNT_NOT_MOUNTED:"Le système de fichier '{0}' n'est pas encore monté",ERR_VFS_MOUNT_ALREADY_MOUNTED:"Le système de fichier '{0}' est déjà monté",ERR_VFS_PATH_FORMAT_INVALID:"Le dossier '{0}' ne correspond pas 'name:/path'",ERR_PACKAGE_NOT_FOUND:"Les métadonnées du paquet '{0}' n'ont pas été touvées",ERR_PACKAGE_LOAD:"Le chargement du paquet '{0}' a échoué: {1}",ERR_PACKAGE_NO_RUNTIME:"Durée d'exécution du paquet '{0}' absente",ERR_PACKAGE_NO_METADATA:"Métadonnée absentes pour '{0}'. Sont-elles dans le manifeste ?",ERR_PACKAGE_EXCEPTION:"Une exception s'est produite dans '{0}'",ERR_WINDOW_ID_EXISTS:"La fénêtre avec l'identifiant '{0}' existe déjà",ERR_INVALID_LOCALE:"Paramètre de langue invalide '{0}'",LBL_CONNECTION_LOST:"Connexion perdue",LBL_CONNECTION_LOST_MESSAGE:"La connexion à OS.js a été perdue. Reconnexion...",LBL_CONNECTION_RESTORED:"Connexion Restaurée",LBL_CONNECTION_RESTORED_MESSAGE:"La connexion à OS.js a été restaurée.",LBL_APP_CAT_DEVELOPMENT:"Développement",LBL_APP_CAT_SCIENCE:"Science",LBL_APP_CAT_GAMES:"Jeux",LBL_APP_CAT_GRAPHICS:"Graphisme",LBL_APP_CAT_NETWORK:"Réseau",LBL_APP_CAT_MULTIMEDIA:"Multimédia",LBL_APP_CAT_OFFICE:"Bureautique",LBL_APP_CAT_SYSTEM:"Système",LBL_APP_CAT_UTILITIES:"Utilitaires",LBL_APP_CAT_OTHER:"Autre",LBL_LAUNCH_SELECT:"Sélectionner l'application",LBL_LAUNCH_SELECT_MESSAGE:"Sélectionner l'application pour '{0}'",LBL_DESKTOP_SELECT_WALLPAPER:"Sélectionner le fond d'écran",LBL_DESKTOP_SELECT_THEME:"Sélectionner le thème",LBL_SEARCH_TOOLTOP:"Recherche d'un système de fichier ({0})",LBL_SEARCH_PLACEHOLDER:"Recherche des systèmes de fichiers...",LBL_SEARCH_WAIT:"Recherche...",LBL_SEARCH_RESULT:"Affichage des résultats {0}",LBL_FS_B:"B",LBL_FS_M:"M",LBL_FS_G:"G",LBL_FS_KIB:"KiB",LBL_FS_MIB:"MiB",LBL_FS_GIB:"GiB",LBL_TOP:"En Haut",LBL_LEFT:"À Gauche",LBL_RIGHT:"À Droite",LBL_BOTTOM:"En Bas",LBL_MENU:"Menu",LBL_ERROR:"Erreur",LBL_INFO:"Info",LBL_MESSAGE:"Message",LBL_WARNINIG:"Attention",LBL_SUCCESS:"Succés",LBL_FAILURE:"Échec",LBL_WINDOW:"Fenêtre",LBL_WINDOWS:"Fenêtres",LBL_NOTIFICATION:"Notification",LBL_NOTIFICATIONS:"Notifications",LBL_TRAY:"Accès au plateau",LBL_NAME:"Nom",LBL_TYPE:"Type",LBL_SIZE:"Taille",LBL_FILE:"Fichier",LBL_NEW:"Nouveau",LBL_OPEN:"Ouvrir",LBL_SAVE:"Sauvegarder",LBL_SAVEAS:"Sauvegarder comme",LBL_OK:"OK",LBL_ABORT:"Abandonner",LBL_CANCEL:"Annuler",LBL_CLOSE:"Fermer",LBL_QUIT:"Quitter",LBL_YES:"Oui",LBL_NO:"Non",LBL_GO:"C'est parti !",LBL_MKDIR:"Créer nouveau dossier",LBL_MKFILE:"Créer nouveau fichier",LBL_COPY:"Copier",LBL_PASTE:"Coller",LBL_CUT:"Couper",LBL_MOVE:"Déplacer",LBL_RENAME:"Renommer",LBL_DELETE:"Supprimer",LBL_DOWNLOAD:"Télécharger",LBL_REFRESH:"Rafraichir",LBL_RELOAD:"Recharger",LBL_HOME:"Accueil",LBL_VIEW:"Aperçu",LBL_HELP:"Aide",LBL_ABOUT:"À propos",LBL_APPLICATION:"Application",LBL_APPLICATIONS:"Applications",LBL_KILL:"Tuer",LBL_KILL_ALL:"Tuer tout"},Ke={ERR_REQUEST_STANDALONE:"Kan ikke gjøre spørringer i standalone modus.",ERR_REQUEST_NOT_OK:"En feil oppstod under spørring: {0}",ERR_VFS_MOUNT_NOT_FOUND:"Filsystem '{0}' ikke funnet",ERR_VFS_MOUNT_NOT_FOUND_FOR:"Filsystem ikke funnet for '{0}'",ERR_VFS_MOUNT_NOT_MOUNTED:"Filsystem '{0}' ikke montert",ERR_VFS_MOUNT_ALREADY_MOUNTED:"Filesystem '{0}' allerede montert",ERR_VFS_PATH_FORMAT_INVALID:"Angitt sti '{0}' tilfredstiller ikke format 'name:/path'",ERR_PACKAGE_NOT_FOUND:"Pakke Metadata '{0}' ikke funnet",ERR_PACKAGE_LOAD:"Pakke Lasting '{0}' feilet: {1}",ERR_PACKAGE_NO_RUNTIME:"Pakke Runtime '{0}' ikke funnet",ERR_PACKAGE_NO_METADATA:"Metadata ikke funnet for '{0}'. Er den i manifestet?",ERR_PACKAGE_EXCEPTION:"En unntaksfeil oppstod i '{0}'",ERR_WINDOW_ID_EXISTS:"Vindu med ID '{0}' eksisterer allerede",ERR_INVALID_LOCALE:"Ugyldig lokalisering '{0}'",LBL_CONNECTION_LOST:"Tilkobling tapt",LBL_CONNECTION_LOST_MESSAGE:"Tilkobling til OS.js var tapt. Kobler til på nytt....",LBL_CONNECTION_RESTORED:"Tilkobling gjenopprettet",LBL_CONNECTION_RESTORED_MESSAGE:"Tilkobling til OS.js var gjenopprettet.",LBL_CONNECTION_FAILED:"Tilkobling feilet",LBL_CONNECTION_FAILED_MESSAGE:"Tilkobling til OS.js var ikke vellykket. Noen egenskaper er utilgjenglig.",LBL_APP_CAT_DEVELOPMENT:"Utvikling",LBL_APP_CAT_SCIENCE:"Vitenskap",LBL_APP_CAT_GAMES:"Spill",LBL_APP_CAT_GRAPHICS:"Grafikk",LBL_APP_CAT_NETWORK:"Nettverk",LBL_APP_CAT_MULTIMEDIA:"Multimedia",LBL_APP_CAT_OFFICE:"Kontor",LBL_APP_CAT_SYSTEM:"System",LBL_APP_CAT_UTILITIES:"Verktøy",LBL_APP_CAT_OTHER:"Andre",LBL_LAUNCH_SELECT:"Velg applikasjon",LBL_LAUNCH_SELECT_MESSAGE:"Velg applikasjon for '{0}'",LBL_DESKTOP_SELECT_WALLPAPER:"Velg bakgrunnsbilde",LBL_DESKTOP_SELECT_THEME:"Velg tema",LBL_SEARCH_TOOLTOP:"Søk i filsystemer ({0})",LBL_SEARCH_PLACEHOLDER:"Søker filsystemer...",LBL_SEARCH_WAIT:"Søker...",LBL_SEARCH_RESULT:"Viser {0} resultater",LBL_FS_B:"B",LBL_FS_M:"M",LBL_FS_G:"G",LBL_FS_KIB:"KiB",LBL_FS_MIB:"MiB",LBL_FS_GIB:"GiB",LBL_TOP:"Topp",LBL_LEFT:"Venstre",LBL_RIGHT:"Høyre",LBL_BOTTOM:"Bunn",LBL_MENU:"Meny",LBL_ERROR:"Feil",LBL_INFO:"Info",LBL_MESSAGE:"Melding",LBL_WARNINIG:"Advarsel",LBL_SUCCESS:"Velykket",LBL_FAILURE:"Svikt",LBL_WINDOW:"Vindu",LBL_WINDOWS:"Vinduer",LBL_NOTIFICATION:"Notifikasjon",LBL_NOTIFICATIONS:"Notifikasjoner",LBL_TRAY:"Tray Oppføring",LBL_NAME:"Navn",LBL_TYPE:"Type",LBL_SIZE:"Størrelse",LBL_FILE:"Fil",LBL_NEW:"Ny",LBL_OPEN:"Åpne",LBL_SAVE:"Lagre",LBL_SAVEAS:"Lagre Som",LBL_OK:"OK",LBL_ABORT:"Abort",LBL_CANCEL:"Avbryt",LBL_CLOSE:"Lukk",LBL_QUIT:"Slutt",LBL_YES:"Ja",LBL_NO:"Nei",LBL_GO:"Gå",LBL_MKDIR:"Lag ny mappe",LBL_MKFILE:"Lag ny fil",LBL_COPY:"Kopier",LBL_PASTE:"Lim inn",LBL_CUT:"Kutt",LBL_MOVE:"Flytt",LBL_RENAME:"Navngi",LBL_DELETE:"Slett",LBL_DOWNLOAD:"Last ned",LBL_REFRESH:"Gjenoppfrisk",LBL_RELOAD:"Last på nytt",LBL_HOME:"Hjem",LBL_VIEW:"Visning",LBL_HELP:"Hjelp",LBL_ABOUT:"Om",LBL_APPLICATION:"Applikasjon",LBL_APPLICATIONS:"Applikasjoner",LBL_KILL:"Drep",LBL_KILL_ALL:"Drep alle",LBL_MINIMIZE:"Minimisèr",LBL_MAXIMIZE:"Maksimisèr",LBL_RESTORE:"Gjenopprett",LBL_RAISE:"Løft",LBL_SHADE:"Rull opp",LBL_UNSHADE:"Rull ned",LBL_ONTOP:"Alltid øverst",LBL_RESIZE:"Endre størrelse",LBL_BACK:"Tilbake",LBL_FORWARD:"Frem",LBL_UPLOAD:"Last opp",LBL_IMAGE:"Bilde"},ze={ERR_REQUEST_STANDALONE:"Zahteve v samostojnem načinu niso mogoče.",ERR_REQUEST_NOT_OK:"Pri zahtevi je prišlo do napake: {0}",ERR_VFS_MOUNT_NOT_FOUND:"Datotečni sistem '{0}' ni najden",ERR_VFS_MOUNT_NOT_FOUND_FOR:"Datotečni sistem ni najden '{0}'",ERR_VFS_MOUNT_NOT_MOUNTED:"Datotečni sistem '{0}' ni nameščen",ERR_VFS_MOUNT_ALREADY_MOUNTED:"Datotečni sistem '{0}' že nameščen",ERR_VFS_PATH_FORMAT_INVALID:"Podana pot '{0}' se ne ujema z 'name:/path'",ERR_PACKAGE_NOT_FOUND:"Metapodatki paketa '{0}' niso najdeni",ERR_PACKAGE_LOAD:"Pri nalaganju pageta '{0}' je prišlo do napake: {1}",ERR_PACKAGE_NO_RUNTIME:"Koda paketa '{0}' ni najdena",ERR_PACKAGE_NO_METADATA:"Metapodatki '{0}' niso najdeni. Ali so v datoteki manifest?",ERR_PACKAGE_EXCEPTION:"Sprožena je bila izjema v '{0}'",ERR_WINDOW_ID_EXISTS:"Okno z ID-jem '{0}' že obstaja",ERR_INVALID_LOCALE:"Neveljaven prevod '{0}'",LBL_CONNECTION_LOST:"Izguba povezave",LBL_CONNECTION_LOST_MESSAGE:"Povezava do strežnika je bila izgubljena. Ponovno povezovanje ...",LBL_CONNECTION_RESTORED:"Vzpostavitev povezave",LBL_CONNECTION_RESTORED_MESSAGE:"Povezava do strežnika je bila ponovno vzpostavljena.",LBL_CONNECTION_FAILED:"Povezava ni uspela",LBL_CONNECTION_FAILED_MESSAGE:"Povezave z OS.js ni bilo mogoče vzpostaviti. Nekatere funkcije morda ne bodo delovale pravilno.",LBL_APP_CAT_DEVELOPMENT:"Razvoj",LBL_APP_CAT_SCIENCE:"Znanost",LBL_APP_CAT_GAMES:"Igre",LBL_APP_CAT_GRAPHICS:"Grafika",LBL_APP_CAT_NETWORK:"Omrežje",LBL_APP_CAT_MULTIMEDIA:"Multimedija",LBL_APP_CAT_OFFICE:"Pisarna",LBL_APP_CAT_SYSTEM:"Sistem",LBL_APP_CAT_UTILITIES:"Orodja",LBL_APP_CAT_OTHER:"Drugo",LBL_LAUNCH_SELECT:"Izberite aplikacijo",LBL_LAUNCH_SELECT_MESSAGE:"Izberite aplikacijo za '{0}'",LBL_DESKTOP_SELECT_WALLPAPER:"Izberite ozadje",LBL_DESKTOP_SELECT_THEME:"Izberite temo",LBL_SEARCH_TOOLTOP:"Išči datotečni sistem ({0})",LBL_SEARCH_PLACEHOLDER:"Iskanje po datotečnih sistemih ...",LBL_SEARCH_WAIT:"Iskanje ...",LBL_SEARCH_RESULT:"Prikaz {0} rezultatov",LBL_FS_B:"B",LBL_FS_M:"M",LBL_FS_G:"G",LBL_FS_KIB:"KiB",LBL_FS_MIB:"MiB",LBL_FS_GIB:"GiB",LBL_TOP:"Zgoraj",LBL_LEFT:"Levo",LBL_RIGHT:"Desno",LBL_BOTTOM:"Spodaj",LBL_MENU:"Meni",LBL_ERROR:"Napaka",LBL_INFO:"Informacije",LBL_MESSAGE:"Sporočilo",LBL_WARNINIG:"Opozorilo",LBL_SUCCESS:"Uspeh",LBL_FAILURE:"Neuspeh",LBL_WINDOW:"Okno",LBL_WINDOWS:"Okna",LBL_NOTIFICATION:"Obvestilo",LBL_NOTIFICATIONS:"Obvestila",LBL_TRAY:"Element vrstice",LBL_NAME:"Ime",LBL_TYPE:"Vrsta",LBL_SIZE:"Velikost",LBL_FILE:"Datoteka",LBL_NEW:"Novo",LBL_OPEN:"Odpri",LBL_SAVE:"Shrani",LBL_SAVEAS:"Shrani kot",LBL_OK:"V redu",LBL_ABORT:"Prekini",LBL_CANCEL:"Prekliči",LBL_CLOSE:"Zapri",LBL_QUIT:"Izklopi",LBL_YES:"Da",LBL_NO:"Ne",LBL_GO:"Pojdi",LBL_MKDIR:"Ustvari novo mapo",LBL_MKFILE:"Ustvari novo datoteko",LBL_COPY:"Kopiraj",LBL_PASTE:"Prilepi",LBL_CUT:"Izreži",LBL_MOVE:"Premakni",LBL_RENAME:"Preimenuj",LBL_DELETE:"Izbriši",LBL_DOWNLOAD:"Prenesi",LBL_REFRESH:"Osveži",LBL_RELOAD:"Osveži",LBL_HOME:"Domov",LBL_VIEW:"Pogled",LBL_HELP:"Pomoč",LBL_ABOUT:"O programu",LBL_APPLICATION:"Aplikacija",LBL_APPLICATIONS:"Aplikacije",LBL_KILL:"Končaj",LBL_KILL_ALL:"Končaj vse",LBL_MINIMIZE:"Pomanjšaj",LBL_MAXIMIZE:"Povečaj",LBL_RESTORE:"Obnovi",LBL_RAISE:"Dvigni",LBL_SHADE:"Zasenči",LBL_UNSHADE:"Odsenči",LBL_ONTOP:"Na vrhu",LBL_RESIZE:"Spremeni velikost",LBL_BACK:"Nazaj",LBL_FORWARD:"Naprej",LBL_UPLOAD:"Naloži",LBL_IMAGE:"Slika"},We={ERR_REQUEST_STANDALONE:"Không thể gửi yêu cầu ở chế độ độc lập.",ERR_REQUEST_NOT_OK:"Đã xảy ra lỗi khi thực hiện yêu cầu: {0}",ERR_VFS_MOUNT_NOT_FOUND:"Không tìm thấy hệ thống tập tin '{0}'",ERR_VFS_MOUNT_NOT_FOUND_FOR:"Không tìm thấy hệ thống tập tin cho '{0}'",ERR_VFS_MOUNT_NOT_MOUNTED:"Hệ thống tập tin '{0}' không được gắn kết",ERR_VFS_MOUNT_ALREADY_MOUNTED:"Hệ thống tập tin '{0}' đã được gắn kết",ERR_VFS_PATH_FORMAT_INVALID:"Định dạng đường dẫn '{0}' không khớp với 'name:/path'",ERR_PACKAGE_NOT_FOUND:"Không tìm thấy siêu dữ liệu của gói '{0}'",ERR_PACKAGE_LOAD:"Tải gói '{0}' thất bại: {1}",ERR_PACKAGE_NO_RUNTIME:"Không tìm thấy Runtime của gói '{0}'",ERR_PACKAGE_NO_METADATA:"Không tìm thấy siêu dữ liệu cho '{0}'. Bạn có chắc nó đã được báo cáo trong manifest không?",ERR_PACKAGE_EXCEPTION:"Đã xảy ra lỗi trong '{0}'",ERR_WINDOW_ID_EXISTS:"Cửa sổ với ID '{0}' đã tồn tại",ERR_INVALID_LOCALE:"Ngôn ngữ không hợp lệ '{0}'",LBL_CONNECTION_LOST:"Mất kết nối",LBL_CONNECTION_LOST_MESSAGE:"Kết nối với OS.js đã bị mất. Đang kết nối lại....",LBL_CONNECTION_RESTORED:"Đã khôi phục kết nối",LBL_CONNECTION_RESTORED_MESSAGE:"Kết nối với máy chủ OS.js đã được khôi phục.",LBL_CONNECTION_FAILED:"Kết nối thất bại",LBL_CONNECTION_FAILED_MESSAGE:"Không thể kết nối đến máy chủ OS.js. Một số tính năng có thể không hoạt động ổn định.",LBL_APP_CAT_DEVELOPMENT:"Phát triển",LBL_APP_CAT_SCIENCE:"Khoa học",LBL_APP_CAT_GAMES:"Trò chơi",LBL_APP_CAT_GRAPHICS:"Đồ họa",LBL_APP_CAT_NETWORK:"Mạng",LBL_APP_CAT_MULTIMEDIA:"Đa phương tiện",LBL_APP_CAT_OFFICE:"Văn phòng",LBL_APP_CAT_SYSTEM:"Hệ thống",LBL_APP_CAT_UTILITIES:"Tiện ích",LBL_APP_CAT_OTHER:"Ứng dụng khác",LBL_LAUNCH_SELECT:"Chọn ứng dụng",LBL_LAUNCH_SELECT_MESSAGE:"Chọn ứng dụng để mở tập tin '{0}'",LBL_DESKTOP_SELECT_WALLPAPER:"Thay đổi hình nền",LBL_DESKTOP_SELECT_THEME:"Thay đổi chủ đề",LBL_SEARCH_TOOLTOP:"Tìm kiếm dữ liệu ({0})",LBL_SEARCH_PLACEHOLDER:"Tìm kiếm...",LBL_SEARCH_WAIT:"Đang tìm kiếm...",LBL_SEARCH_RESULT:"Đang hiển thị {0} kết quả",LBL_FS_B:"B",LBL_FS_M:"M",LBL_FS_G:"G",LBL_FS_KIB:"KiB",LBL_FS_MIB:"MiB",LBL_FS_GIB:"GiB",LBL_TOP:"Phía trên",LBL_LEFT:"Trái",LBL_RIGHT:"Phải",LBL_BOTTOM:"Phía dưới",LBL_MENU:"Menu",LBL_ERROR:"Lỗi",LBL_INFO:"Thông tin",LBL_MESSAGE:"Thông báo",LBL_WARNINIG:"Cảnh báo",LBL_SUCCESS:"Thành công",LBL_FAILURE:"Thất bại",LBL_WINDOW:"Cửa sổ",LBL_WINDOWS:"Các cửa sổ",LBL_NOTIFICATION:"Thông báo",LBL_NOTIFICATIONS:"Các thông báo",LBL_TRAY:"Mục khay hệ thống",LBL_NAME:"Tên",LBL_TYPE:"Kiểu",LBL_SIZE:"Kích thước",LBL_FILE:"Tập tin",LBL_NEW:"Mới",LBL_OPEN:"Mở",LBL_SAVE:"Lưu",LBL_SAVEAS:"Lưu như",LBL_OK:"OK",LBL_ABORT:"Hủy thao tác",LBL_CANCEL:"Hủy bỏ",LBL_CLOSE:"Đóng",LBL_QUIT:"Thoát",LBL_YES:"Có",LBL_NO:"Không",LBL_GO:"Đi",LBL_MKDIR:"Tạo thư mục mới",LBL_MKFILE:"Tạo tệp mới",LBL_COPY:"Sao chép",LBL_PASTE:"Dán",LBL_CUT:"Cắt",LBL_MOVE:"Di chuyển",LBL_RENAME:"Đổi tên",LBL_DELETE:"Xóa",LBL_DOWNLOAD:"Tải về",LBL_REFRESH:"Làm mới",LBL_RELOAD:"Tải lại",LBL_HOME:"Trang chủ",LBL_VIEW:"Xem",LBL_HELP:"Hướng dẫn",LBL_ABOUT:"Thông tin",LBL_APPLICATION:"Ứng dụng",LBL_APPLICATIONS:"Các ứng dụng",LBL_KILL:"Đóng",LBL_KILL_ALL:"Đóng tất cả",LBL_MINIMIZE:"Thu nhỏ",LBL_MAXIMIZE:"Tối đa",LBL_RESTORE:"Phục hồi",LBL_RAISE:"Nâng lên",LBL_SHADE:"Làm mở",LBL_UNSHADE:"Bỏ làm mờ",LBL_ONTOP:"Ở trên cùng",LBL_RESIZE:"Thay đổi kích thước",LBL_BACK:"Lùi",LBL_FORWARD:"Tiến",LBL_UPLOAD:"Tải lên",LBL_IMAGE:"Ảnh"},Ve={ERR_REQUEST_STANDALONE:"Cannot make requests in standalone mode.",ERR_REQUEST_NOT_OK:"An error occured while performing a request: {0}",ERR_VFS_MOUNT_NOT_FOUND:"Filesystem '{0}' nicht gefunden",ERR_VFS_MOUNT_NOT_FOUND_FOR:"Filesystem für '{0}' nicht gefunden",ERR_VFS_MOUNT_NOT_MOUNTED:"Filesystem '{0}' nicht gemountet",ERR_VFS_MOUNT_ALREADY_MOUNTED:"Filesystem '{0}' schon gemountet",ERR_VFS_PATH_FORMAT_INVALID:"Given path '{0}' does not match 'name:/path'",ERR_PACKAGE_NOT_FOUND:"Paket-Metadaten  '{0}' nicht gefunden",ERR_PACKAGE_LOAD:"Paket Laden '{0}' ist fehlgeschlagen: {1}",ERR_PACKAGE_NO_RUNTIME:"Paketlaufzeit '{0}' nicht gefunden",ERR_PACKAGE_NO_METADATA:"Metadaten für '{0}' nicht gefunden. Ist es in der Manifest?",ERR_PACKAGE_EXCEPTION:"Eine Ausnahme trat in '{0}' auf.",ERR_WINDOW_ID_EXISTS:"Fenster mit der ID '{0}' existiert schon",ERR_INVALID_LOCALE:"Invalid locale '{0}'",LBL_CONNECTION_LOST:"Verbindung unterbrochen",LBL_CONNECTION_LOST_MESSAGE:"Die Verbindung zu OS.js wurde unterbrochen. Wiederverbinden... ",LBL_CONNECTION_RESTORED:"Verbindung wiederhergestellt",LBL_CONNECTION_RESTORED_MESSAGE:"Die Verbindung OS.js server was restored.",LBL_APP_CAT_DEVELOPMENT:"IT-Entwicklung",LBL_APP_CAT_SCIENCE:"Wissenschaft",LBL_APP_CAT_GAMES:"Spiels",LBL_APP_CAT_GRAPHICS:"Grafiken",LBL_APP_CAT_NETWORK:"Netzwerk",LBL_APP_CAT_MULTIMEDIA:"Multimedia",LBL_APP_CAT_OFFICE:"Office",LBL_APP_CAT_SYSTEM:"System",LBL_APP_CAT_UTILITIES:"Dienstprogramme",LBL_APP_CAT_OTHER:"Andere",LBL_LAUNCH_SELECT:"Applikation auswählen",LBL_LAUNCH_SELECT_MESSAGE:"Applikation für '{0}' auswählen",LBL_DESKTOP_SELECT_WALLPAPER:"Wallpaper auswählen",LBL_DESKTOP_SELECT_THEME:"Theme auswählen",LBL_SEARCH_TOOLTOP:"Dateisysteme ({0}) finden",LBL_SEARCH_PLACEHOLDER:"Dateisysteme finden...",LBL_SEARCH_WAIT:"Suche...",LBL_SEARCH_RESULT:"Anzeige von {0} Ergebnissen",LBL_FS_B:"B",LBL_FS_M:"M",LBL_FS_G:"G",LBL_FS_KIB:"KiB",LBL_FS_MIB:"MiB",LBL_FS_GIB:"GiB",LBL_TOP:"Oben",LBL_LEFT:"Links",LBL_RIGHT:"Rechts",LBL_BOTTOM:"Unten",LBL_MENU:"Menü",LBL_ERROR:"Error",LBL_INFO:"Info",LBL_MESSAGE:"Message",LBL_WARNINIG:"Warnung",LBL_SUCCESS:"Success",LBL_FAILURE:"Failure",LBL_WINDOW:"Fenster",LBL_WINDOWS:"Fenster",LBL_NOTIFICATION:"Benachrichtigung",LBL_NOTIFICATIONS:"Benachrichtigungen",LBL_TRAY:"Infobereich-Eintrag",LBL_NAME:"Name",LBL_TYPE:"Typ",LBL_SIZE:"Größe",LBL_FILE:"Datei",LBL_NEW:"Neue",LBL_OPEN:"Öffnen",LBL_SAVE:"Speichern",LBL_SAVEAS:"Speichern als",LBL_OK:"OK",LBL_ABORT:"Abbrechen",LBL_CANCEL:"Beenden",LBL_CLOSE:"Schließen",LBL_QUIT:"Verlassen",LBL_YES:"Ja",LBL_NO:"Nein",LBL_GO:"Los",LBL_MKDIR:"Neues Verzeichnis erstellen",LBL_MKFILE:"Neue Datei erstellen",LBL_COPY:"Kopieren",LBL_PASTE:"Einfügen",LBL_CUT:"Ausschneiden",LBL_MOVE:"Verschieben",LBL_RENAME:"Umbenennen",LBL_DELETE:"Löschen",LBL_DOWNLOAD:"Herunterladen",LBL_REFRESH:"Aktualisieren",LBL_RELOAD:"Neu laden",LBL_HOME:"Startseite",LBL_VIEW:"Ansicht",LBL_HELP:"Hilfe",LBL_ABOUT:"Über",LBL_APPLICATION:"Anwendungsprogramme",LBL_APPLICATIONS:"Anwendungsprogrammen",LBL_KILL:"Beenden",LBL_KILL_ALL:"Beenden alle"},Ye=function(e){return e.split("/").reverse()[0]},Ze=function(e){var t=e.split("/");return t.splice(t.length-1,1),t.join("/")},qe=function(e){function t(e,n,r,o){var i;return v()(this,t),(i=y()(this,O()(t).call(this,"BasicApplication<"+n.name+">"))).core=e,i.proc=n,i.win=r,i.options=Object.assign({mimeTypes:n.metadata.mimes||[],loadMimeTypes:[],saveMimeTypes:[],defaultFilename:"New File"},o),i}return T()(t,e),g()(t,[{key:"destroy",value:function(){this.off()}},{key:"init",value:function(){return this.proc.args.file?this.open(this.proc.args.file):this.create(),Promise.resolve(!0)}},{key:"getDialogOptions",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.options,r=n.defaultFilename,o=n.mimeTypes,i=n.loadMimeTypes,s=n.saveMimeTypes,a=t.file?t.file:this.proc.args.file,c=this.core.config("vfs.defaultPath"),u=a?a.path:null,l="open"===e?i:s;return l.length||(l=o),[{type:e,mime:l,filename:u?Ye(u):r,path:u?Ze(u):c},{parent:this.win,attributes:{modal:!0}}]}},{key:"updateWindowTitle",value:function(){if(this.win){var e=(0,this.core.make("osjs/locale").translatableFlat)(this.proc.metadata.title),t=this.proc.args.file?Ye(this.proc.args.file.path):this.options.defaultFilename;t?this.win.setTitle("".concat(e," - ").concat(t)):this.win.setTitle(e)}}},{key:"createDialog",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getDialogOptions(e,n),o=W()(r,2),i=o[0],s=o[1];this.core.make("osjs/dialog","file",i,s,function(e,n){"ok"===e&&t(n)})}},{key:"open",value:function(e){this.proc.args.file=Object.assign({},e),this.emit("open-file",e),this.updateWindowTitle()}},{key:"save",value:function(e){this.proc.args.file=Object.assign({},e),this.emit("save-file",e),this.updateWindowTitle()}},{key:"create",value:function(){this.proc.args.file=null,this.emit("new-file"),this.updateWindowTitle()}},{key:"createNew",value:function(){this.create()}},{key:"createSaveDialog",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.createDialog("save",function(t){return e.save(t)},t)}},{key:"createOpenDialog",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.createDialog("open",function(t){return e.open(t)},t)}}]),t}(k.EventEmitter),Xe=function(e){var t=e.config("providers.globalBlacklist",[]),n=e.config("providers.globalWhitelist",[]);return Object.freeze({make:function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];var s=o[0];if(e.has(s)){var a=t.length>0&&-1!==t.indexOf(s),c=n.length>0&&-1===n.indexOf(s);if(a||c)throw new Error("The provider '".concat(s,"' cannot be used via global scope"))}return e.make.apply(e,o)},register:function(){var t;return(t=e.make("osjs/packages")).register.apply(t,arguments)},url:function(){return e.url.apply(e,arguments)},run:function(){return e.run.apply(e,arguments)},open:function(){return e.open.apply(e,arguments)},request:function(){return e.request.apply(e,arguments)}})},Qe=function(e){var t,n={audio:(t=function(e,t){return Object.keys(e).reduce(function(n,r){return Object.assign(d()({},r,"probably"===t.canPlayType(e[r])),n)},{})})({mp3:"audio/mpeg",mp4:"audio/mp4",oga:"audio/ogg"},document.createElement("audio")),video:t({mp4:"video/mp4",ogv:"video/ogg"},document.createElement("video"))},r=function(){var t=e.config("desktop.settings.sounds");return e.make("osjs/settings").get("osjs/desktop","sounds",t)};return{themeResource:function(t){var n=e.config("desktop.settings.theme"),r=e.make("osjs/settings").get("osjs/desktop","theme",n);return e.url("themes/".concat(r,"/").concat(t))},soundResource:function(t){t.match(/\.([a-z]+)$/)||(t+="."+(["oga","mp3"].find(function(e){return!0===n.audio[e]})||"mp3"));var o=r();return o?e.url("sounds/".concat(o,"/").concat(t)):null},soundsEnabled:function(){return!!r()},icon:function(t){var n=e.config("desktop.settings.icons"),r=e.make("osjs/settings").get("osjs/desktop","icons",n);return e.url("icons/".concat(r,"/icons/").concat(t))}}},Je=function(e){function t(e){var n;arguments.length>1&&void 0!==arguments[1]&&arguments[1];return v()(this,t),n=y()(this,O()(t).call(this,e)),window.OSjs=Xe(e),n.session=new De(e),n.tray=new Ue(e),n.pm=new Fe(e),n.clipboard=new $e,n}return T()(t,e),g()(t,[{key:"provides",value:function(){return["osjs/application","osjs/basic-application","osjs/window","osjs/windows","osjs/event-handler","osjs/window-behaviour","osjs/dnd","osjs/dom","osjs/clipboard","osjs/tray","osjs/locale","osjs/packages","osjs/websocket","osjs/session","osjs/theme","osjs/sounds"]}},{key:"destroy",value:function(){this.tray.destroy(),this.pm.destroy(),this.clipboard.destroy(),A()(O()(t.prototype),"destroy",this).call(this)}},{key:"init",value:function(){var e=this,t=Qe(this.core),n=t.themeResource,i=t.soundResource,s=t.soundsEnabled,a=t.icon,c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new K(e.core,t)};this.core.instance("osjs/websocket",function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Me()(N,t)}),this.core.instance("osjs/application",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new te(e.core,t)}),this.core.instance("osjs/basic-application",function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new qe(e.core,t,n,r)}),this.core.instance("osjs/window",c),this.core.singleton("osjs/windows",function(){return{create:c,list:function(){return K.getWindows()},last:function(){return K.lastWindow()}}}),this.core.instance("osjs/event-handler",function(){console.warn("osjs/event-handler is deprecated, use osjs/event-emitter");for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Me()(k.EventEmitter,t)}),this.core.instance("osjs/event-emitter",function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Me()(k.EventEmitter,t)}),this.core.singleton("osjs/window-behavior",function(){return"function"==typeof e.options.windowBehavior?e.options.windowBehavior(e.core):new Re(e.core)}),this.core.singleton("osjs/session",function(){return{save:function(){return e.session.save()},load:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e.session.load(t)}}}),this.core.singleton("osjs/dnd",function(){return r}),this.core.singleton("osjs/dom",function(){return{script:I,style:R}});var u={create:function(t,n){return e.tray.create(t,n)},list:function(){return e.tray.entries.map(function(e){return Object.assign({},e)})}};this.core.instance("osjs/tray",function(e){return void 0!==e?u.create(e):u});var l,f={format:(l=this.core,function(e,t){var n=ce(l,"format."+t),r=n.defaultLocale,o=n.userLocale||r||t;return ie()(e,o)}),translate:le(this.core)(o),translatable:le(this.core),translatableFlat:ue(this.core),getLocale:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"language",n=ce(e.core,t);return n.userLocale||n.defaultLocale},setLocale:function(t){return t in o?e.core.make("osjs/settings").set("osjs/locale","language",t).save().then(function(){return e.core.emit("osjs/locale:change",t)}):Promise.reject(f.translate("ERR_INVALID_LOCALE",t))}};return this.core.singleton("osjs/locale",function(){return f}),this.core.singleton("osjs/packages",function(){return{getCompatiblePackages:function(){var t;return(t=e.pm).getCompatiblePackages.apply(t,arguments)},getPackages:function(){var t;return(t=e.pm).getPackages.apply(t,arguments)},register:function(){var t;return(t=e.pm).register.apply(t,arguments)},launch:function(){var t;return(t=e.pm).launch.apply(t,arguments)},preload:function(){var t;return(t=e.pm).preload.apply(t,arguments)},running:function(){return e.pm.running}}}),this.core.instance("osjs/clipboard",function(){return{set:function(t){return e.clipboard.set(t)},get:function(t){return e.clipboard.get(t)},clear:function(){return e.clipboard.clear()}}}),this.core.on("osjs/core:started",function(){e.session.load()}),this.core.singleton("osjs/theme",function(){return{resource:n,icon:function(e){return a(e.replace(/(\.png)?$/,".png"))}}}),this.core.singleton("osjs/sounds",function(){return{resource:i,play:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(s()){var n=e.match(/^(\/|https?:)/)?e:i(e);if(n)return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({volume:1},t),r=new Audio;r.voule=n.volume,r.src=e;try{var o=r.play();if(o instanceof Promise)return o.then(function(){return r}).catch(function(t){return console.warn("Failed to play sound",e,t)})}catch(t){console.warn("Failed to play sound",e,t)}return Promise.resolve(r)}(n,t)}return!1}}}),this.pm.init()}},{key:"start",value:function(){var e=this;this.core.config("development")&&(this.core.on("osjs/dist:changed",function(t){var n=e.core.url(t).replace(/^\//,""),r=e.core.$resourceRoot.querySelectorAll("link[rel=stylesheet]"),o=Array.from(r).reduce(function(e,t){var n=t.getAttribute("href").split("?")[0].replace(/^\//,"");return Object.assign(d()({},n,t),e)},{});o[n]&&(console.info("Hot-reloading",n),setTimeout(function(){o[n].setAttribute("href",n)},100))}),this.core.on("osjs/packages:metadata:changed",function(){e.pm.init()}),this.core.on("osjs/packages:package:changed",function(e){te.getApplications().filter(function(t){return t.metadata.name===e}).forEach(function(e){return e.relaunch()})}))}}]),t}(re.ServiceProvider),et=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return v()(this,t),(n=y()(this,O()(t).call(this,e,r||{}))).desktop=null,n}return T()(t,e),g()(t,[{key:"destroy",value:function(){this.desktop=this.desktop.destroy()}},{key:"provides",value:function(){return["osjs/desktop"]}},{key:"init",value:function(){var e=this;this.desktop=new be(this.core,this.options),this.desktop.init(),this.core.singleton("osjs/desktop",function(){return{addContextMenuEntries:function(t){return e.desktop.addContextMenu(t)},applySettings:function(t){return e.desktop.applySettings(t)},getRect:function(){return e.desktop.getRect()}}}),this.core.on("osjs/core:started",function(){e.desktop.applySettings()})}},{key:"start",value:function(){this.desktop.start()}}]),t}(re.ServiceProvider),tt=function(e){function t(e){var n;return v()(this,t),(n=y()(this,O()(t).call(this,e))).$element=null,n}return T()(t,e),g()(t,[{key:"destroy",value:function(){this.$element.remove(),this.$element=null}},{key:"provides",value:function(){return["osjs/notification"]}},{key:"init",value:function(){var e=this;this.$element=document.createElement("div"),this.core.instance("osjs/notification",function(t){if(!t)throw new Error("Notification options not given");var n=new we(e.core,e.$element,t);return n.render(),n})}},{key:"start",value:function(){this.$element.classList.add("osjs-notifications"),this.core.$root.appendChild(this.$element)}}]),t}(re.ServiceProvider),nt=function(e){return e.replace(/\/$/,"").split("/").filter(function(e,t,n){return t<n.length-1}).join("/").replace(/\/?$/,"/")},rt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t,n){return e.concat([n>0?t.replace(/\/$/,""):t])},[]).join("/")},ot=function(e){return function(t,n){return function(r,o){return"string"===e?"asc"===n?String(r[t]).localeCompare(o[t]):String(o[t]).localeCompare(r[t]):"date"===e?"asc"===n?new Date(r[t])>new Date(o[t]):new Date(o[t])>new Date(r[t]):r[t]<o[t]?-1:r[t]>o[t]?"asc"===n?1:0:"asc"===n?0:1}}},it={size:ot("number"),mtime:ot("date"),ctime:ot("date"),atime:ot("date")},st=function(e,t,n){return new Promise(function(r,o){var i=new Blob([t],{type:n}),s=new FileReader;s.onerror=function(e){return o(e)},s.onloadend=function(){return r(s.result)},s[e](i)})},at=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(isNaN(e)||"number"!=typeof e)&&(e=0);var n=t?1e3:1024,r=t?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];if(e<n)return e+" B";var o=-1;do{e/=n,++o}while(e>=n);return"".concat(e.toFixed(1)," ").concat(r[o])},ct=function(e,t){var n=e.path,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r=Object.assign({},{showHiddenFiles:!1,sortBy:"filename",sortDir:"asc"},r),i=o.sortDir,s=o.sortBy,a=o.filter;"function"!=typeof a&&(a=function(){return!0}),-1===["asc","desc"].indexOf(i)&&(i="asc");var c=r.showHiddenFiles?function(){return!0}:function(e){return"."!==e.filename.substr(0,1)},u=it[s]?it[s]():ot("string"),l=function(e){return Object.assign(e,{humanSize:at(e.size)})},f=function(e){var t=[];return"/"!==(e.replace(/\/+/g,"/").replace(/^(\w+):/,"")||"/")&&t.push({isDirectory:!0,isFile:!1,mime:null,size:0,stat:{},filename:"..",path:nt(e)||"/"}),t}(n).sort(u(s,i)).map(l),d=t.filter(function(e){return e.isDirectory}).sort(u(s,i)).filter(c).filter(a).map(l),h=t.filter(function(e){return!e.isDirectory}).sort(u(s,i)).filter(c).filter(a).map(l);return[].concat(p()(f),p()(d),p()(h))},ut=function(e,t,n){return"string"===n?st("readAsText",e,t):"uri"===n?st("readAsDataURL",e,t):"blob"===n?Promise.resolve(new Blob([e],{type:t})):Promise.resolve(e)},lt=function(e){return function(t){return t.isDirectory?{name:"folder"}:function(t){var n=Object.keys(e).find(function(e){return new RegExp(e).test(t.mime)});return n?e[n]:{name:"application-x-executable"}}(t)}},ft=function(e){return Object.assign({isDirectory:!1,isFile:!0,mime:"application/octet-stream",icon:null,size:-1,path:null,filename:null,label:null,stat:{},id:null,parent_id:null},e)},dt=function(e){return Object.assign({id:null},"string"==typeof e?{path:e}:e)},ht=function(e,t){return function(n){return Promise.resolve(n.map(function(e){return ft(e)})).then(function(n){return ct(dt(e),n,{showHiddenFiles:!1!==t.showHiddenFiles,filter:t.filter})})}},pt=function(e,t){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.readdir(dt(n),r,t).then(ht(n,r))}},mt=function(e,t){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"string",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.readfile(dt(n),r,o,t).then(function(e){return ut(e.body,e.mime,r)})}},vt=function(e,t){return function(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r instanceof ArrayBuffer||r instanceof Blob?r:new Blob([r],{type:"application/octet-stream"});return e.writefile(dt(n),i,o,t)}},Lt=function(e,t){return function(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.copy(dt(n),dt(r),o,t)}},gt=function(e,t){return function(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.rename(dt(n),dt(r),o,t)}},_t=gt,yt=function(e,t){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.mkdir(dt(n),r,t)}},Et=function(e,t){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.unlink(dt(n),r,t)}},Ot=function(e,t){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.exists(dt(n),r,t)}},bt=function(e,t){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.stat(dt(n),r,t).then(function(e){return ft(e)})}},At=function(e,t){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.url(dt(n),r,t)}},wt=function(e,t){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"function"==typeof e.download&&!0!==r.readfile?e.download(dt(n),r,t):mt(e)(n,"blob").then(function(e){var t=dt(n).path.split("/").splice(-1)[0],r=window.URL.createObjectURL(e),o=document.createElement("a");o.style.display="none",o.href=r,o.download=t,document.body.appendChild(o),o.click(),setTimeout(function(){window.URL.revokeObjectURL(r),o.remove()},1)})}},Tt=function(e,t){return function(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.attributes&&!1===t.attributes.searchable?Promise.resolve([]):e.search(dt(n),r,o,t).then(ht(n,o))}},St=function(e,t){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.touch(dt(n),r,t)}},Bt=function(e){var t=["exists","stat","readdir","readfile"],n=function(n,r,o){return e.request(e.url("/vfs/".concat(n)),{body:r,method:-1!==t.indexOf(n)?"get":"post"},o).then(function(e){if("json"===o)return{mime:"application/json",body:e};var t=e.headers.get("content-type")||"application/octet-stream";return e.arrayBuffer().then(function(e){return{mime:t,body:e}})})};return{readdir:function(e,t){var r=e.path;return n("readdir",{path:r,options:{}},"json").then(function(e){return e.body})},readfile:function(e,t,r){var o=e.path;return n("readfile",{path:o,options:r})},writefile:function(e,t,r){var o=e.path,i=new FormData;return i.append("upload",t),i.append("path",o),i.append("options",r),n("writefile",i).then(function(e){return e.body})},copy:function(e,t,r){return n("copy",{from:e.path,to:t.path,options:r},"json").then(function(e){return e.body})},rename:function(e,t,r){return n("rename",{from:e.path,to:t.path,options:r},"json").then(function(e){return e.body})},mkdir:function(e,t){var r=e.path;return n("mkdir",{path:r,options:t},"json").then(function(e){return e.body})},unlink:function(e,t){var r=e.path;return n("unlink",{path:r,options:t},"json").then(function(e){return e.body})},exists:function(e,t){var r=e.path;return n("exists",{path:r,options:t},"json").then(function(e){return e.body})},stat:function(e,t){var r=e.path;return n("stat",{path:r,options:t},"json").then(function(e){return e.body})},url:function(t,n){var r=t.path;return Promise.resolve(e.url("/vfs/readfile?path=".concat(encodeURIComponent(r))))},search:function(e,t,r){var o=e.path;return n("search",{root:o,pattern:t,options:r},"json").then(function(e){return e.body})},touch:function(e,t){var r=e.path;return n("touch",{path:r,options:t},"json").then(function(e){return e.body})},download:function(e){var t=e.path,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=encodeURIComponent(JSON.stringify({download:!0}));return Promise.resolve("/vfs/readfile?options=".concat(r,"&path=")+encodeURIComponent(t)).then(function(e){return(n.target||window).open(e)})}}},kt=function(e){var t=e.make("osjs/packages");return{readdir:function(n,r){var o=n.path;return Promise.resolve(t.getPackages()).then(function(t){return t.map(function(t){return{isDirectory:!1,isFile:!0,filename:t.name,mime:"osjs/application",path:"".concat(o,"/").concat(t.name),size:0,stat:{},icon:t.icon?e.url(t.icon,{},t):null}})})}}},Nt={readdir:function(e,t){return Promise.resolve([])},readfile:function(e,t,n){return Promise.resolve({body:null,mime:"application/octet-stream"})},writefile:function(e,t,n){return Promise.resolve(-1)},copy:function(e,t,n){return Promise.resolve(!1)},rename:function(e,t,n){return Promise.resolve(!1)},mkdir:function(e,t){return Promise.resolve(!1)},unlink:function(e,t){return Promise.resolve(!1)},exists:function(e,t){return Promise.resolve(!1)},stat:function(e,t){return Promise.resolve({})},url:function(e,t){return Promise.resolve(null)},mount:function(e){return Promise.resolve(!0)},unmount:function(e){return Promise.resolve(!0)},search:function(e,t,n){return Promise.resolve([])},touch:function(e,t){return Promise.resolve([])}},jt=function(e,t,n){var r="string"==typeof n?n:n.path,o=String(r).replace(/\+/g,"/").match(/^(\w+):(.*)/),i=Array.from(o||[]).slice(1),s=W()(i,1)[0],a=e.make("osjs/locale").translate;if(!s)throw new Error(a("ERR_VFS_PATH_FORMAT_INVALID",r));var c=t.find(function(e){return e.name===s});if(!c)throw new Error(a("ERR_VFS_MOUNT_NOT_FOUND_FOR","".concat(s,":")));return c},Pt=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return v()(this,t),r=Object.assign({},{adapters:{},mounts:[]},r),(n=y()(this,O()(t).call(this,"Filesystem"))).core=e,n.adapters=Object.assign({},{system:Bt,apps:kt},n.core.config("vfs.adapters",{}),r.adapters),n.mounts=[],n.options={},n.proxy=Object.keys(s).reduce(function(e,t){return Object.assign(d()({},t,function(){for(var e,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=n)._request.apply(e,[t].concat(o))}),e)},{}),n}return T()(t,e),g()(t,[{key:"mountAll",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.mounts=this.core.config("vfs.mountpoints").concat(this.options.mounts||[]).map(function(t){try{return n=e.core,r=e.adapters,i=(o=t).adapter||n.config("vfs.defaultAdapter"),s=Object.assign({},Nt,r[i](n)),a=Oe({enabled:!0,mounted:!1,adapter:i,attributes:{visibility:"global",local:!0,searchable:!0,readOnly:!1}},o),Object.assign({_adapter:s,label:i,root:"".concat(a.name||i,":/")},a)}catch(e){console.warn(e)}var n,r,o,i,s,a;return null}).filter(function(e,t,n){return n.findIndex(function(t){return t.label===e.label||t.root===e.label})===t||(console.warn("Removed duplicate mountpoint",e),!1)}).filter(function(e){return null!==e});return Promise.all(this.mounts.map(function(n){return t?e._mount(n):e._mount(n).catch(function(e){return console.warn(e)})}))}},{key:"_mount",value:function(e){var t=this;return e._adapter.mount({},e).then(function(n){return n&&(e.mounted=!0,t.emit("mounted",e),t.core.emit("osjs/fs:mount")),n})}},{key:"_unmount",value:function(e){var t=this;return e._adapter.unmount({},e).then(function(n){return n&&(e.mounted=!1,t.emit("unmounted",e),t.core.emit("osjs/fs:unmount")),n})}},{key:"mount",value:function(e){var t=this;return Promise.resolve(this.mounts.find(function(t){return t.name===e})).then(function(n){var r=t.core.make("osjs/locale").translate;if(!n)throw new Error(r("ERR_VFS_MOUNT_NOT_FOUND",e));if(!n.mounted)throw new Error(r("ERR_VFS_MOUNT_ALREADY_MOUNTED",e));return t._mount(n)})}},{key:"unmount",value:function(e){var t=this;return Promise.resolve(this.mounts.find(function(t){return t.name===e})).then(function(n){var r=t.core.make("osjs/locale").translate;if(!n)throw new Error(r("ERR_VFS_MOUNT_NOT_FOUND",e));if(!n.mounted)throw new Error(r("ERR_VFS_MOUNT_NOT_MOUNTED",e));return t._unmount(n)})}},{key:"request",value:function(){return this.proxy}},{key:"_request",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];if(-1!==["rename","move","copy"].indexOf(e)){var i=r[0],a=r[1],c=jt(this.core,this.mounts,i),u=jt(this.core,this.mounts,a);if(!(c.adapter===u.adapter))return mt(c._adapter,c)(i).then(function(e){return vt(u._adapter,u)(a,e)}).then(function(t){return"rename"===e?Et(c._adapter,c)(i).then(function(){return t}):t})}var l=r[0],f=jt(this.core,this.mounts,l);return(t=this.core).emit.apply(t,["osjs/vfs:".concat(e)].concat(r)),s[e](f._adapter,f).apply(void 0,r)}},{key:"getMounts",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.core.make("osjs/theme");return this.mounts.filter(function(t){return e||t.mounted}).filter(function(e){return!1!==e.enabled}).map(function(e){return{attributes:Object.assign({},e.attributes),icon:(n=e.icon,n?"string"==typeof n?n:t.icon(n.name):t.icon("drive-harddisk")),name:e.name,label:e.label,root:e.root};var n})}}]),t}(k.EventEmitter),Rt=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return v()(this,t),(n=y()(this,O()(t).call(this,e))).fs=new Pt(e,{adapters:r.adapters||{},mounts:r.mounts||[]}),n}return T()(t,e),g()(t,[{key:"provides",value:function(){return["osjs/vfs","osjs/fs"]}},{key:"init",value:function(){var e=this;this.core.singleton("osjs/vfs",function(){return e.fs.request()});var t=this.core.config("vfs.icons",{}),n=lt(t);return this.core.singleton("osjs/fs",function(){return{pathJoin:function(){return rt.apply(i,arguments)},icon:n,mountpoints:function(){var t;return(t=e.fs).getMounts.apply(t,arguments)},mount:function(){var t;return(t=e.fs).mount.apply(t,arguments)},unmount:function(){var t;return(t=e.fs).unmount.apply(t,arguments)},register:function(){var t;return(t=e.fs).register.apply(t,arguments)}}}),this.fs.mountAll(!1)}}]),t}(re.ServiceProvider),It=n(13),Ct=n.n(It),xt=n(17),Mt=n.n(xt),Dt=function(e,t){return{login:function(e){return Promise.resolve(e)}}},Ft={server:function(e,t){var n=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.request(t,{method:"POST",body:JSON.stringify(n)},"json")};return{login:function(t){return n(e.url("/login"),t)},logout:function(){return n(e.url("/logout"))}}},localStorage:Dt},Ut=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v()(this,t),n=y()(this,O()(t).call(this,e));var o=e.config("auth.ui",{}),i=e.config("standalone")?Dt:"function"==typeof r.adapter?r.adapter:Ft[r.adapter||"server"];return n.ui=r.login?r.login(e,r.config||{}):new Ce(e,r.ui||o),n.adapter=Object.assign({login:function(){return Promise.reject(new Error("Not implemented"))},logout:function(){return Promise.reject(new Error("Not implemented"))},init:function(){return Promise.resolve(!0)},destroy:function(){}},i(e,r.config||{})),n.callback=function(){},n}return T()(t,e),g()(t,[{key:"init",value:function(){var e=this;return this.core.singleton("osjs/auth",function(){return{show:function(t){return e.show(t)},login:function(t){return e.login(t)},logout:function(t){return e.logout(t)},user:function(){return e.core.getUser()}}}),this.ui.on("login:post",function(t){return e.login(t)}),this.adapter.init()}},{key:"destroy",value:function(){return this.ui.destroy(),A()(O()(t.prototype),"destroy",this).call(this)}},{key:"provides",value:function(){return["osjs/auth"]}},{key:"show",value:function(e){var t=this.core.config("auth.login",{}),n=t.username&&t.password;this.callback=e,this.ui.init(n),n&&this.login(t)}},{key:"login",value:function(){var e=Mt()(Ct.a.mark(function e(t){var n;return Ct.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ui.emit("login:start"),e.prev=1,e.next=4,this.adapter.login(t);case 4:if(n=e.sent){e.next=7;break}return e.abrupt("return",!1);case 7:return this.ui.destroy(),this.callback(n),e.abrupt("return",!0);case 12:return e.prev=12,e.t0=e.catch(1),this.core.config("development")&&console.warn(e.t0),this.ui.emit("login:error","Login failed"),e.abrupt("return",!1);case 17:return e.prev=17,this.ui.emit("login:stop"),e.finish(17);case 20:case"end":return e.stop()}},e,this,[[1,12,17,20]])}));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Mt()(Ct.a.mark(function e(){var t,n=arguments;return Ct.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=!(n.length>0&&void 0!==n[0])||n[0],e.next=3,this.adapter.logout(t);case 3:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:try{this.core.destroy()}catch(e){console.warn(e)}t&&setTimeout(function(){window.location.reload()},1);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(re.ServiceProvider),$t=n(18),Gt=n.n($t),Ht=function(e){return{clear:function(e){return localStorage.removeItem(e),Promise.resolve(!0)},save:function(e){return Object.keys(e).forEach(function(t){localStorage.setItem(t,JSON.stringify(e[t]))}),Promise.resolve(!0)},load:function(){return Promise.resolve(Object.keys(localStorage).reduce(function(e,t){var n=localStorage.getItem(t);try{n=JSON.parse(n)}catch(e){console.warn("localStorageAdapter parse error",e)}return Object.assign(e,d()({},t,n))},{}))}}},Kt={server:function(e){return{save:function(t){return e.request(e.url("/settings"),{method:"post",body:t},"json")},load:function(){return e.request(e.url("/settings"),{method:"get"},"json")}}},localStorage:Ht},zt=function(){function e(t,n){v()(this,e);var r=t.config("standalone")?Ht:"function"==typeof n.adapter?n.adapter:Kt[n.adapter||"localStorage"];this.adapter=Object.assign({load:function(){return Promise.reject(new Error("Not implemented"))},save:function(){return Promise.reject(new Error("Not implemented"))},init:function(){return Promise.resolve(!0)},clear:function(){return Promise.resolve(!0)},destroy:function(){}},r(t,n.config)),this.debounce=null,this.settings={},this.core=t}return g()(e,[{key:"init",value:function(){return this.adapter.init()}},{key:"save",value:function(){var e=this;return new Promise(function(t,n){if(e.debounce){var r=W()(e.debounce,2),o=r[0],i=r[1];o.resolve(!1),e.debounce=clearTimeout(i)}e.debounce=[{resolve:t,reject:n},setTimeout(function(){e.adapter.save(e.settings).then(function(){e.core.emit("osjs/settings:save"),t.apply(void 0,arguments)}).catch(n)},100)]})}},{key:"load",value:function(){var e=this;this.core.emit("osjs/settings:load");var t=this.core.config("settings.defaults",{});return this.adapter.load().then(function(n){return e.settings=Oe(t,n,{arrayMerge:function(e,t){return t}}),!0}).catch(function(n){return console.warn("Failed to set settings",n),e.settings=t,!1})}},{key:"get",value:function(e,t,n){if(void 0===e)return Object.assign({},this.settings);if(void 0===this.settings[e])return n||{};var r=Gt()(this.settings[e]);return t?r.get(t,n):r.get()||n}},{key:"set",value:function(e,t,n){if(-1!==this.core.config("settings.lock",[]).indexOf(e))return this;if(void 0===this.settings[e]&&(this.settings[e]={}),t)try{var r=Gt()(this.settings[e]);r.set(t,n),this.settings[e]=r.get()}catch(e){console.warn(e)}else this.settings[e]=Object.assign({},n);return this}},{key:"clear",value:function(e){var t=this;return this.adapter.clear(e).then(function(n){return n&&t.settings[e]&&delete t.settings[e],n})}}]),e}(),Wt=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return v()(this,t),(n=y()(this,O()(t).call(this,e))).settings=new zt(e,Object.assign({config:{}},r)),n}return T()(t,e),g()(t,[{key:"provides",value:function(){return["osjs/settings"]}},{key:"init",value:function(){var e=this;return this.core.singleton("osjs/settings",function(){return{save:function(){return e.settings.save()},load:function(){return e.settings.load()},clear:function(){var t;return(t=e.settings).clear.apply(t,arguments)},get:function(){var t;return(t=e.settings).get.apply(t,arguments)},set:function(){var t;return(t=e.settings).set.apply(t,arguments)}}}),this.settings.init()}}]),t}(re.ServiceProvider);n.d(t,"Core",function(){return ge}),n.d(t,"Window",function(){return K}),n.d(t,"Desktop",function(){return be}),n.d(t,"Application",function(){return te}),n.d(t,"Notification",function(){return we}),n.d(t,"WindowBehavior",function(){return Re}),n.d(t,"Login",function(){return Ce}),n.d(t,"Websocket",function(){return N}),n.d(t,"CoreServiceProvider",function(){return Je}),n.d(t,"DesktopServiceProvider",function(){return et}),n.d(t,"NotificationServiceProvider",function(){return tt}),n.d(t,"VFSServiceProvider",function(){return Rt}),n.d(t,"AuthServiceProvider",function(){return Ut}),n.d(t,"SettingsServiceProvider",function(){return Wt})}])});


/***/ }),

/***/ "./node_modules/@osjs/dialogs/dist/main.js":
/*!*************************************************!*\
  !*** ./node_modules/@osjs/dialogs/dist/main.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

!function(t,e){ true?module.exports=e():undefined}(window,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=13)}([function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},function(t,e,n){n(0);var r=n(23);function o(e,n,i){return"undefined"!=typeof Reflect&&Reflect.get?t.exports=o=Reflect.get:t.exports=o=function(t,e,n){var o=r(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}},o(e,n,i||e)}t.exports=o},function(t,e,n){var r=n(6),o=n(22);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?o(t):e}},function(t,e,n){var r=n(24);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(e){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?t.exports=r=function(t){return n(t)}:t.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)},r(e)}t.exports=r},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){t.exports=n(20)},function(t,e){function n(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)}t.exports=function(t){return function(){var e=this,r=arguments;return new Promise(function(o,i){var a=t.apply(e,r);function u(t){n(a,o,i,u,s,"next",t)}function s(t){n(a,o,i,u,s,"throw",t)}u(void 0)})}}},function(t,e,n){var r=n(16),o=n(17),i=n(18);t.exports=function(t){return r(t)||o(t)||i()}},function(t,e,n){"use strict";
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(19);function o(t){return!0===r(t)&&"[object Object]"===Object.prototype.toString.call(t)}t.exports=function(t){var e,n;return!1!==o(t)&&("function"==typeof(e=t.constructor)&&(!1!==o(n=e.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))}},function(t,e,n){var r=n(25),o=n(26),i=n(27);t.exports=function(t,e){return r(t)||o(t,e)||i()}},function(t,e,n){t.exports=n(28)},function(t,e,n){},,function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,e,n){"use strict";
/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */t.exports=function(t){return null!=t&&"object"==typeof t&&!1===Array.isArray(t)}},function(t,e,n){var r=function(){return this||"object"==typeof self&&self}()||Function("return this")(),o=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,i=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=n(21),o)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(t){r.regeneratorRuntime=void 0}},function(t,e){!function(e){"use strict";var n,r=Object.prototype,o=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag",c="object"==typeof t,l=e.regeneratorRuntime;if(l)c&&(t.exports=l);else{(l=e.regeneratorRuntime=c?t.exports:{}).wrap=w;var f="suspendedStart",h="suspendedYield",p="executing",d="completed",v={},g={};g[a]=function(){return this};var y=Object.getPrototypeOf,m=y&&y(y(P([])));m&&m!==r&&o.call(m,a)&&(g=m);var b=O.prototype=j.prototype=Object.create(g);k.prototype=b.constructor=O,O.constructor=k,O[s]=k.displayName="GeneratorFunction",l.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===k||"GeneratorFunction"===(e.displayName||e.name))},l.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,O):(t.__proto__=O,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(b),t},l.awrap=function(t){return{__await:t}},S(L.prototype),L.prototype[u]=function(){return this},l.AsyncIterator=L,l.async=function(t,e,n,r){var o=new L(w(t,e,n,r));return l.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},S(b),b[s]="Generator",b[a]=function(){return this},b.toString=function(){return"[object Generator]"},l.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},l.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,o){return u.type="throw",u.arg=t,e.next=r,o&&(e.method="next",e.arg=n),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),v}}}function w(t,e,n,r){var o=e&&e.prototype instanceof j?e:j,i=Object.create(o.prototype),a=new C(r||[]);return i._invoke=function(t,e,n){var r=f;return function(o,i){if(r===p)throw new Error("Generator is already running");if(r===d){if("throw"===o)throw i;return T()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=E(a,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var s=x(t,e,n);if("normal"===s.type){if(r=n.done?d:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=d,n.method="throw",n.arg=s.arg)}}}(t,n,a),i}function x(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function j(){}function k(){}function O(){}function S(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function L(t){var e;this._invoke=function(n,r){function i(){return new Promise(function(e,i){!function e(n,r,i,a){var u=x(t[n],t,r);if("throw"!==u.type){var s=u.arg,c=s.value;return c&&"object"==typeof c&&o.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,i,a)},function(t){e("throw",t,i,a)}):Promise.resolve(c).then(function(t){s.value=t,i(s)},function(t){return e("throw",t,i,a)})}a(u.arg)}(n,r,e,i)})}return e=e?e.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,E(t,e),"throw"===e.method))return v;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=x(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,v;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,v):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function N(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function P(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(o.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=n,e.done=!0,e};return i.next=i}}return{next:T}}function T(){return{value:n,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e,n){var r=n(0);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t}},function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,r)}t.exports=n},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e,n){"use strict";n.r(e);n(14);var r=n(10),o=n.n(r),i=n(1),a=n.n(i),u=n(2),s=n.n(u);function c(t,e){for(var n=[],r=[],o=arguments.length;o-- >2;)n.push(arguments[o]);for(;n.length;){var i=n.pop();if(i&&i.pop)for(o=i.length;o--;)n.push(i[o]);else null!=i&&!0!==i&&!1!==i&&r.push(i)}return"function"==typeof t?t(e||{},r):{nodeName:t,attributes:e||{},children:r,key:e&&e.key}}function l(t,e,n,r){var o,i=[].map,a=r&&r.children[0]||null,u=a&&function t(e){return{nodeName:e.nodeName.toLowerCase(),attributes:{},children:i.call(e.childNodes,function(e){return 3===e.nodeType?e.nodeValue:t(e)})}}(a),s=[],c=!0,l=v(t),f=function t(e,n,r){for(var o in r)"function"==typeof r[o]?function(t,o){r[t]=function(t){var i=o(t);return"function"==typeof i&&(i=i(y(e,l),r)),i&&i!==(n=y(e,l))&&!i.then&&d(l=g(e,v(n,i),l)),i}}(o,r[o]):t(e.concat(o),n[o]=v(n[o]),r[o]=v(r[o]));return r}([],l,v(e));return d(),f;function h(t){return"function"==typeof t?h(t(l,f)):null!=t?t:""}function p(){o=!o;var t=h(n);for(r&&!o&&(a=function t(e,n,r,o,i){if(o===r);else if(null==r||r.nodeName!==o.nodeName){var a=function t(e,n){var r="string"==typeof e||"number"==typeof e?document.createTextNode(e):(n=n||"svg"===e.nodeName)?document.createElementNS("http://www.w3.org/2000/svg",e.nodeName):document.createElement(e.nodeName);var o=e.attributes;if(o){o.oncreate&&s.push(function(){o.oncreate(r)});for(var i=0;i<e.children.length;i++)r.appendChild(t(e.children[i]=h(e.children[i]),n));for(var a in o)w(r,a,o[a],null,n)}return r}(o,i);e.insertBefore(a,n),null!=r&&x(e,n,r),n=a}else if(null==r.nodeName)n.nodeValue=o;else{!function(t,e,n,r){for(var o in v(e,n))n[o]!==("value"===o||"checked"===o?t[o]:e[o])&&w(t,o,n[o],e[o],r);var i=c?n.oncreate:n.onupdate;i&&s.push(function(){i(t,e)})}(n,r.attributes,o.attributes,i=i||"svg"===o.nodeName);for(var u={},l={},f=[],p=r.children,d=o.children,g=0;g<p.length;g++){f[g]=n.childNodes[g];var y=m(p[g]);null!=y&&(u[y]=[f[g],p[g]])}for(var g=0,b=0;b<d.length;){var y=m(p[g]),j=m(d[b]=h(d[b]));if(l[y])g++;else if(null==j||j!==m(p[g+1]))if(null==j||c)null==y&&(t(n,f[g],p[g],d[b],i),b++),g++;else{var k=u[j]||[];y===j?(t(n,k[0],k[1],d[b],i),g++):k[0]?t(n,n.insertBefore(k[0],f[g]),k[1],d[b],i):t(n,f[g],null,d[b],i),l[j]=d[b],b++}else null==y&&x(n,f[g],p[g]),g++}for(;g<p.length;)null==m(p[g])&&x(n,f[g],p[g]),g++;for(var g in u)l[g]||x(n,u[g][0],u[g][1])}return n}(r,a,u,u=t)),c=!1;s.length;)s.pop()()}function d(){o||(o=!0,setTimeout(p))}function v(t,e){var n={};for(var r in t)n[r]=t[r];for(var r in e)n[r]=e[r];return n}function g(t,e,n){var r={};return t.length?(r[t[0]]=t.length>1?g(t.slice(1),e,n[t[0]]):e,v(n,r)):e}function y(t,e){for(var n=0;n<t.length;)e=e[t[n++]];return e}function m(t){return t?t.key:null}function b(t){return t.currentTarget.events[t.type](t)}function w(t,e,n,r,o){if("key"===e);else if("style"===e)if("string"==typeof n)t.style.cssText=n;else for(var i in"string"==typeof r&&(r=t.style.cssText=""),v(r,n)){var a=null==n||null==n[i]?"":n[i];"-"===i[0]?t.style.setProperty(i,a):t.style[i]=a}else"o"===e[0]&&"n"===e[1]?(e=e.slice(2),t.events?r||(r=t.events[e]):t.events={},t.events[e]=n,n?r||t.addEventListener(e,b):t.removeEventListener(e,b)):e in t&&"list"!==e&&"type"!==e&&"draggable"!==e&&"spellcheck"!==e&&"translate"!==e&&!o?t[e]=null==n?"":n:null!=n&&!1!==n&&t.setAttribute(e,n),null!=n&&!1!==n||t.removeAttribute(e)}function x(t,e,n){function r(){t.removeChild(function t(e,n){var r=n.attributes;if(r){for(var o=0;o<n.children.length;o++)t(e.childNodes[o],n.children[o]);r.ondestroy&&r.ondestroy(e)}return e}(e,n))}var o=n.attributes&&n.attributes.onremove;o?o(e,r):r()}}var f=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===h}(t)}(t)};var h="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function p(t,e){return!1!==e.clone&&e.isMergeableObject(t)?v(function(t){return Array.isArray(t)?[]:{}}(t),t,e):t}function d(t,e,n){return t.concat(e).map(function(t){return p(t,n)})}function v(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||d,n.isMergeableObject=n.isMergeableObject||f;var r=Array.isArray(e);return r===Array.isArray(t)?r?n.arrayMerge(t,e,n):function(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(e){r[e]=p(t[e],n)}),Object.keys(e).forEach(function(o){n.isMergeableObject(e[o])&&t[o]?r[o]=v(t[o],e[o],n):r[o]=p(e[o],n)}),r}(t,e,n):p(e,n)}v.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(t,n){return v(t,n,e)},{})};var g=v,y=n(11),m=n.n(y),b=n(6),w=n.n(b);var x=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}};var j=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)};var k=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")};var O=function(t){return x(t)||j(t)||k()};function S(t,e){for(var n=[],r=[],o=arguments.length;2<o--;)n.push(arguments[o]);for(;n.length;){var i=n.pop();if(i&&i.pop)for(o=i.length;o--;)n.push(i[o]);else null!=i&&!0!==i&&!1!==i&&r.push(i)}return"function"==typeof t?t(e||{},r):{nodeName:t,attributes:e||{},children:r,key:e&&e.key}}function L(t,e,n,r){function o(t){return"function"==typeof t?o(t(j,k)):null==t?"":t}function i(){g=!g;var t=o(n);for(r&&!g&&(m=function t(e,n,r,i,a){if(i===r);else if(null==r||r.nodeName!==i.nodeName){var u=p(i,a);e.insertBefore(u,n),null!=r&&v(e,n,r),n=u}else if(null==r.nodeName)n.nodeValue=i;else{d(n,r.attributes,i.attributes,a=a||"svg"===i.nodeName);for(var s={},c={},f=[],h=r.children,g=i.children,y=0;y<h.length;y++){f[y]=n.childNodes[y];var m=l(h[y]);null!=m&&(s[m]=[f[y],h[y]])}for(var y=0,b=0;b<g.length;){var m=l(h[y]),w=l(g[b]=o(g[b]));if(c[m])y++;else if(null==w||w!==l(h[y+1]))if(null==w||x)null==m&&(t(n,f[y],h[y],g[b],a),b++),y++;else{var j=s[w]||[];m===w?(t(n,j[0],j[1],g[b],a),y++):j[0]?t(n,n.insertBefore(j[0],f[y]),j[1],g[b],a):t(n,f[y],null,g[b],a),c[w]=g[b],b++}else null==m&&v(n,f[y],h[y]),y++}for(;y<h.length;)null==l(h[y])&&v(n,f[y],h[y]),y++;for(var y in s)c[y]||v(n,s[y][0],s[y][1])}return n}(r,m,b,b=t)),x=!1;w.length;)w.pop()()}function a(){g||(g=!0,setTimeout(i))}function u(t,e){var n={};for(var r in t)n[r]=t[r];for(var r in e)n[r]=e[r];return n}function s(t,e,n){var r={};return t.length?(r[t[0]]=1<t.length?s(t.slice(1),e,n[t[0]]):e,u(n,r)):e}function c(t,e){for(var n=0;n<t.length;)e=e[t[n++]];return e}function l(t){return t?t.key:null}function f(t){return t.currentTarget.events[t.type](t)}function h(t,e,n,r,o){if("key"===e);else if("style"!==e)"o"===e[0]&&"n"===e[1]?(e=e.slice(2),t.events?!r&&(r=t.events[e]):t.events={},t.events[e]=n,n?!r&&t.addEventListener(e,f):t.removeEventListener(e,f)):e in t&&"list"!==e&&"type"!==e&&"draggable"!==e&&"spellcheck"!==e&&"translate"!==e&&!o?t[e]=null==n?"":n:null!=n&&!1!==n&&t.setAttribute(e,n),(null==n||!1===n)&&t.removeAttribute(e);else if("string"==typeof n)t.style.cssText=n;else for(var i in"string"==typeof r&&(r=t.style.cssText=""),u(r,n)){var a=null==n||null==n[i]?"":n[i];"-"===i[0]?t.style.setProperty(i,a):t.style[i]=a}}function p(t,e){var n="string"==typeof t||"number"==typeof t?document.createTextNode(t):(e=e||"svg"===t.nodeName)?document.createElementNS("http://www.w3.org/2000/svg",t.nodeName):document.createElement(t.nodeName),r=t.attributes;if(r){r.oncreate&&w.push(function(){r.oncreate(n)});for(var i=0;i<t.children.length;i++)n.appendChild(p(t.children[i]=o(t.children[i]),e));for(var a in r)h(n,a,r[a],null,e)}return n}function d(t,e,n,r){for(var o in u(e,n))n[o]!==("value"==o||"checked"==o?t[o]:e[o])&&h(t,o,n[o],e[o],r);var i=x?n.oncreate:n.onupdate;i&&w.push(function(){i(t,e)})}function v(t,e,n){function r(){t.removeChild(function t(e,n){var r=n.attributes;if(r){for(var o=0;o<n.children.length;o++)t(e.childNodes[o],n.children[o]);r.ondestroy&&r.ondestroy(e)}return e}(e,n))}var o=n.attributes&&n.attributes.onremove;o?o(e,r):r()}var g,y=[].map,m=r&&r.children[0]||null,b=m&&function t(e){return{nodeName:e.nodeName.toLowerCase(),attributes:{},children:y.call(e.childNodes,function(e){return 3===e.nodeType?e.nodeValue:t(e)})}}(m),w=[],x=!0,j=u(t),k=function t(e,n,r){for(var o in r)"function"==typeof r[o]?function(t,o){r[t]=function(t){var i=o(t);return"function"==typeof i&&(i=i(c(e,j),r)),i&&i!==(n=c(e,j))&&!i.then&&a(j=s(e,u(n,i),j)),i}}(o,r[o]):t(e.concat(o),n[o]=u(n[o]),r[o]=u(r[o]));return r}([],j,u(e));return a(),k}var E=function(t,e){return"number"==typeof t?"".concat(t,"px"):!1===t?e:t},N={grow:function(t){return{flexGrow:t}},shrink:function(t){return{flexShrink:t}},basis:function(t){return{flexBasis:E(t,"auto")}},align:function(t){return{alignItems:t}},justify:function(t){return{justifyContent:t}},padding:function(t){return{margin:E(t,"0")}},margin:function(t){return{margin:E(t,"0")}}},_=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=t.class instanceof Array?t.class:[t.class],r=["osjs-gui"].concat(O(n));t.orientation&&r.push("osjs-gui-"+t.orientation);var o="string"==typeof t.style?{}:Object.assign({},t.style||{}),i=Object.keys(t).reduce(function(e,n){var r=N[n]?N[n](t[n]):void 0;return Object.assign({},e,r)},o);return S("div",{oncreate:t.oncreate,ondestroy:t.ondestroy,class:r.filter(function(t){return!!t}).join(" "),style:i},e)},C=function(t,e){return S(_,Object.assign({orientation:"horizontal"},t,{class:["osjs-gui-box",t.class]}),e)},P=function(t,e){return S(_,Object.assign({},t,{class:["osjs-gui-box-container",t.class]}),e)};function T(t,e){return t(e={exports:{}},e.exports),e.exports}var A=T(function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==w()(Symbol.iterator)?function(t){return w()(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":w()(t)})(t)}function n(r){return t.exports=n="function"==typeof Symbol&&"symbol"===e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)},n(r)}t.exports=n}),z=function(t){return S("i",{"data-icon":"object"===A(t)?t.name:void 0,class:"osjs-icon",style:{backgroundImage:"string"==typeof t?"url(".concat(t,")"):void 0}})};var I=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},R=function(t,e){return Object.keys(t).filter(function(t){return-1===e.indexOf(t)}).reduce(function(e,n){return Object.assign(I({},n,t[n]),e)},{})},D=function(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:250,n=!1;return function(r,o){return t=clearTimeout(t),t=setTimeout(function(){return n=!1},e),n?(r.preventDefault(),o(r)):(n=!0,!1)}},B=function(t,e,n,r,o){var i=e.oninput||function(){},a=e.onchange||function(){},u=e.onkeydown||function(){},s=o||function(t){return[t.target.value]},c=Object.assign({oninput:function(t){return i.apply(void 0,[t].concat(O(s(t))))},onchange:function(t){return a.apply(void 0,[t].concat(O(s(t))))},onkeydown:function(t){13===t.keyCode&&e.onenter&&e.onenter.apply(e,[t].concat(O(s(t)))),u(t)}},n,R(e,["choices","label","box","oninput","onchange"]));return S(_,Object.assign({},e.box||{},{class:"osjs-gui-field osjs-gui-"+t}),r(c))},F=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return B("button",t,{},function(n){var r=[];return t.icon&&r.push(S(z,t.icon)),"string"==typeof t.label&&r.push(S("span",{class:"osjs-label"},t.label)),S("button",n,r.concat(O(e)))})},V=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n="number"==typeof t.value?Math.max(0,Math.abs(t.value))%100:0,r=S("div",{class:"osjs-gui-progressbar-wrapper"},[S("div",{className:"osjs-gui-progressbar-value",style:{width:n+"%"}}),S("div",{className:"osjs-gui-progressbar-label"},[S("span",{},[n+"%"])])]);return S(_,Object.assign({},t.box||{},{class:["osjs-gui-progressbar",t.class]}),[r].concat(O(e)))},$=function t(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,o=function(e,n){var o="separator"===n.type?"osjs-gui-menu-separator":"osjs-gui-menu-label "+(n.disabled?"osjs__disabled":""),i=[S("span",{class:o},function(t){var e=[];return"checkbox"===t.type||"boolean"==typeof t.checked?e.push(S("span",{class:"osjs-gui-menu-checkbox "+(t.checked?"active":"")})):t.icon&&e.push(S(z,t.icon)),e.push(S("span",{},t.label)),e}(n))];return n.items&&i.push(t(e,n.items,r+1)),i};return S("ul",{class:""},n.map(function(t){return S("li",{class:"osjs-gui-menu-entry"},[S("div",{class:"osjs-gui-menu-container","data-has-image":!!t.icon||void 0,"data-has-children":!!t.items||void 0,onmouseover:t.items?e.onshow:void 0,ontouchend:t.items?e.onshow:void 0,onclick:function(n){t.items||(t.onclick&&t.onclick(t,n),e.onclick&&e.onclick(t,n))}},o(e,t))])}))},M=function(t){return S("div",{id:"osjs-context-menu",className:"osjs-gui osjs-gui-menu",oncreate:t.oncreate,onupdate:t.onupdate,style:{display:!1===t.visible?"none":"block",top:t.position?t.position.top+"px":0,left:t.position?t.position.left+"px":0}},$(t,t.menu))},G=function(t,e){return S(_,Object.assign({orientation:"vertical"},t,{class:["osjs-gui-toolbar",t.class]}),e)};function H(t,e,n,r){return e._$r=function(){return{}},function(o,i){return S(r||"x-",{key:o.key,id:o.id,class:o.class,oncreate:function(r){var a=L(t,e,function(t,e){var o=n(t,e);return"function"==typeof o&&(o=o(r._$p,r._$c)),o},r);r._$p=o,r._$c=i,r._$r=a._$r,r._$u=a.uninit,a.init&&a.init(o),o.oncreate&&o.oncreate(r)},onupdate:function(t){t._$p=o,t._$c=i,t._$r(),o.onupdate&&o.onupdate(t)},ondestroy:function(t){t._$u&&t._$u()}})}}var Y=function(t,e,n,r){var o=Array(Math.ceil(n.length/2)).fill(null).map(function(){return S("div",{class:"osjs-gui-panes-spacer",onmousedown:function(t){return function(t,e,n){var r=t.target,o=t.clientX,i=t.clientY,a=r.previousSibling,u=a.offsetWidth,s=a.offsetHeight,c=Array.from(r.parentNode.children).indexOf(a),l=.8*a.parentNode.offsetWidth,f=.8*a.parentNode.offsetHeight;if(!(0>c)){var h=function(t){var r=Math.min;t.preventDefault();var a="vertical"===n?u:s;if("vertical"===n){var h=t.clientX-o;a=r(l,a+h)}else{var p=t.clientY-i;a=r(f,a+p)}e.setSize({index:c,size:a})};t.preventDefault(),document.addEventListener("mousemove",h),document.addEventListener("mouseup",function t(e){e.preventDefault(),document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",t)})}}(t,e,r)}})});return n.map(function(e,n){var r=t.sizes[n]?t.sizes[n]+"px":void 0;return S("div",{class:"osjs-gui-panes-pane",style:{flex:r?"0 0 ".concat(r):r}},e)}).map(function(t,e){return[t,o[e]]}).reduce(function(t,e){return t.concat(e)}).filter(function(t){return void 0!==t})},W=(H({sizes:[]},{init:function(t){return{sizes:t.sizes||[150]}},setSize:function(t){var e=t.index,n=t.size;return function(t){var r=[].concat(t.sizes);return r[e]=n,{sizes:r}}}},function(t,e){return function(n,r){var o=n.orientation||"vertical";return S(_,{orientation:o,class:"osjs-gui-panes-inner"},Y(t,e,r,o))}},"div"),D()),q=function(t){var e=function(e,n){return S("div",{class:"osjs-gui-list-view-pane"},[S("div",{class:"osjs-gui-list-view-header",style:{display:t.hideColumns?"none":void 0}},"object"===A(n)?n.label:n),S("div",{class:"rows"},t.rows.map(function(e){return function(n,r){var o=n.columns[e]||{},i=t.selectedIndex===r,a=o.icon?S(z,o.icon):null,u=[S("span",{},["object"===A(o)?o.label:o])];return a&&u.unshift(a),S("div",{"data-has-icon":!!o.icon||void 0,class:"osjs-gui-list-view-cell"+(i?" osjs__active":""),ontouchstart:function(e){return W(e,function(){return t.onactivate({data:n.data,index:r,ev:e})})},ondblclick:function(e){return t.onactivate({data:n.data,index:r,ev:e})},onclick:function(e){return t.onselect({data:n.data,index:r,ev:e})},oncontextmenu:function(e){return t.oncontextmenu({data:n.data,index:r,ev:e})},oncreate:function(e){return t.oncreate({data:n.data,index:r,el:e})}},u)}}(e)))])};return S("div",{class:"osjs-gui-list-view-wrapper",oncreate:function(e){return e.scrollTop=t.scrollTop},onupdate:function(e){0>t.selectedIndex&&(e.scrollTop=t.scrollTop)}},t.columns.map(function(t,n){return e(n,t)}))},X=function(t,e){var n=Object.assign({columns:[],rows:[],onselect:function(t){var n=t.data,r=t.index,o=t.ev;e.select({data:n,index:r,ev:o}),e.setSelectedIndex(r)},onactivate:function(t){var n=t.data,r=t.index,o=t.ev;e.activate({data:n,index:r,ev:o}),e.setSelectedIndex(-1)},oncontextmenu:function(t){var n=t.data,r=t.index,o=t.ev;e.select({data:n,index:r,ev:o}),e.contextmenu({data:n,index:r,ev:o}),e.setSelectedIndex(r)},oncreate:function(t){e.created(t)}},t);return function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return function(t){return S(_,Object.assign({class:"osjs-gui-list-view"},t.box||{}),q(R(t,["box"])))}(Object.assign(n,t))}},U=function(t){return Object.assign({selectedIndex:-1,scrollTop:0},t)},K=function(t){return Object.assign({select:function(){return function(){return{}}},activate:function(){return function(){return{}}},contextmenu:function(){return function(){return{}}},created:function(){return function(){return{}}},setRows:function(t){return{rows:t}},setColumns:function(t){return{columns:t}},setScrollTop:function(t){return function(){return{scrollTop:t}}},setSelectedIndex:function(t){return function(){return{selectedIndex:t}}}},t||{})},J=(D(),H({selectedIndex:0},{setSelectedIndex:function(t){return function(){return{selectedIndex:t}}}},function(t,e){return function(n,r){return S("div",{class:"osjs-gui-tabs-wrapper"},[S("div",{class:"osjs-gui-tabs-header"},function(t,e,n){return(t||[]).map(function(t,r){return S("div",{class:e.selectedIndex===r?"osjs__active":"",onclick:function(){return n.setSelectedIndex(r)}},S("span",{},t))})}(n.labels,t,e)),S("div",{class:"osjs-gui-tabs-panes"},function(t,e){return e.map(function(e,n){return S("div",{class:t.selectedIndex===n?"osjs__active":""},e)})}(t,r))])}},"div"),function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return B("text-field",t,{autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",type:"text"},function(t){return S("input",t)})}),Q=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return B("textarea-field",t,{rows:4},function(t){return S("textarea",t,e)})},Z=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=Object.keys(t.choices||{}).reduce(function(e,n){return e.push(S("option",{value:n,selected:t.key===t.choices[n]},t.choices[n])),e},[]);return B("select-field",t,{selectedIndex:void 0},function(t){return S("div",{},S("select",t,O(n).concat(O(e))))},function(t){return[t.target.value,t.target.textContent]})},tt=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return B("range-field",t,{type:"range"},function(t){return S("input",t)})},et=T(function(t){!function(e){function n(t,e,n,r){var i=e&&e.prototype instanceof o?e:o,a=Object.create(i.prototype),u=new p(r||[]);return a._invoke=c(t,n,u),a}function r(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function o(){}function i(){}function a(){}function u(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function s(t){function e(n,o,i,a){var u=r(t[n],t,o);if("throw"!==u.type){var s=u.arg,c=s.value;return c&&"object"==w()(c)&&y.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,i,a)},function(t){e("throw",t,i,a)}):Promise.resolve(c).then(function(t){s.value=t,i(s)},function(t){return e("throw",t,i,a)})}a(u.arg)}var n;this._invoke=function(t,r){function o(){return new Promise(function(n,o){e(t,r,n,o)})}return n=n?n.then(o,o):o()}}function c(t,e,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return{value:void 0,done:!0}}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=l(u,n);if(s){if(s===O)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var c=r(t,e,n);if("normal"===c.type){if(o=n.done?"completed":"suspendedYield",c.arg===O)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o="completed",n.method="throw",n.arg=c.arg)}}}function l(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,l(t,e),"throw"===e.method))return O;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return O}var o=r(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,O;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,O):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,O)}function f(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function h(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function p(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(f,this),this.reset(!0)}function d(t){if(t){var e=t[b];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(y.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:v}}function v(){return{value:void 0,done:!0}}var g=Object.prototype,y=g.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},b=m.iterator||"@@iterator",x=m.asyncIterator||"@@asyncIterator",j=m.toStringTag||"@@toStringTag",k=e.regeneratorRuntime;if(k)t.exports=k;else{(k=e.regeneratorRuntime=t.exports).wrap=n;var O={},S={};S[b]=function(){return this};var L=Object.getPrototypeOf,E=L&&L(L(d([])));E&&E!==g&&y.call(E,b)&&(S=E);var N=a.prototype=o.prototype=Object.create(S);i.prototype=N.constructor=a,a.constructor=i,a[j]=i.displayName="GeneratorFunction",k.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===i||"GeneratorFunction"===(e.displayName||e.name))},k.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,a):(t.__proto__=a,!(j in t)&&(t[j]="GeneratorFunction")),t.prototype=Object.create(N),t},k.awrap=function(t){return{__await:t}},u(s.prototype),s.prototype[x]=function(){return this},k.AsyncIterator=s,k.async=function(t,e,r,o){var i=new s(n(t,e,r,o));return k.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},u(N),N[j]="Generator",N[b]=function(){return this},N.toString=function(){return"[object Generator]"},k.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},k.values=d,p.prototype={constructor:p,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(h),!t)for(var e in this)"t"===e.charAt(0)&&y.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){function e(e,r){return i.type="throw",i.arg=t,n.next=e,r&&(n.method="next",n.arg=void 0),!!r}if(this.done)throw t;for(var n=this,r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(t,e){for(var n,r=this.tryEntries.length-1;0<=r;--r)if((n=this.tryEntries[r]).tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,O):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),O},finish:function(t){for(var e,n=this.tryEntries.length-1;0<=n;--n)if((e=this.tryEntries[n]).finallyLoc===t)return this.complete(e.completion,e.afterLoc),h(e),O},catch:function(t){for(var e,n=this.tryEntries.length-1;0<=n;--n)if((e=this.tryEntries[n]).tryLoc===t){var r=e.completion;if("throw"===r.type){var o=r.arg;h(e)}return o}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:d(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),O}}}}(function(){return this||"object"==("undefined"==typeof self?"undefined":w()(self))&&self}()||Function("return this")())}),nt=function(){return this||"object"==("undefined"==typeof self?"undefined":w()(self))&&self}()||Function("return this")(),rt=nt.regeneratorRuntime&&0<=Object.getOwnPropertyNames(nt).indexOf("regeneratorRuntime"),ot=rt&&nt.regeneratorRuntime;nt.regeneratorRuntime=void 0;var it=et;if(rt)nt.regeneratorRuntime=ot;else try{delete nt.regeneratorRuntime}catch(t){nt.regeneratorRuntime=void 0}var at=it;function ut(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)}var st=function(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){function i(t){ut(u,r,o,i,a,"next",t)}function a(t){ut(u,r,o,i,a,"throw",t)}var u=t.apply(e,n);i(void 0)})}};var ct=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};function lt(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}var ft=function(t,e,n){return e&&lt(t.prototype,e),n&&lt(t,n),t},ht=function(){function t(e){ct(this,t),this.core=e,this.callback=function(){},this.actions=null}return ft(t,[{key:"destroy",value:function(){this.callback=null,this.actions=null}},{key:"init",value:function(){var t,e=this;this.actions=L({visible:!1,menu:[],position:{top:0,left:0}},{clamp:function(n){return function(r){var o=e.core.$root;clearTimeout(t);var i=function(t,e,n){var r={},o=n.top+e.offsetHeight,i=n.left+e.offsetWidth,a=t.offsetHeight-n.top,u=t.offsetWidth-n.left,s=i>t.offsetWidth,c=o>t.offsetHeight;return c&&(r.top=t.offsetHeight-e.offsetHeight-a),s&&(r.left=t.offsetWidth-e.offsetHeight-u),c||s?r:null}(o,n,r.position);return i?{position:i}:{}}},onshow:function(n){return function(){clearTimeout(t),t=setTimeout(function(){return function(t,e){var n=e.target.querySelector("ul");n&&(n.classList.contains("osjs-gui-menu-container")&&(n=n.parentNode.parentNode),n&&n.offsetParent)&&(n.classList.remove("clamp-right"),n.getBoundingClientRect().right>t.offsetWidth&&n.classList.add("clamp-right"))}(e.core.$root,n)},1)}},show:function(t){return function(){var n=t.menu,r=t.position;if(r instanceof Event)r={left:r.clientX,top:r.clientY};else if(r instanceof Element){var o=r.getBoundingClientRect();r={left:o.left,top:o.top+o.height}}return e.callback=function(){t.callback&&t.callback.apply(t,arguments),e.actions.hide()},{visible:!0,menu:n,position:r}}},hide:function(){return function(){return e.callback=null,{visible:!1}}}},function(t){return function(e,n){return S(M,{position:e.position,visible:e.visible,menu:e.menu,onclick:t,onshow:n.onshow,onupdate:function(t){return n.clamp(t)},oncreate:function(t){return n.clamp(t)}})}}(function(){!e.core.destroyed&&e.callback&&e.callback.apply(e,arguments)}),this.core.$root)}},{key:"show",value:function(){var t;return this.actions?(t=this.actions).show.apply(t,arguments):null}},{key:"hide",value:function(){var t;return this.actions?(t=this.actions).hide.apply(t,arguments):null}}]),t}(),pt=function(t){var e=t.target,n="TEXTAREA"===e.tagName;return n||"INPUT"!==e.tagName||(n=-1!==["text","password","number","email"].indexOf(e.type)),n},dt=(function(){function t(e){ct(this,t),this.core=e,this.contextmenu=new ht(e)}ft(t,[{key:"destroy",value:function(){var t=document.getElementById("osjs-context-menu");t&&t.remove(),this.contextmenu.destroy()}},{key:"init",value:function(){var t=st(at.mark(function t(){var e,n=this;return at.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e={show:function(){var t;return(t=n.contextmenu).show.apply(t,arguments)},hide:function(){var t;return(t=n.contextmenu).hide.apply(t,arguments)}},this.core.instance("osjs/contextmenu",function(){return arguments.length?e.show.apply(e,arguments):e}),this.core.$root.addEventListener("contextmenu",function(t){pt(t)||(t.stopPropagation(),t.preventDefault())});case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"start",value:function(){var t=this;this.core.$root.addEventListener("click",function(e){!document.getElementById("osjs-context-menu").contains(e.target)&&t.contextmenu&&t.contextmenu.hide()},!0),this.contextmenu.init()}}])}(),0),vt=function(t,e){var n=function(t){return{ok:{label:t("LBL_OK"),positive:!0},close:{label:t("LBL_CLOSE")},cancel:{label:t("LBL_CANCEL")},yes:{label:t("LBL_YES"),positive:!0},no:{label:t("LBL_NO")}}}(e);return n[t]?Object.assign({},{name:t},n[t]):{label:t,name:t}},gt=function(t,e){return g({id:null,className:"unknown",defaultValue:null,buttons:[],sound:null,window:{id:t.id||"Dialog_"+String(dt),title:"Dialog",attributes:{gravity:"center",resizable:!1,maximizable:!1,minimizable:!1,sessionable:!1,classNames:["osjs-dialog","osjs-".concat(t.className||"unknown","-dialog")],minDimension:{width:300,height:100}}}},t,{isMergeableObject:m.a})},yt=function(){function t(e,n,r,o){a()(this,t),this.core=e,this.args=n,this.callback=o||function(){},this.options=gt(r,n),this.win=null,this.value=void 0,this.calledBack=!1;var i=e.make("osjs/locale").translate;this.buttons=this.options.buttons.map(function(t){return"string"==typeof t?vt(t,i):{label:t.label||"button",name:t.name||"unknown"}}),dt++}return s()(t,[{key:"destroy",value:function(){this.win.destroy(),this.win=null,this.callback=null}},{key:"render",value:function(t,e){var n=this,r=g(this.options.window||{},t,{isMergeableObject:m.a});this.win=this.core.make("osjs/window",r),this.win.on("keydown",function(t,e){27===e.keyCode&&n.emitCallback(n.getNegativeButton(),null,!0)}),this.win.on("dialog:button",function(t,e){n.emitCallback(t,e,!0)}),this.win.on("destroy",function(){n.emitCallback("destroy")}),this.win.on("render",function(){n.win.focus();var t=n.getNegativeButton(),e=t?n.win.$content.querySelector("button[name=".concat(t,"]")):null;e&&e.focus(),n.playSound()}),this.win.init(),this.win.render(e),this.win.focus()}},{key:"createView",value:function(t){return c(C,{grow:1,shrink:1},o()(t).concat([c(G,{class:"osjs-dialog-buttons"},o()(this.createButtons()))]))}},{key:"createButtons",value:function(){var t=this;return this.buttons.map(function(e){return c(F,Object.assign({},{onclick:function(n){return function(e,n){t.win.emit("dialog:button",e,n)}(e.name,n)}},e))})}},{key:"emitCallback",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.calledBack||(this.calledBack=!0,console.debug("Callback in dialog",t,e,n),this.callback(t,this.getValue(),e),n&&this.destroy())}},{key:"playSound",value:function(){if(this.core.has("osjs/sounds")){var t=this.options.sound;if(t)return this.core.make("osjs/sounds").play(t),!0}return!1}},{key:"getPositiveButton",value:function(){var t=this.buttons.find(function(t){return!0===t.positive});return t?t.name:null}},{key:"getNegativeButton",value:function(){var t=this.buttons.find(function(t){return!t.positive});return t?t.name:null}},{key:"getValue",value:function(){return void 0===this.value?this.options.defaultValue:this.value}}]),t}(),mt=n(8),bt=n.n(mt),wt=n(9),xt=n.n(wt),jt=n(4),kt=n.n(jt),Ot=n(0),St=n.n(Ot),Lt=n(3),Et=n.n(Lt),Nt=n(5),_t=n.n(Nt),Ct=function(t){function e(t,n,r){return a()(this,e),void 0===(n=Object.assign({},{title:"Alert",type:"info",message:""},n)).sound&&(n.sound="error"===n.type?"bell":"message"),kt()(this,St()(e).call(this,t,n,{className:"alert",sound:n.sound,window:{title:n.title,attributes:{ontop:"error"===n.type,minDimension:{width:400,height:220}}},buttons:["close"]},r))}return _t()(e,t),s()(e,[{key:"render",value:function(t){var n=this;Et()(St()(e.prototype),"render",this).call(this,t,function(t){var e=[c("div",{class:"osjs-dialog-message"},String(n.args.message))];if("error"===n.args.type){var r=n.args.error,o=r instanceof Error?r.stack?r.stack:r:String(r);e.push(c(Q,{value:o,readonly:!0,placeholder:n.args.message}))}l({},{},function(t,r){return n.createView([c(C,{grow:1},e)])},t)})}}]),e}(yt),Pt=function(t){function e(t,n,r){a()(this,e);var o=void 0===n.yesno||!0===n.yesno,i=n.buttons instanceof Array?n.buttons:o?["yes","no"]:["ok","cancel"];return kt()(this,St()(e).call(this,t,n,{className:"confirm",window:{title:n.title||"Confirm",attributes:{minDimension:{height:140}}},buttons:i},r))}return _t()(e,t),s()(e,[{key:"render",value:function(t){var n=this;Et()(St()(e.prototype),"render",this).call(this,t,function(t){l({},{},function(t,e){return n.createView([c(C,{grow:1},[c("div",{class:"osjs-dialog-message"},String(n.args.message))])])},t)})}}]),e}(yt),Tt=function(t){function e(t,n,r){var o;return a()(this,e),(o=kt()(this,St()(e).call(this,t,Object.assign({},{value:"",placeholder:""},n),{className:"prompt",buttons:["ok","cancel"],window:{title:n.title||"Prompt",attributes:{minDimension:{width:500,height:200}}}},r))).value=o.args.value,o}return _t()(e,t),s()(e,[{key:"render",value:function(t){var n=this;Et()(St()(e.prototype),"render",this).call(this,t,function(t){l({value:n.args.value},{setValue:function(t){return function(e){return n.value=t,{value:t}}}},function(t,e){return n.createView([c(C,{grow:1,padding:!1},[c(C,{class:"osjs-dialog-message"},String(n.args.message)),c(J,{value:t.value,placeholder:n.args.placeholder,onenter:function(t,r){e.setValue(r),n.emitCallback(n.getPositiveButton(),t,!0)},oninput:function(t,n){return e.setValue(n)}})])])},t)})}}]),e}(yt),At=function(t){function e(t,n,r){var o;return a()(this,e),(o=kt()(this,St()(e).call(this,t,n,{className:"progress",buttons:["cancel"],window:{title:n.title||"Progress",attributes:{minDimension:{width:500,height:200}}}},r))).value=o.args.progress||0,o.status=o.args.status||"",o.app=null,o}return _t()(e,t),s()(e,[{key:"render",value:function(t){var n=this;Et()(St()(e.prototype),"render",this).call(this,t,function(t){n.app=l({progress:n.value,status:n.status},{setProgress:function(t){return function(e){return{progress:t}}},setStatus:function(t){return function(e){return{status:t}}}},function(t,e){return n.createView([c(C,{grow:1,shrink:1},[c("div",{class:"osjs-dialog-message"},String(n.args.message)),c("div",{class:"osjs-dialog-status"},String(t.status)),c(V,{value:t.progress})])])},t)})}},{key:"setProgress",value:function(t){this.app.setProgress(t)}},{key:"setStatus",value:function(t){this.app.setStatus(t)}}]),e}(yt),zt=n(7),It=n.n(zt),Rt=n(12),Dt=n.n(Rt),Bt=function(t){var e=parseInt(t.replace("#",""),16),n={};return n.r=(e&255<<16)>>16,n.g=(65280&e)>>8,n.b=255&e,n},Ft=function(t){var e=t.r,n=t.g,r=t.b;return"#"+[parseInt(e,10).toString(16),parseInt(n,10).toString(16),parseInt(r,10).toString(16)].map(function(t){return 1===String(t).length?"0"+String(t):t}).join("").toUpperCase()},Vt=function(t){function e(t,n,r){var o;a()(this,e),(o=kt()(this,St()(e).call(this,t,n,{className:"color",buttons:["ok","cancel"],window:{title:n.title||"Select Color",attributes:{minDimension:{width:500,height:260}}}},r))).value={r:0,g:0,b:0,hex:"#000000"};var i=n.color;return i&&("string"==typeof i?("#"!==i.substr(0,1)&&(i="#"+i),o.value=Object.assign({},o.value,Bt(n.color)),o.value.hex=n.color):(o.value=Object.assign({},o.value,n.color),o.value.hex=Ft(o.value))),o}return _t()(e,t),s()(e,[{key:"render",value:function(t){var n=this;Et()(St()(e.prototype),"render",this).call(this,t,function(t){var e=function(t,e){var n,r=document.createElement("canvas");r.width=t,r.height=e;var o=r.getContext("2d");return(n=o.createLinearGradient(0,0,o.canvas.width,0)).addColorStop(0,"rgb(255,   0,   0)"),n.addColorStop(.15,"rgb(255,   0, 255)"),n.addColorStop(.33,"rgb(0,     0, 255)"),n.addColorStop(.49,"rgb(0,   255, 255)"),n.addColorStop(.67,"rgb(0,   255,   0)"),n.addColorStop(.84,"rgb(255, 255,   0)"),n.addColorStop(1,"rgb(255,   0,   0)"),o.fillStyle=n,o.fillRect(0,0,o.canvas.width,o.canvas.height),(n=o.createLinearGradient(0,0,0,o.canvas.height)).addColorStop(0,"rgba(255, 255, 255, 1)"),n.addColorStop(.5,"rgba(255, 255, 255, 0)"),n.addColorStop(.5,"rgba(0,     0,   0, 0)"),n.addColorStop(1,"rgba(0,     0,   0, 1)"),o.fillStyle=n,o.fillRect(0,0,o.canvas.width,o.canvas.height),r}(98,98),r=function(t,e,n){return c(C,{orientation:"vertical",align:"center",padding:!1},[c(C,{shrink:1},c("div",{},t.toUpperCase())),c(tt,{box:{grow:1},min:0,max:255,value:e,oncreate:function(t){return t.value=e},oninput:function(e,r){n.setComponent({color:t,value:r})},onchange:function(t,e){n.updateHex()}}),c(J,{box:{shrink:1,basis:"5em"},value:String(e),oninput:function(e,r){n.setComponent({color:t,value:r}),n.updateHex()}})])},o=l(Object.assign({},n.value),{setColor:function(t){return function(e){return t}},setComponent:function(t){var e=t.color,r=t.value;return function(t){return n.value[e]=r,It()({},e,r)}},updateHex:function(){return function(t){var e=Ft(t);return n.value.hex=e,{hex:e}}}},function(t,o){return n.createView([c(C,{orientation:"vertical",grow:1,shrink:1},[c(P,{shrink:1,orientation:"horizontal"},[c("div",{class:"osjs-gui-border",style:{display:"inline-block"},oncreate:function(t){return t.appendChild(e)}}),c(J,{value:t.hex,style:{width:"100px",color:t.hex}})]),c(C,{padding:!1},[r("r",t.r,o),r("g",t.g,o),r("b",t.b,o)])])])},t);e.addEventListener("click",function(t){var n=function(t,e){var n=t.clientX,r=t.clientY,o=e.getBoundingClientRect(),i=n-o.x,a=r-o.y,u=e.getContext("2d").getImageData(i,a,1,1).data,s=Dt()(u,3),c=s[0],l=s[1],f=s[2];return{r:c,g:l,b:f,hex:Ft({r:c,g:l,b:f})}}(t,e);n&&(o.setColor(n),o.updateHex())})})}}]),e}(yt),$t=function(t){function e(t,n,r){var o;return a()(this,e),n=Object.assign({},{title:"Chose Font",minSize:6,maxSize:48,unit:"px",name:"Roboto",size:10,style:"regular",text:"The quick brown fox jumps over the lazy dog",controls:["size","name","style"],fonts:["Roboto","arial","sans-serif","monospace"]},n),(o=kt()(this,St()(e).call(this,t,n,{className:"info",window:{title:n.title,attributes:{minDimension:{width:400,height:200}}},buttons:["ok","cancel"]},r))).value={name:o.args.name,size:o.args.size,style:o.args.style},o}return _t()(e,t),s()(e,[{key:"render",value:function(t){var n=this,r=Array(this.args.maxSize-this.args.minSize).fill(0).map(function(t,e){return n.args.minSize+e}).reduce(function(t,e){return Object.assign(t,It()({},e,e))},{}),o=this.args.fonts.reduce(function(t,e){var n=e.toLowerCase();return Object.assign(t,It()({},n,e))},{}),i={regular:"Regular",bold:"Bold",italic:"Italic"},a=Object.assign({},this.value),u={setSize:function(t){return function(e){return n.value.size=t,{size:t}}},setFont:function(t){return function(e){return n.value.name=t,{name:t}}},setStyle:function(t){return function(e){return n.value.style=t,{style:t}}}};Et()(St()(e.prototype),"render",this).call(this,t,function(t){l(a,u,function(t,e){return n.createView([c(G,{},[c(Z,{box:{grow:1,style:{display:-1!==n.args.controls.indexOf("size")?"flex":"none"}},value:t.size,choices:r,onchange:function(t,n){return e.setSize(n)}}),c(Z,{box:{grow:1,style:{display:-1!==n.args.controls.indexOf("name")?"flex":"none"}},value:t.name.toLowerCase(),choices:o,onchange:function(t,n){return e.setFont(n)}}),c(Z,{box:{grow:1,style:{display:-1!==n.args.controls.indexOf("style")?"flex":"none"}},value:t.size,choices:i,onchange:function(t,n){return e.setStyle(n)}})]),c(Q,{box:{grow:1},value:n.args.text,style:{fontFamily:t.name,fontSize:"".concat(t.size).concat(n.args.unit),fontWeight:"bold"===t.style?"bold":"normal",fontStyle:"bold"!==t.style?t.style:"normal",height:"4rem",overflow:"hidden",whiteSpace:"nowrap"}})])},t)})}}]),e}(yt),Mt=function(t){function e(t,n,r){a()(this,e),(n=Object.assign({},{title:null,type:"open",path:null,filename:null,mime:[]},n)).path||(n.path=t.config("vfs.defaultPath")),"string"==typeof n.path&&(n.path={path:n.path});var o=t.make("osjs/locale").translate,i=n.title?n.title:"open"===n.type?o("LBL_OPEN"):o("LBL_SAVE");return kt()(this,St()(e).call(this,t,n,{className:"file",window:{title:i,attributes:{resizable:!0},dimension:{width:400,height:400}},buttons:["ok","cancel"]},r))}return _t()(e,t),s()(e,[{key:"render",value:function(t){var n=this,r=this.args.path;Et()(St()(e.prototype),"render",this).call(this,t,function(t){var e=l({mount:r?function(t){return t.split(":")[0]+":/"}(r.path):null,filename:n.args.filename,listview:U({columns:[{label:"Name"},{label:"Type"},{label:"Size"}]})},{_readdir:function(t){var e=t.path,r=t.files;return function(t,o){var i=t.listview;return i.selectedIndex=-1,i.rows=r.map(function(t){return{columns:[{label:t.filename,icon:function(t){return n.core.make("osjs/fs").icon(t)}(t)},t.mime,t.humanSize],data:t}}),{path:e,listview:i}}},setMountpoint:function(t){return function(e,n){return n.setPath({path:t}),{mount:t}}},setPath:function(t){return function(){var e=xt()(bt.a.mark(function e(r,o){var i;return bt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.core.make("osjs/vfs").readdir(t,{filter:function(t){return!n.args.mime.length||(!t.mime||n.args.mime.some(function(e){return new RegExp(e).test(t.mime)}))}});case 2:i=e.sent,n.args.path=t,o._readdir({path:t.path,files:i});case 5:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},setFilename:function(t){return function(e){return{filename:t}}},listview:K({select:function(t){var r=t.data;e.setFilename(r.isFile?r.filename:null),n.value=r.isFile?r:null},activate:function(t){var r=t.data,o=t.ev;r.isDirectory?(e.setFilename(null),e.setPath(r)):(n.value=r.isFile?r:null,n.emitCallback(n.getPositiveButton(),o,!0))}})},function(t,r){return n.createView([c(Z,{choices:function(t){return t.make("osjs/fs").mountpoints(!0).filter(function(t){return!(t.attributes.readOnly&&"restricted"===t.attributes.visibility)}).reduce(function(t,e){return Object.assign(t,It()({},e.root,e.label))},{})}(n.core),onchange:function(t,n){return e.setMountpoint(n)},value:t.mount}),c(X(Object.assign({box:{grow:1,shrink:1}},t.listview),r.listview)),c(J,{placeholder:"Filename",value:t.filename,onenter:function(t,e){return n.emitCallback(n.getPositiveButton(),t,!0)},box:{style:{display:"save"===n.args.type?null:"none"}}})])},t);e.setPath(r)})}},{key:"getValue",value:function(){if("save"===this.args.type){var t=this.args.path.path,n=this.win.$content.querySelector("input[type=text]").value;return n?Object.assign({},this.args.path,{filename:n,path:t.replace(/\/?$/,"/")+n}):void 0}return Et()(St()(e.prototype),"getValue",this).call(this)}}]),e}(yt),Gt=function(t){function e(t,n,r){var o;return a()(this,e),n=Object.assign({},{title:"Choice",message:"",choices:{}},n),(o=kt()(this,St()(e).call(this,t,n,{className:"alert",window:{title:n.title,attributes:{ontop:"error"===n.type},dimension:{width:400,height:200}},buttons:["ok","close"]},r))).value=Object.keys(o.args.choices)[0],o}return _t()(e,t),s()(e,[{key:"render",value:function(t){var n=this;Et()(St()(e.prototype),"render",this).call(this,t,function(t){l({current:n.value},{setCurrent:function(t){return function(e){return n.value=t,{current:t}}}},function(t,e){return n.createView([c(C,{grow:1},[c("div",{class:"osjs-dialog-message"},String(n.args.message)),c(Z,{choices:n.args.choices,value:t.current,onchange:function(t,n){return e.setCurrent(n)}})])])},t)})}}]),e}(yt),Ht=function(t){function e(t,n,r,o){var i;return a()(this,e),(i=kt()(this,St()(e).call(this,t,{},n,o))).valueCallback=r,i}return _t()(e,t),s()(e,[{key:"render",value:function(t){var n=this;return Et()(St()(e.prototype),"render",this).call(this,{},function(e,r){return t(e,r,n)})}},{key:"getValue",value:function(){return this.valueCallback(this)}}]),e}(yt),Yt=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a()(this,t),this.core=e,this.registry=Object.assign({alert:Ct,confirm:Pt,prompt:Tt,progress:At,color:Vt,font:$t,file:Mt,choice:Gt},n.registry||{})}return s()(t,[{key:"destroy",value:function(){}},{key:"init",value:function(){var t=xt()(bt.a.mark(function t(){var e=this;return bt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.core.instance("osjs/dialog",function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=(arguments.length<=2?0:arguments.length-2)>1?arguments.length<=2?void 0:arguments[2]:{},i=(n=2+((arguments.length<=2?0:arguments.length-2)>1?1:0))<2||arguments.length<=n?void 0:arguments[n];if(!e.registry[t])throw new Error("Dialog '".concat(t,"' does not exist"));if("function"!=typeof i)throw new Error("Dialog requires a callback");var a=new e.registry[t](e.core,r,i);return a.render(o),a}),this.core.singleton("osjs/dialogs",function(){return{create:function(t,n,r){return new Ht(e.core,t,n,r)},register:function(t,n){e.registry[t]&&console.warn("Overwriting previously registered dialog",t),e.registry[t]=n}}});case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"start",value:function(){}}]),t}();n.d(e,"Dialog",function(){return yt}),n.d(e,"AlertDialog",function(){return Ct}),n.d(e,"ConfirmDialog",function(){return Pt}),n.d(e,"PromptDialog",function(){return Tt}),n.d(e,"ProgressDialog",function(){return At}),n.d(e,"ColorDialog",function(){return Vt}),n.d(e,"FileDialog",function(){return Mt}),n.d(e,"ChoiceDialog",function(){return Gt}),n.d(e,"DialogServiceProvider",function(){return Yt})}])});


/***/ }),

/***/ "./node_modules/@osjs/gui/dist/esm.js":
/*!********************************************!*\
  !*** ./node_modules/@osjs/gui/dist/esm.js ***!
  \********************************************/
/*! exports provided: Element, Box, BoxContainer, BoxStyled, Button, Progressbar, Menu, Toolbar, Statusbar, MenubarItem, Menubar, Panes, ListView, listView, IconViewEntry, IconView, iconView, Image, Video, Tabs, Iframe, TextField, TextareaField, SelectField, ToggleField, RangeField, Icon, Expander, GUIServiceProvider */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Element", function() { return Element$1; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Box", function() { return Box; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BoxContainer", function() { return BoxContainer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BoxStyled", function() { return BoxStyled; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Button", function() { return Button; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Progressbar", function() { return Progressbar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Menu", function() { return Menu; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Toolbar", function() { return Toolbar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Statusbar", function() { return Statusbar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MenubarItem", function() { return MenubarItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Menubar", function() { return Menubar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Panes", function() { return Panes; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ListView", function() { return ListView; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "listView", function() { return listView; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconViewEntry", function() { return IconViewEntry; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconView", function() { return IconView; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "iconView", function() { return iconView; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Image", function() { return Image; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Video", function() { return Video; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Tabs", function() { return Tabs; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Iframe", function() { return Iframe; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TextField", function() { return TextField; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TextareaField", function() { return TextareaField; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SelectField", function() { return SelectField; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ToggleField", function() { return ToggleField; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RangeField", function() { return RangeField; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Icon", function() { return Icon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Expander", function() { return Expander; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GUIServiceProvider", function() { return GUIServiceProvider; });
function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}}var arrayWithoutHoles=_arrayWithoutHoles;function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}var iterableToArray=_iterableToArray;function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var nonIterableSpread=_nonIterableSpread;function _toConsumableArray(e){return arrayWithoutHoles(e)||iterableToArray(e)||nonIterableSpread()}var toConsumableArray=_toConsumableArray;function h(e,t){for(var n=[],o=[],a=arguments.length;2<a--;)n.push(arguments[a]);for(;n.length;){var s=n.pop();if(s&&s.pop)for(a=s.length;a--;)n.push(s[a]);else null!=s&&!0!==s&&!1!==s&&o.push(s)}return"function"==typeof e?e(t||{},o):{nodeName:e,attributes:t||{},children:o,key:t&&t.key}}function app(e,t,n,o){function a(e){return{nodeName:e.nodeName.toLowerCase(),attributes:{},children:k.call(e.childNodes,function(e){return 3===e.nodeType?e.nodeValue:a(e)})}}function s(e){return"function"==typeof e?s(e(I,S)):null==e?"":e}function i(){b=!b;var e=s(n);for(o&&!b&&(w=f(o,w,j,j=e)),L=!1;_.length;)_.pop()()}function r(){b||(b=!0,setTimeout(i))}function l(e,t){var n={};for(var o in e)n[o]=e[o];for(var o in t)n[o]=t[o];return n}function c(e,t,n){var o={};return e.length?(o[e[0]]=1<e.length?c(e.slice(1),t,n[e[0]]):t,l(n,o)):t}function d(e,t){for(var n=0;n<e.length;)t=t[e[n++]];return t}function p(e,t,n){for(var o in n)"function"==typeof n[o]?function(o,a){n[o]=function(o){var s=a(o);return"function"==typeof s&&(s=s(d(e,I),n)),s&&s!==(t=d(e,I))&&!s.then&&r(I=c(e,l(t,s),I)),s}}(o,n[o]):p(e.concat(o),t[o]=l(t[o]),n[o]=l(n[o]));return n}function u(e){return e?e.key:null}function g(e){return e.currentTarget.events[e.type](e)}function h(e,t,n,o,a){if("key"===t);else if("style"!==t)"o"===t[0]&&"n"===t[1]?(t=t.slice(2),e.events?!o&&(o=e.events[t]):e.events={},e.events[t]=n,n?!o&&e.addEventListener(t,g):e.removeEventListener(t,g)):t in e&&"list"!==t&&"type"!==t&&"draggable"!==t&&"spellcheck"!==t&&"translate"!==t&&!a?e[t]=null==n?"":n:null!=n&&!1!==n&&e.setAttribute(t,n),(null==n||!1===n)&&e.removeAttribute(t);else if("string"==typeof n)e.style.cssText=n;else for(var s in"string"==typeof o&&(o=e.style.cssText=""),l(o,n)){var i=null==n||null==n[s]?"":n[s];"-"===s[0]?e.style.setProperty(s,i):e.style[s]=i}}function m(e,t){var n="string"==typeof e||"number"==typeof e?document.createTextNode(e):(t=t||"svg"===e.nodeName)?document.createElementNS("http://www.w3.org/2000/svg",e.nodeName):document.createElement(e.nodeName),o=e.attributes;if(o){o.oncreate&&_.push(function(){o.oncreate(n)});for(var a=0;a<e.children.length;a++)n.appendChild(m(e.children[a]=s(e.children[a]),t));for(var r in o)h(n,r,o[r],null,t)}return n}function v(e,t,n,o){for(var a in l(t,n))n[a]!==("value"==a||"checked"==a?e[a]:t[a])&&h(e,a,n[a],t[a],o);var s=L?n.oncreate:n.onupdate;s&&_.push(function(){s(e,t)})}function y(e,t){var n=t.attributes;if(n){for(var o=0;o<t.children.length;o++)y(e.childNodes[o],t.children[o]);n.ondestroy&&n.ondestroy(e)}return e}function x(e,t,n){function o(){e.removeChild(y(t,n))}var a=n.attributes&&n.attributes.onremove;a?a(t,o):o()}function f(e,t,n,o,a){if(o===n);else if(null==n||n.nodeName!==o.nodeName){var r=m(o,a);e.insertBefore(r,t),null!=n&&x(e,t,n),t=r}else if(null==n.nodeName)t.nodeValue=o;else{v(t,n.attributes,o.attributes,a=a||"svg"===o.nodeName);for(var l={},c={},d=[],p=n.children,g=o.children,h=0;h<p.length;h++){d[h]=t.childNodes[h];var y=u(p[h]);null!=y&&(l[y]=[d[h],p[h]])}for(var h=0,b=0;b<g.length;){var y=u(p[h]),w=u(g[b]=s(g[b]));if(c[y]){h++;continue}if(null!=w&&w===u(p[h+1])){null==y&&x(t,d[h],p[h]),h++;continue}if(null==w||L)null==y&&(f(t,d[h],p[h],g[b],a),b++),h++;else{var j=l[w]||[];y===w?(f(t,j[0],j[1],g[b],a),h++):j[0]?f(t,t.insertBefore(j[0],d[h]),j[1],g[b],a):f(t,d[h],null,g[b],a),c[w]=g[b],b++}}for(;h<p.length;)null==u(p[h])&&x(t,d[h],p[h]),h++;for(var h in l)c[h]||x(t,l[h][0],l[h][1])}return t}var b,k=[].map,w=o&&o.children[0]||null,j=w&&a(w),_=[],L=!0,I=l(e),S=p([],I,l(t));return r(),S}var unitValue=function(e,t){return"number"==typeof e?"".concat(e,"px"):!1===e?t:e},boxPropNames={grow:function(e){return{flexGrow:e}},shrink:function(e){return{flexShrink:e}},basis:function(e){return{flexBasis:unitValue(e,"auto")}},align:function(e){return{alignItems:e}},justify:function(e){return{justifyContent:e}},padding:function(e){return{margin:unitValue(e,"0")}},margin:function(e){return{margin:unitValue(e,"0")}}},Element$1=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[],n=e.class instanceof Array?e.class:[e.class],o=["osjs-gui"].concat(toConsumableArray(n));e.orientation&&o.push("osjs-gui-"+e.orientation);var a="string"==typeof e.style?{}:Object.assign({},e.style||{}),s=Object.keys(e).reduce(function(t,n){var o=boxPropNames[n]?boxPropNames[n](e[n]):void 0;return Object.assign({},t,o)},a);return h("div",{oncreate:e.oncreate,ondestroy:e.ondestroy,class:o.filter(function(e){return!!e}).join(" "),style:s},t)},Box=function(e,t){return h(Element$1,Object.assign({orientation:"horizontal"},e,{class:["osjs-gui-box",e.class]}),t)},BoxContainer=function(e,t){return h(Element$1,Object.assign({},e,{class:["osjs-gui-box-container",e.class]}),t)},BoxStyled=function(e,t){return h(Element$1,Object.assign({},e,{class:["osjs-gui-box-styled",e.class]}),t)};function createCommonjsModule(e,t){return t={exports:{}},e(t,t.exports),t.exports}var _typeof_1=createCommonjsModule(function(e){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(o){return e.exports="function"==typeof Symbol&&"symbol"===t(Symbol.iterator)?n=function(e){return t(e)}:n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":t(e)},n(o)}e.exports=n}),Icon=function(e){var t=e&&"object"===_typeof_1(e)?e.src:e,o=e&&"object"===_typeof_1(e)?e.name:void 0;return h("i",{"data-icon":o,class:"osjs-icon",style:{backgroundImage:"string"==typeof e?"url(".concat(t,")"):void 0}})};function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var defineProperty=_defineProperty,filteredProps=function(e,t){var n=Object.keys(e);return n.filter(function(e){return-1===t.indexOf(e)}).reduce(function(t,n){return Object.assign(defineProperty({},n,e[n]),t)},{})},doubleTap=function(){var e,t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:250,n=!1;return function(o,a){return(e=clearTimeout(e),e=setTimeout(function(){return n=!1},t),n)?(o.preventDefault(),a(o)):(n=!0,!1)}},createField=function(e,t,n,o,a){var s=t.oninput||function(){},i=t.onchange||function(){},r=t.onkeydown||function(){},l=a||function(e){return[e.target.value]},c=Object.assign({oninput:function(e){return s.apply(void 0,[e].concat(toConsumableArray(l(e))))},onchange:function(e){return i.apply(void 0,[e].concat(toConsumableArray(l(e))))},onkeydown:function(e){13===e.keyCode&&t.onenter&&t.onenter.apply(t,[e].concat(toConsumableArray(l(e)))),r(e)}},n,filteredProps(t,["choices","label","box","oninput","onchange"]));return h(Element$1,Object.assign({},t.box||{},{class:"osjs-gui-field osjs-gui-"+e}),o(c))},Button=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[];return createField("button",e,{},function(n){var o=[];return e.icon&&o.push(h(Icon,e.icon)),"string"==typeof e.label&&o.push(h("span",{class:"osjs-label"},e.label)),h("button",n,[].concat(o,toConsumableArray(t)))})},Progressbar=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[],n="number"==typeof e.value?Math.max(0,Math.abs(e.value))%100:0,o=h("div",{class:"osjs-gui-progressbar-wrapper"},[h("div",{className:"osjs-gui-progressbar-value",style:{width:n+""+"%"}}),h("div",{className:"osjs-gui-progressbar-label"},[h("span",{},[n+""+"%"])])]);return h(Element$1,Object.assign({},e.box||{},{class:["osjs-gui-progressbar",e.class]}),[o].concat(toConsumableArray(t)))},ul=function e(t){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[],o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,a=function(e){var t=[];return"checkbox"===e.type||"boolean"==typeof e.checked?t.push(h("span",{class:"osjs-gui-menu-checkbox "+(e.checked?"active":"")})):e.icon&&t.push(h(Icon,e.icon)),t.push(h("span",{},e.label)),t},s=function(t,n){if("function"==typeof n.element)return n.element();var s="separator"===n.type?"osjs-gui-menu-separator":"osjs-gui-menu-label "+(n.disabled?"osjs__disabled":""),i=[h("span",{class:s},a(n))];return n.items&&i.push(e(t,n.items,o+1)),i};return h("ul",{class:""},n.map(function(e){return h("li",{class:"osjs-gui-menu-entry"},[h("div",{class:"osjs-gui-menu-container","data-has-image":!!e.icon||void 0,"data-has-children":!!e.items||void 0,onmouseover:e.items?t.onshow:void 0,ontouchend:e.items?t.onshow:void 0,onclick:function(n){e.items||(e.onclick&&e.onclick(e,n),t.onclick&&t.onclick(e,n,e))}},s(t,e))])}))},Menu=function(e){return h("div",{id:"osjs-context-menu",className:"osjs-gui osjs-gui-menu",oncreate:e.oncreate,onupdate:e.onupdate,style:{display:!1===e.visible?"none":"block",top:e.position?e.position.top+""+"px":0,left:e.position?e.position.left+""+"px":0}},ul(e,e.menu))},Toolbar=function(e,t){return h(Element$1,Object.assign({orientation:"vertical"},e,{class:["osjs-gui-toolbar",e.class]}),t)},Statusbar=function(e,t){return h(Element$1,Object.assign({},e.box||{},{class:["osjs-gui-statusbar",e.class]}),t)},MenubarItem=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[],n=e.onclick,o=e.data;return h("div",{onclick:function(e){if("function"==typeof n){var t=e.target.parentNode,a=Array.prototype.indexOf.call(t.children,e.target);n(e,o||{},a)}}},h("span",{},t))},Menubar=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[];return h(Element$1,Object.assign({},e,{class:["osjs-gui-menubar",e.class]}),[].concat(toConsumableArray((e.items||[]).map(function(t){return h(MenubarItem,{data:t.data,onclick:t.onclick||e.onclick},t.label)})),toConsumableArray(t)))};function nestable(e,t,n,o){return t._$r=function(){return{}},function(a,s){return h(o||"x-",{key:a.key,id:a.id,class:a.class,oncreate:function(o){var i=app(e,t,function(e,t){var a=n(e,t);return"function"==typeof a&&(a=a(o._$p,o._$c)),a},o);o._$p=a,o._$c=s,o._$r=i._$r,o._$u=i.uninit,i.init&&i.init(a),a.oncreate&&a.oncreate(o)},onupdate:function(e){e._$p=a,e._$c=s,e._$r(),a.onupdate&&a.onupdate(e)},ondestroy:function(e){e._$u&&e._$u()},onremove:function(e,t){return a.onremove?void a.onremove(e,t):t()}})}}var _onmousedown=function(e,t,n){var o=e.target,a=e.clientX,s=e.clientY,i=o.previousSibling,r=i.offsetWidth,l=i.offsetHeight,c=Array.from(o.parentNode.children).indexOf(i),d=.8*i.parentNode.offsetWidth,p=.8*i.parentNode.offsetHeight;if(!(0>c)){var u=function(e){var o=Math.min;e.preventDefault();var i="vertical"===n?r:l;if("vertical"===n){var u=e.clientX-a;i=o(d,i+u)}else{var g=e.clientY-s;i=o(p,i+g)}t.setSize({index:c,size:i})},g=function e(t){t.preventDefault(),document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",e)};e.preventDefault(),document.addEventListener("mousemove",u),document.addEventListener("mouseup",g)}},panes=function(e,t,n,o){var a=Array(Math.ceil(n.length/2)).fill(null).map(function(){return h("div",{class:"osjs-gui-panes-spacer",onmousedown:function(e){return _onmousedown(e,t,o)}})});return n.map(function(t,n){var o=e.sizes[n]?e.sizes[n]+""+"px":void 0;return h("div",{class:"osjs-gui-panes-pane",style:{flex:o?"0 0 ".concat(o):o}},t)}).map(function(e,t){return[e,a[t]]}).reduce(function(e,t){return e.concat(t)}).filter(function(e){return"undefined"!=typeof e})},view=function(e,t){return function(n,o){var a=n.orientation||"vertical";return h(Element$1,{orientation:a,class:"osjs-gui-panes-inner"},panes(e,t,o,a))}},inner=nestable({sizes:[]},{init:function(e){return{sizes:e.sizes||[150]}},setSize:function(e){var t=e.index,n=e.size;return function(e){var o=[].concat(e.sizes);return o[t]=n,{sizes:o}}}},view,"div"),Panes=function(e,t){return h(inner,{class:"osjs-gui-panes"},t)},tapper=doubleTap(),createView=function(e){var t=function(t){return function(n,o){var a=n.columns[t]||{},s=e.selectedIndex===o,i=a.icon?h(Icon,a.icon):null,r=[h("span",{},["object"===_typeof_1(a)?a.label:a])];return i&&r.unshift(i),h("div",{"data-has-icon":!!a.icon||void 0,class:"osjs-gui-list-view-cell"+(s?" osjs__active":""),ontouchstart:function(t){return tapper(t,function(){return e.onactivate({data:n.data,index:o,ev:t})})},ondblclick:function(t){return e.onactivate({data:n.data,index:o,ev:t})},onclick:function(t){return e.onselect({data:n.data,index:o,ev:t})},oncontextmenu:function(t){return e.oncontextmenu({data:n.data,index:o,ev:t})},oncreate:function(t){return e.oncreate({data:n.data,index:o,el:t})}},r)}},n=function(n,o){return h("div",{class:"osjs-gui-list-view-pane",style:o.style||{}},[h("div",{class:"osjs-gui-list-view-header",style:{display:e.hideColumns?"none":void 0}},h("span",{},"object"===_typeof_1(o)?o.label:o)),h("div",{class:"rows","data-zebra":e.zebra+""},e.rows.map(t(n)))])};return h("div",{class:"osjs-gui-list-view-wrapper",oncreate:function(t){return t.scrollTop=e.scrollTop},onupdate:function(t){0>e.selectedIndex&&(t.scrollTop=e.scrollTop)}},e.columns.map(function(e,t){return n(t,e)}))},ListView=function(e){return h(Element$1,Object.assign({class:"osjs-gui-list-view"},e.box||{}),createView(filteredProps(e,["box"])))},listView={component:function(e,t){var n=Object.assign({zebra:!0,columns:[],rows:[],onselect:function(e){var n=e.data,o=e.index,a=e.ev;t.select({data:n,index:o,ev:a}),t.setSelectedIndex(o)},onactivate:function(e){var n=e.data,o=e.index,a=e.ev;t.activate({data:n,index:o,ev:a}),t.setSelectedIndex(-1)},oncontextmenu:function(e){var n=e.data,o=e.index,a=e.ev;t.select({data:n,index:o,ev:a}),t.contextmenu({data:n,index:o,ev:a}),t.setSelectedIndex(o)},oncreate:function(e){t.created(e)}},e);return function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return ListView(Object.assign(n,e))}},state:function(e){return Object.assign({selectedIndex:-1,scrollTop:0},e)},actions:function(e){return Object.assign({select:function(){return function(){return{}}},activate:function(){return function(){return{}}},contextmenu:function(){return function(){return{}}},created:function(){return function(){return{}}},setRows:function(e){return{rows:e}},setColumns:function(e){return{columns:e}},setScrollTop:function(e){return function(){return{scrollTop:e}}},setSelectedIndex:function(e){return function(){return{selectedIndex:e}}}},e||{})}},tapper$1=doubleTap(),IconViewEntry=function(e,t,n){return function(){var o=e.icon||{name:"application-x-executable"},a=n.selectedIndex===t;return h("div",{class:"osjs-gui-icon-view-entry"+(a?" osjs__active":""),ontouchstart:function(o){return tapper$1(o,function(){return n.onactivate({data:e.data,index:t,ev:o})})},ondblclick:function(o){return n.onactivate({data:e.data,index:t,ev:o})},onclick:function(o){return n.onselect({data:e.data,index:t,ev:o})},oncontextmenu:function(o){return n.oncontextmenu({data:e.data,index:t,ev:o})},oncreate:function(o){return n.oncreate({data:e.data,index:t,el:o})}},[h("div",{class:"osjs__container"},[h("div",{class:"osjs__image"},[h(Icon,o)]),h("div",{class:"osjs__label"},[h("span",{},e.label)])])])}},IconView=function(e){var t=h("div",{class:"osjs-gui-icon-view-wrapper",oncreate:function(t){return t.scrollTop=e.scrollTop},onupdate:function(t){0>e.selectedIndex&&(t.scrollTop=e.scrollTop)}},e.entries.map(function(t,n){return h(IconViewEntry(t,n,e))}));return h(Element$1,Object.assign({class:"osjs-gui-icon-view"},e.box||{}),t)},iconView={component:function(e,t){var n=Object.assign({entries:[],onselect:function(e){var n=e.data,o=e.index,a=e.ev;t.select({data:n,index:o,ev:a}),t.setSelectedIndex(o)},onactivate:function(e){var n=e.data,o=e.index,a=e.ev;t.activate({data:n,index:o,ev:a}),t.setSelectedIndex(-1)},oncontextmenu:function(e){var n=e.data,o=e.index,a=e.ev;t.select({data:n,index:o,ev:a}),t.contextmenu({data:n,index:o,ev:a}),t.setSelectedIndex(o)},oncreate:function(e){t.created(e)}},e);return function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return IconView(Object.assign(n,e))}},state:function(e){return Object.assign({selectedIndex:-1,scrollTop:0},e)},actions:function(e){return Object.assign({select:function(){return function(){return{}}},activate:function(){return function(){return{}}},contextmenu:function(){return function(){return{}}},created:function(){return function(){return{}}},setEntries:function(e){return function(){return{entries:e}}},setScrollTop:function(e){return function(){return{scrollTop:e}}},setSelectedIndex:function(e){return function(){return{selectedIndex:e}}}},e||{})}},Image=function(e){return h("div",{class:"osjs-gui osjs-gui-image",style:{width:e.width?e.width+""+"px":void 0,height:e.height?e.height+""+"px":void 0}},h("img",e))},sources=function(e){return e.map(function(e){return h("source",e)})},isTrue=function(e){return"undefined"==typeof e||!0===e},Video=function(e){return h("div",{class:"osjs-gui osjs-gui-video",style:{width:e.width?e.width+""+"px":void 0,height:e.height?e.height+""+"px":void 0}},[h("video",{src:e.src,width:e.width,height:e.height,poster:e.poster,loop:e.loop?"loop":void 0,muted:e.muted?"muted":void 0,controls:isTrue(e.controls)?"controls":void 0,autoplay:isTrue(e.autoplay)?"autoplay":void 0,onloadeddata:e.onload,oncreate:e.oncreate,onupdate:e.onupdate,ondestroy:e.ondestroy},sources(e.sources||[]))])},headers=function(e,t,n){var o=e.labels,a=e.onchange,s=e.oncontextmenu;return(o||[]).map(function(e,o){return h("div",{class:t.selectedIndex===o?"osjs__active":"",oncontextmenu:function(t){(s||function(){})(t,o,e)},onclick:function(t){n.setSelectedIndex(o),(a||function(){})(t,o,e)}},h("span",{},e))})},panes$1=function(e,t){return t.map(function(t,n){return h("div",{class:e.selectedIndex===n?"osjs__active":""},t)})},view$1=nestable({selectedIndex:0},{init:function(e){return{selectedIndex:e.selectedIndex||0}},setSelectedIndex:function(e){return function(){return{selectedIndex:e}}}},function(e,t){return function(n,o){return h("div",{class:"osjs-gui-tabs-wrapper"},[h("div",{class:"osjs-gui-tabs-header"},headers(n,e,t)),h("div",{class:"osjs-gui-tabs-panes"},panes$1(e,o))])}},"div"),Tabs=function(e,t){return h(view$1,Object.assign({class:"osjs-gui osjs-gui-tabs "+(e.class||"")},e),t)},Iframe=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[];return h(Element$1,Object.assign({},e.box||{},{class:["osjs-gui-iframe",e.class]}),[h("iframe",Object.assign({frameborder:0},filteredProps(e,["box"])))].concat(toConsumableArray(t)))},TextField=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return createField("text-field",e,{autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",type:"text"},function(e){return h("input",e)})},TextareaField=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[];return createField("textarea-field",e,{rows:4},function(e){return h("textarea",e,t)})},SelectField=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[],n=function(t){return t instanceof Array?t.map(function(e){return"object"===_typeof_1(e)?e:{value:e,label:e}}):Object.keys(e.choices||{}).map(function(t){return{value:t,label:e.choices[t]}})}(e.choices).map(function(t){var n=t.value,o=t.label;return h("option",{value:n,selected:e.value===n},o)});return createField("select-field",e,{selectedIndex:void 0},function(e){return h("div",{},h("select",e,[].concat(toConsumableArray(n),toConsumableArray(t))))},function(e){return[e.target.value,e.target.textContent]})},ToggleField=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[];return createField("toggle-field",e,{type:"checkbox",checked:!1},function(n){return h("label",{},[h("input",n),h("span",{class:"osjs-toggle-input"}),h("span",{class:"osjs-toggle-label"},[e.label||""].concat(toConsumableArray(t)))])},function(t){return["radio"===e.type?JSON.parse(t.target.value):!!t.target.checked]})},RangeField=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return createField("range-field",e,{type:"range"},function(e){return h("input",e)})},view$2=function(e,t){return function(n,o){return h(Element$1,Object.assign({},n.box||{},{class:["osjs-gui-expander-wrapper"]}),[h("div",{class:"osjs-gui-expander-header",onclick:function(o){return t.ontoggle({ev:o,active:!e.active,ontoggle:n.ontoggle})}},[h("div",{class:"osjs-gui-expander-header-icon","data-active":e.active+""}),h("div",{class:"osjs-gui-expander-header-label"},n.label)]),h("div",{class:"osjs-gui-expander-content",style:{display:!1===e.active?"none":void 0}},o)])}},inner$1=nestable({active:!0},{init:function(e){return{ative:!1!==e.active}},ontoggle:function(e){var t=e.ev,n=e.active,o=e.ontoggle;return(o||function(){})(t,n),{active:n}}},view$2,"div"),Expander=function(e,t){return h(inner$1,Object.assign({},e,{class:"osjs-gui osjs-gui-expander"}),t)},runtime=createCommonjsModule(function(e){!function(t){function n(e,t,n,o){var s=t&&t.prototype instanceof a?t:a,i=Object.create(s.prototype),r=new g(o||[]);return i._invoke=c(e,n,r),i}function o(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function a(){}function s(){}function i(){}function r(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function l(e){function t(n,a,s,i){var r=o(e[n],e,a);if("throw"===r.type)i(r.arg);else{var l=r.arg,c=l.value;return c&&"object"==typeof c&&y.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,s,i)},function(e){t("throw",e,s,i)}):Promise.resolve(c).then(function(e){l.value=e,s(l)},function(e){return t("throw",e,s,i)})}}function n(e,n){function o(){return new Promise(function(o,a){t(e,n,o,a)})}return a=a?a.then(o,o):o()}var a;this._invoke=n}function c(e,t,n){var a="suspendedStart";return function(s,i){if(a==="executing")throw new Error("Generator is already running");if("completed"===a){if("throw"===s)throw i;return m()}for(n.method=s,n.arg=i;;){var r=n.delegate;if(r){var l=d(r,n);if(l){if(l===j)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var c=o(e,t,n);if("normal"===c.type){if(a=n.done?"completed":"suspendedYield",c.arg===j)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(a="completed",n.method="throw",n.arg=c.arg)}}}function d(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,d(e,t),"throw"===t.method))return j;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return j}var a=o(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,j;var s=a.arg;if(!s)return t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,j;if(s.done)t[e.resultName]=s.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0);else return s;return t.delegate=null,j}function p(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function u(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function g(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(p,this),this.reset(!0)}function h(e){if(e){var t=e[f];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(y.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:m}}function m(){return{value:void 0,done:!0}}var v=Object.prototype,y=v.hasOwnProperty,x="function"==typeof Symbol?Symbol:{},f=x.iterator||"@@iterator",b=x.asyncIterator||"@@asyncIterator",k=x.toStringTag||"@@toStringTag",w=t.regeneratorRuntime;if(w)return void(e.exports=w);w=t.regeneratorRuntime=e.exports,w.wrap=n;var j={},_={};_[f]=function(){return this};var L=Object.getPrototypeOf,I=L&&L(L(h([])));I&&I!==v&&y.call(I,f)&&(_=I);var S=i.prototype=a.prototype=Object.create(_);s.prototype=S.constructor=i,i.constructor=s,i[k]=s.displayName="GeneratorFunction",w.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===s||"GeneratorFunction"===(t.displayName||t.name))},w.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,i):(e.__proto__=i,!(k in e)&&(e[k]="GeneratorFunction")),e.prototype=Object.create(S),e},w.awrap=function(e){return{__await:e}},r(l.prototype),l.prototype[b]=function(){return this},w.AsyncIterator=l,w.async=function(e,t,o,a){var s=new l(n(e,t,o,a));return w.isGeneratorFunction(t)?s:s.next().then(function(e){return e.done?e.value:s.next()})},r(S),S[k]="Generator",S[f]=function(){return this},S.toString=function(){return"[object Generator]"},w.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},w.values=h,g.prototype={constructor:g,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(u),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,o){return s.type="throw",s.arg=e,n.next=t,o&&(n.method="next",n.arg=void 0),!!o}if(this.done)throw e;for(var n=this,o=this.tryEntries.length-1;0<=o;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return t("end");if(a.tryLoc<=this.prev){var r=y.call(a,"catchLoc"),l=y.call(a,"finallyLoc");if(r&&l){if(this.prev<a.catchLoc)return t(a.catchLoc,!0);if(this.prev<a.finallyLoc)return t(a.finallyLoc)}else if(r){if(this.prev<a.catchLoc)return t(a.catchLoc,!0);}else if(!l)throw new Error("try statement without catch or finally");else if(this.prev<a.finallyLoc)return t(a.finallyLoc)}}},abrupt:function(e,t){for(var n,o=this.tryEntries.length-1;0<=o;--o)if(n=this.tryEntries[o],n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=e,s.arg=t,a?(this.method="next",this.next=a.finallyLoc,j):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),j},finish:function(e){for(var t,n=this.tryEntries.length-1;0<=n;--n)if(t=this.tryEntries[n],t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),u(t),j},catch:function(e){for(var t,n=this.tryEntries.length-1;0<=n;--n)if(t=this.tryEntries[n],t.tryLoc===e){var o=t.completion;if("throw"===o.type){var a=o.arg;u(t)}return a}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:h(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),j}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())}),g=function(){return this||"object"==typeof self&&self}()||Function("return this")(),hadRuntime=g.regeneratorRuntime&&0<=Object.getOwnPropertyNames(g).indexOf("regeneratorRuntime"),oldRuntime=hadRuntime&&g.regeneratorRuntime;g.regeneratorRuntime=void 0;var runtimeModule=runtime;if(hadRuntime)g.regeneratorRuntime=oldRuntime;else try{delete g.regeneratorRuntime}catch(t){g.regeneratorRuntime=void 0}var regenerator=runtimeModule;function asyncGeneratorStep(e,t,n,o,a,s,i){try{var r=e[s](i),l=r.value}catch(e){return void n(e)}r.done?t(l):Promise.resolve(l).then(o,a)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise(function(o,a){function s(e){asyncGeneratorStep(r,o,a,s,i,"next",e)}function i(e){asyncGeneratorStep(r,o,a,s,i,"throw",e)}var r=e.apply(t,n);s(void 0)})}}var asyncToGenerator=_asyncToGenerator;function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var classCallCheck=_classCallCheck;function _defineProperties(e,t){for(var n,o=0;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var createClass=_createClass,clampSubMenu=function(e,t){var n=t.target.querySelector("ul");if(n&&(n.classList.contains("osjs-gui-menu-container")&&(n=n.parentNode.parentNode),n&&n.offsetParent)){n.classList.remove("clamp-right");var o=n.getBoundingClientRect();o.right>e.offsetWidth&&n.classList.add("clamp-right")}},clampMenu=function(e,t,n){var o={},a=n.top+t.offsetHeight,s=n.left+t.offsetWidth,i=e.offsetHeight-n.top,r=e.offsetWidth-n.left,l=s>e.offsetWidth,c=a>e.offsetHeight;return c&&(o.top=e.offsetHeight-t.offsetHeight-i),l&&(o.left=e.offsetWidth-t.offsetWidth-r),c||l?o:null},view$3=function(e){return function(t,n){return h(Menu,{position:t.position,visible:t.visible,menu:t.menu,onclick:e,onshow:n.onshow})}},timeout=function(e){return e(),setTimeout(e,100)},ContextMenu=function(){function e(t){classCallCheck(this,e),this.core=t,this.callback=function(){},this.actions=null}return createClass(e,[{key:"destroy",value:function(){this.callback=null,this.actions=null}},{key:"init",value:function(){var e,t=this;this.actions=app({visible:!1,menu:[],position:{top:0,left:0}},{clamp:function(n){return function(o){if(n=n||document.querySelector("#osjs-context-menu"),clearTimeout(e),n){var a=t.core.$root,s=clampMenu(a,n,o.position);if(s)return{position:s}}return{}}},onshow:function(n){return function(){e=timeout(function(){return clampSubMenu(t.core.$root,n)})}},show:function(e){return function(n,o){var a=e.menu,s=e.position;if(s instanceof Event)s={left:s.clientX,top:s.clientY};else if(s instanceof Element){var i=s.getBoundingClientRect();s={left:i.left,top:i.top+i.height}}return t.callback=function(n,o,a){e.callback&&e.callback(n,o),!1!==a.closeable&&t.actions.hide()},timeout(function(){return o.clamp()}),{visible:!0,menu:a||[],position:s||{top:0,left:0}}}},hide:function(){return function(){return t.callback=null,{visible:!1}}}},view$3(function(){!t.core.destroyed&&t.callback&&t.callback.apply(t,arguments)}),this.core.$root)}},{key:"show",value:function(){var e;return this.actions?(e=this.actions).show.apply(e,arguments):null}},{key:"hide",value:function(){var e;return this.actions?(e=this.actions).hide.apply(e,arguments):null}}]),e}(),validContextMenuTarget=function(e){var t=e.target,n="TEXTAREA"===t.tagName;return n||"INPUT"!==t.tagName||(n=-1!==["text","password","number","email"].indexOf(t.type)),n},GUIServiceProvider=function(){function e(t){classCallCheck(this,e),this.core=t,this.contextmenu=new ContextMenu(t)}return createClass(e,[{key:"destroy",value:function(){var e=document.getElementById("osjs-context-menu");e&&e.remove(),this.contextmenu.destroy()}},{key:"init",value:function(){var e=asyncToGenerator(regenerator.mark(function e(){var t,n=this;return regenerator.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t={show:function(){var e;return(e=n.contextmenu).show.apply(e,arguments)},hide:function(){var e;return(e=n.contextmenu).hide.apply(e,arguments)}},this.core.instance("osjs/contextmenu",function(){return arguments.length?t.show.apply(t,arguments):t}),this.core.$root.addEventListener("contextmenu",function(e){validContextMenuTarget(e)||(e.stopPropagation(),e.preventDefault())});case 3:case"end":return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"start",value:function(){var e=this;this.core.$root.addEventListener("click",function(t){var n=document.getElementById("osjs-context-menu"),o=n.contains(t.target);!o&&e.contextmenu&&e.contextmenu.hide()},!0),this.contextmenu.init()}}]),e}();


/***/ }),

/***/ "./node_modules/@osjs/panels/dist/main.js":
/*!************************************************!*\
  !*** ./node_modules/@osjs/panels/dist/main.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

!function(t,n){ true?module.exports=n():undefined}(window,function(){return function(t){var n={};function r(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=n,r.d=function(t,n,e){r.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,n){if(1&n&&(t=r(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)r.d(e,o,function(n){return t[n]}.bind(null,o));return e},r.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="",r(r.s=12)}([function(t,n){function r(n){return t.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},r(n)}t.exports=r},function(t,n){t.exports=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}},function(t,n){function r(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}t.exports=function(t,n,e){return n&&r(t.prototype,n),e&&r(t,e),t}},function(t,n,r){var e=r(16),o=r(9);t.exports=function(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?o(t):n}},function(t,n,r){var e=r(17);t.exports=function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&e(t,n)}},function(t,n,r){r(0);var e=r(22);function o(n,r,i){return"undefined"!=typeof Reflect&&Reflect.get?t.exports=o=Reflect.get:t.exports=o=function(t,n,r){var o=e(t,n);if(o){var i=Object.getOwnPropertyDescriptor(o,n);return i.get?i.get.call(r):i.value}},o(n,r,i||n)}t.exports=o},function(t,n,r){var e=r(19),o=r(20),i=r(21);t.exports=function(t){return e(t)||o(t)||i()}},function(t,n,r){t.exports=r(14)},function(t,n){function r(t,n,r,e,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void r(t)}a.done?n(c):Promise.resolve(c).then(e,o)}t.exports=function(t){return function(){var n=this,e=arguments;return new Promise(function(o,i){var u=t.apply(n,e);function a(t){r(u,o,i,a,c,"next",t)}function c(t){r(u,o,i,a,c,"throw",t)}a(void 0)})}}},function(t,n){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,n,r){(function(n){t.exports=function(t){var n={};function r(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=n,r.d=function(t,n,e){r.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,n){if(1&n&&(t=r(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)r.d(e,o,function(n){return t[n]}.bind(null,o));return e},r.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="",r(r.s=2)}([function(t,n){t.exports=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}},function(t,n){function r(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}t.exports=function(t,n,e){return n&&r(t.prototype,n),e&&r(t,e),t}},function(t,n,r){t.exports=r(3)},function(t,n,r){"use strict";r.r(n),r.d(n,"EventEmitter",function(){return c});var e=r(0),o=r.n(e),i=r(1),u=r.n(i),a=function(t){return t instanceof Array?t:String(t).replace(/\s+/g,"").split(",")},c=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined";o()(this,t),this.name=n,this.events={}}return u()(t,[{key:"destroy",value:function(){this.events={}}},{key:"on",value:function(t,n){var r=this,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e=e||{},"function"!=typeof n)throw new TypeError("Invalid callback");return a(t).forEach(function(t){r.events[t]||(r.events[t]=[]),r.events[t].push({callback:n,options:e})}),this}},{key:"once",value:function(t,n){return this.on(t,n,{once:!0})}},{key:"off",value:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a(t).filter(function(t){return!!n.events[t]}).forEach(function(t){if(r)for(var o=n.events[t].length;o--;){var i=n.events[t][o];(!i.options.persist||e)&&i.callback===r&&n.events[t].splice(o,1)}else n.events[t]=e?[]:n.events[t].filter(function(t){return!0!==t.options.persist})}),this}},{key:"emit",value:function(t){for(var n=this,r=arguments.length,e=new Array(r>1?r-1:0),o=1;o<r;o++)e[o-1]=arguments[o];return a(t).forEach(function(t){if(n.events[t])for(var r=n.events[t].length;r--;){var o=n.events[t][r],i=o.options,u=o.callback;try{u.apply(void 0,e)}catch(t){console.warn(t)}i&&i.once&&n.events[t].splice(r,1)}}),this}}]),t}()}])}).call(this,r(18))},function(t,n,r){t.exports=r.p+"881c86876af63b732063d7bdd51bb226.png"},function(t,n,r){t.exports=r(23)},function(t,n,r){},function(t,n,r){var e=function(){return this||"object"==typeof self&&self}()||Function("return this")(),o=e.regeneratorRuntime&&Object.getOwnPropertyNames(e).indexOf("regeneratorRuntime")>=0,i=o&&e.regeneratorRuntime;if(e.regeneratorRuntime=void 0,t.exports=r(15),o)e.regeneratorRuntime=i;else try{delete e.regeneratorRuntime}catch(t){e.regeneratorRuntime=void 0}},function(t,n){!function(n){"use strict";var r,e=Object.prototype,o=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},u=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag",s="object"==typeof t,f=n.regeneratorRuntime;if(f)s&&(t.exports=f);else{(f=n.regeneratorRuntime=s?t.exports:{}).wrap=b;var l="suspendedStart",p="suspendedYield",h="executing",v="completed",y={},d={};d[u]=function(){return this};var L=Object.getPrototypeOf,m=L&&L(L(B([])));m&&m!==e&&o.call(m,u)&&(d=m);var g=E.prototype=w.prototype=Object.create(d);O.prototype=g.constructor=E,E.constructor=O,E[c]=O.displayName="GeneratorFunction",f.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===O||"GeneratorFunction"===(n.displayName||n.name))},f.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(g),t},f.awrap=function(t){return{__await:t}},j(P.prototype),P.prototype[a]=function(){return this},f.AsyncIterator=P,f.async=function(t,n,r,e){var o=new P(b(t,n,r,e));return f.isGeneratorFunction(n)?o:o.next().then(function(t){return t.done?t.value:o.next()})},j(g),g[c]="Generator",g[u]=function(){return this},g.toString=function(){return"[object Generator]"},f.keys=function(t){var n=[];for(var r in t)n.push(r);return n.reverse(),function r(){for(;n.length;){var e=n.pop();if(e in t)return r.value=e,r.done=!1,r}return r.done=!0,r}},f.values=B,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function e(e,o){return a.type="throw",a.arg=t,n.next=e,o&&(n.method="next",n.arg=r),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var u=this.tryEntries[i],a=u.completion;if("root"===u.tryLoc)return e("end");if(u.tryLoc<=this.prev){var c=o.call(u,"catchLoc"),s=o.call(u,"finallyLoc");if(c&&s){if(this.prev<u.catchLoc)return e(u.catchLoc,!0);if(this.prev<u.finallyLoc)return e(u.finallyLoc)}else if(c){if(this.prev<u.catchLoc)return e(u.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return e(u.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc<=this.prev&&o.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var i=e;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=n&&n<=i.finallyLoc&&(i=null);var u=i?i.completion:{};return u.type=t,u.arg=n,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(u)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),T(r),y}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var e=r.completion;if("throw"===e.type){var o=e.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,e){return this.delegate={iterator:B(t),resultName:n,nextLoc:e},"next"===this.method&&(this.arg=r),y}}}function b(t,n,r,e){var o=n&&n.prototype instanceof w?n:w,i=Object.create(o.prototype),u=new N(e||[]);return i._invoke=function(t,n,r){var e=l;return function(o,i){if(e===h)throw new Error("Generator is already running");if(e===v){if("throw"===o)throw i;return I()}for(r.method=o,r.arg=i;;){var u=r.delegate;if(u){var a=x(u,r);if(a){if(a===y)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(e===l)throw e=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);e=h;var c=_(t,n,r);if("normal"===c.type){if(e=r.done?v:p,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(e=v,r.method="throw",r.arg=c.arg)}}}(t,r,u),i}function _(t,n,r){try{return{type:"normal",arg:t.call(n,r)}}catch(t){return{type:"throw",arg:t}}}function w(){}function O(){}function E(){}function j(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this._invoke(n,t)}})}function P(t){var n;this._invoke=function(r,e){function i(){return new Promise(function(n,i){!function n(r,e,i,u){var a=_(t[r],t,e);if("throw"!==a.type){var c=a.arg,s=c.value;return s&&"object"==typeof s&&o.call(s,"__await")?Promise.resolve(s.__await).then(function(t){n("next",t,i,u)},function(t){n("throw",t,i,u)}):Promise.resolve(s).then(function(t){c.value=t,i(c)},function(t){return n("throw",t,i,u)})}u(a.arg)}(r,e,n,i)})}return n=n?n.then(i,i):i()}}function x(t,n){var e=t.iterator[n.method];if(e===r){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=r,x(t,n),"throw"===n.method))return y;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var o=_(e,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=r),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function A(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function T(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function B(t){if(t){var n=t[u];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var e=-1,i=function n(){for(;++e<t.length;)if(o.call(t,e))return n.value=t[e],n.done=!1,n;return n.value=r,n.done=!0,n};return i.next=i}}return{next:I}}function I(){return{value:r,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(t,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function e(n){return"function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?t.exports=e=function(t){return r(t)}:t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)},e(n)}t.exports=e},function(t,n){function r(n,e){return t.exports=r=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},r(n,e)}t.exports=r},function(t,n){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,n){t.exports=function(t){if(Array.isArray(t)){for(var n=0,r=new Array(t.length);n<t.length;n++)r[n]=t[n];return r}}},function(t,n){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,n){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,n,r){var e=r(0);t.exports=function(t,n){for(;!Object.prototype.hasOwnProperty.call(t,n)&&null!==(t=e(t)););return t}},function(t,n,r){"use strict";r.r(n);var e={};r.r(e),r.d(e,"de_DE",function(){return E}),r.d(e,"en_EN",function(){return j}),r.d(e,"fr_FR",function(){return P}),r.d(e,"nb_NO",function(){return x}),r.d(e,"sl_SI",function(){return A}),r.d(e,"vi_VN",function(){return T});r(13);var o=r(7),i=r.n(o),u=r(8),a=r.n(u),c=r(1),s=r.n(c),f=r(2),l=r.n(f),p=r(3),h=r.n(p),v=r(0),y=r.n(v),d=r(4),L=r.n(d),m=r(9),g=r.n(m);function b(t,n){for(var r=[],e=[],o=arguments.length;o-- >2;)r.push(arguments[o]);for(;r.length;){var i=r.pop();if(i&&i.pop)for(o=i.length;o--;)r.push(i[o]);else null!=i&&!0!==i&&!1!==i&&e.push(i)}return"function"==typeof t?t(n||{},e):{nodeName:t,attributes:n||{},children:e,key:n&&n.key}}function _(t,n,r,e){var o,i=[].map,u=e&&e.children[0]||null,a=u&&function t(n){return{nodeName:n.nodeName.toLowerCase(),attributes:{},children:i.call(n.childNodes,function(n){return 3===n.nodeType?n.nodeValue:t(n)})}}(u),c=[],s=!0,f=y(t),l=function t(n,r,e){for(var o in e)"function"==typeof e[o]?function(t,o){e[t]=function(t){var i=o(t);return"function"==typeof i&&(i=i(L(n,f),e)),i&&i!==(r=L(n,f))&&!i.then&&v(f=d(n,y(r,i),f)),i}}(o,e[o]):t(n.concat(o),r[o]=y(r[o]),e[o]=y(e[o]));return e}([],f,y(n));return v(),l;function p(t){return"function"==typeof t?p(t(f,l)):null!=t?t:""}function h(){o=!o;var t=p(r);for(e&&!o&&(u=function t(n,r,e,o,i){if(o===e)   ;else if(null==e||e.nodeName!==o.nodeName){var u=function t(n,r){var e="string"==typeof n||"number"==typeof n?document.createTextNode(n):(r=r||"svg"===n.nodeName)?document.createElementNS("http://www.w3.org/2000/svg",n.nodeName):document.createElement(n.nodeName);var o=n.attributes;if(o){o.oncreate&&c.push(function(){o.oncreate(e)});for(var i=0;i<n.children.length;i++)e.appendChild(t(n.children[i]=p(n.children[i]),r));for(var u in o)b(e,u,o[u],null,r)}return e}(o,i);n.insertBefore(u,r),null!=e&&_(n,r,e),r=u}else if(null==e.nodeName)r.nodeValue=o;else{!function(t,n,r,e){for(var o in y(n,r))r[o]!==("value"===o||"checked"===o?t[o]:n[o])&&b(t,o,r[o],n[o],e);var i=s?r.oncreate:r.onupdate;i&&c.push(function(){i(t,n)})}(r,e.attributes,o.attributes,i=i||"svg"===o.nodeName);for(var a={},f={},l=[],h=e.children,v=o.children,d=0;d<h.length;d++){l[d]=r.childNodes[d];var L=m(h[d]);null!=L&&(a[L]=[l[d],h[d]])}for(var d=0,g=0;g<v.length;){var L=m(h[d]),w=m(v[g]=p(v[g]));if(f[L])d++;else if(null==w||w!==m(h[d+1]))if(null==w||s)null==L&&(t(r,l[d],h[d],v[g],i),g++),d++;else{var O=a[w]||[];L===w?(t(r,O[0],O[1],v[g],i),d++):O[0]?t(r,r.insertBefore(O[0],l[d]),O[1],v[g],i):t(r,l[d],null,v[g],i),f[w]=v[g],g++}else null==L&&_(r,l[d],h[d]),d++}for(;d<h.length;)null==m(h[d])&&_(r,l[d],h[d]),d++;for(var d in a)f[d]||_(r,a[d][0],a[d][1])}return r}(e,u,a,a=t)),s=!1;c.length;)c.pop()()}function v(){o||(o=!0,setTimeout(h))}function y(t,n){var r={};for(var e in t)r[e]=t[e];for(var e in n)r[e]=n[e];return r}function d(t,n,r){var e={};return t.length?(e[t[0]]=t.length>1?d(t.slice(1),n,r[t[0]]):n,y(r,e)):n}function L(t,n){for(var r=0;r<t.length;)n=n[t[r++]];return n}function m(t){return t?t.key:null}function g(t){return t.currentTarget.events[t.type](t)}function b(t,n,r,e,o){if("key"===n)   ;else if("style"===n)if("string"==typeof r)t.style.cssText=r;else for(var i in"string"==typeof e&&(e=t.style.cssText=""),y(e,r)){var u=null==r||null==r[i]?"":r[i];"-"===i[0]?t.style.setProperty(i,u):t.style[i]=u}else"o"===n[0]&&"n"===n[1]?(n=n.slice(2),t.events?e||(e=t.events[n]):t.events={},t.events[n]=r,r?e||t.addEventListener(n,g):t.removeEventListener(n,g)):n in t&&"list"!==n&&"type"!==n&&"draggable"!==n&&"spellcheck"!==n&&"translate"!==n&&!o?t[n]=null==r?"":r:null!=r&&!1!==r&&t.setAttribute(n,r),null!=r&&!1!==r||t.removeAttribute(n)}function _(t,n,r){function e(){t.removeChild(function t(n,r){var e=r.attributes;if(e){for(var o=0;o<r.children.length;o++)t(n.childNodes[o],r.children[o]);e.ondestroy&&e.ondestroy(n)}return n}(n,r))}var o=r.attributes&&r.attributes.onremove;o?o(n,e):e()}}var w=r(10),O=function(t){function n(t,r){var e,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s()(this,n),(e=h()(this,y()(n).call(this,"Panel"))).core=t,e.panel=r,e.options=o,e.state={},e.actions={},e.inited=!1,e}return L()(n,t),l()(n,[{key:"destroy",value:function(){this.emit("destroy",this)}},{key:"init",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!this.inited&&(this.inited=!0,this.emit("init",this),_(n,r,function(n,r){return t.render(n,r)},this.panel.$element))}},{key:"render",value:function(t){return b("div",{className:"osjs-panel-item","data-name":t},arguments.length>1&&void 0!==arguments[1]?arguments[1]:[])}}]),n}(w.EventEmitter),E={LBL_PANEL_ALL:"Panel hinzufügen",LBL_PANEL_REMOVE:"Panel entfernen",LBL_PANELITEM_ADD:"Panelelemente hinzufügen",LBL_PANELITEM_REMOVE:"Panelelemente entfernen",LBL_PANEL_POSITION:"Panel-Position",LBL_SAVE_AND_LOG_OUT:"Session speichern & Abmelden",LBL_LOG_OUT:"Abmelden"},j={LBL_PANEL_ALL:"Add panel",LBL_PANEL_REMOVE:"Remove panel",LBL_PANELITEM_ADD:"Add panelitem",LBL_PANELITEM_REMOVE:"Remove panelitem",LBL_PANEL_POSITION:"Panel Position",LBL_SAVE_AND_LOG_OUT:"Save Session & Log Out",LBL_LOG_OUT:"Log Out"},P={LBL_PANEL_ALL:"Ajouter le panneau",LBL_PANEL_REMOVE:"Supprimer le panneau",LBL_PANELITEM_ADD:"Ajouter des éléments au panneau",LBL_PANELITEM_REMOVE:"Supprimer des éléments au panneau",LBL_PANEL_POSITION:"La position du panneau",LBL_SAVE_AND_LOG_OUT:"Sauvegarder la session et se déconnecter",LBL_LOG_OUT:"Se déconnecter"},x={LBL_PANEL_ALL:"Legg til panel",LBL_PANEL_REMOVE:"Fjern panel",LBL_PANELITEM_ADD:"Legg til panelobjekt",LBL_PANELITEM_REMOVE:"Fjern panelobjekt",LBL_PANEL_POSITION:"Panelposisjon",LBL_SAVE_AND_LOG_OUT:"Lagre Sessjon & Logg Ut",LBL_LOG_OUT:"Logg Ut"},A={LBL_PANEL_ALL:"Dodaj ploščo",LBL_PANEL_REMOVE:"Odstrani ploščo",LBL_PANELITEM_ADD:"Dodaj element plošče",LBL_PANELITEM_REMOVE:"Odstrani element plošče",LBL_PANEL_POSITION:"Položaj plošče",LBL_SAVE_AND_LOG_OUT:"Shranitev seje & Odjava",LBL_LOG_OUT:"Odjava"},T={LBL_PANEL_ALL:"Thêm panel",LBL_PANEL_REMOVE:"Xóa panel",LBL_PANELITEM_ADD:"Thêm mục panel",LBL_PANELITEM_REMOVE:"Xóa mục panel",LBL_PANEL_POSITION:"Vị trí panel",LBL_SAVE_AND_LOG_OUT:"Lưu phiên & Đăng xuất",LBL_LOG_OUT:"Đăng xuất"},N=function(t){function n(t){var r,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s()(this,n),(r=h()(this,y()(n).call(this,"Panel"))).core=t,r.options=Object.assign({},{ontop:!0,position:"top",items:[]},e),r.items=[],r.inited=!1,r.destroyed=!1,r.$element=null,r.options.items.forEach(function(n){var e=n.name,o=t.make("osjs/panels").get(e);r.addItem(new o(r.core,g()(g()(r))))}),r}return L()(n,t),l()(n,[{key:"destroy",value:function(){this.destroyed||(this.items=this.items.filter(function(t){try{t.destroy()}catch(t){console.warn(t)}return!1}),this.destroyed=!0,this.inited=!1,this.emit("destroy"),this.core.emit("osjs/panel:destroy",this),this.$element.remove(),this.$element=null)}},{key:"init",value:function(){var t=this;if(!this.inited){this.destroyed=!1,this.inited=!0;var n=this.core.make("osjs/locale").translate,r=this.core.make("osjs/locale").translatable(e);this.$element=document.createElement("div"),this.$element.classList.add("osjs-panel"),this.$element.classList.add("osjs__contextmenu"),this.$element.addEventListener("contextmenu",function(e){e.preventDefault(),t.core.config("desktop.lock")||t.core.make("osjs/contextmenu").show({position:e,menu:[{label:r("LBL_PANEL_POSITION"),items:[{label:n("LBL_TOP"),onclick:function(){return t.setPosition("top")}},{label:n("LBL_BOTTOM"),onclick:function(){return t.setPosition("bottom")}}]}]})}),this.$element.setAttribute("data-position",this.options.position),this.$element.setAttribute("data-ontop",String(this.options.ontop)),this.core.$root.appendChild(this.$element),this.items.forEach(function(t){return t.init()}),setTimeout(function(){t.core.emit("osjs/panel:create",t)},1)}}},{key:"addItem",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(t instanceof O))throw new TypeError("Invalid panel item specified");this.items.push(t),this.inited&&t.init()}},{key:"setPosition",value:function(t){var n=this;return this.options.position=t,this.core.make("osjs/panels").save().then(function(){return n.core.make("osjs/desktop").applySettings()})}}]),n}(w.EventEmitter),B=r(6),I=r.n(B),k=r(5),M=r.n(k),S=function(t){return{wid:t.wid,icon:t.state.icon,title:t.state.title,focused:t.state.focused,attributes:Object.assign({},t.attributes),state:Object.assign({},t.state),raise:function(){t.raise(),t.focus()},restore:function(){return t.restore()},maximize:function(){return t.maximize()},minimize:function(){return t.minimize()},close:function(){return t.close()}}},R=function(t){function n(){return s()(this,n),h()(this,y()(n).apply(this,arguments))}return L()(n,t),l()(n,[{key:"init",value:function(){var t=this;if(!this.inited){var r=function(t){return!t.inited||!t.rendered||void 0===t.attributes.visibility||"global"===t.attributes.visibility},e=M()(y()(n.prototype),"init",this).call(this,{launchers:[],windows:this.core.make("osjs/windows").list().filter(r).map(S)},{add:function(t){return function(n){return n.windows.find(function(n){return n.wid===t.wid})?n:{windows:n.windows.filter(r).concat([t])}}},remove:function(t){return function(n){var r=n.windows,e=r.findIndex(function(n){return n.wid===t.wid});if(-1!==e)return r.splice(e,1),{windows:r}}},change:function(t){return function(n){var r=n.windows,e=n.windows.findIndex(function(n){return n.wid===t.wid});return-1!==e&&(r[e]=t),{windows:r}}},addLauncher:function(t){return function(n){return{launchers:[].concat(I()(n.launchers),[t])}}},removeLauncher:function(t){return function(n){var r=n.launchers.findIndex(function(n){return n===t}),e=I()(n.launchers);return-1!==r&&e.splice(r,1),{launchers:e}}}}),o=function(t){return e.addLauncher(t)},i=function(t){return e.removeLauncher(t)},u=function(t){return e.remove(S(t))},a=function(t){return e.add(S(t))},c=function(t){return e.change(S(t))};this.core.on("osjs/application:launch",o),this.core.on("osjs/application:launched",i),this.core.on("osjs/window:destroy",u),this.core.on("osjs/window:render",a),this.core.on("osjs/window:change",c),this.on("destroy",function(){t.core.off("osjs/application:launch",o),t.core.off("osjs/application:launched",i),t.core.off("osjs/window:destroy",u),t.core.off("osjs/window:render",a),t.core.off("osjs/window:change",c)})}}},{key:"render",value:function(t,r){var e=this,o=this.core.make("osjs/locale").translate,i=t.windows.map(function(t){return b("div",{"data-has-image":!!t.icon||void 0,"data-focused":t.focused?"true":"false",onclick:function(){return t.raise()},oncontextmenu:function(n){n.stopPropagation(),n.preventDefault(),e.core.make("osjs/contextmenu").show({position:n.target,menu:[{label:t.state.maximized?o("LBL_RESTORE"):o("LBL_MAXIMIZE"),onclick:function(){return t.attributes.maximizable?t.state.maximized?t.restore():t.maximize():null},disabled:!t.attributes.maximizable},{label:t.state.minimized?o("LBL_RAISE"):o("LBL_MINIMIZE"),onclick:function(){return t.attributes.minimizable?t.state.minimized?t.raise():t.minimize():null},disabled:!t.attributes.minimizable},{type:"separator"},{label:o("LBL_CLOSE"),onclick:function(){return t.attributes.closeable?t.close():null},disabled:!t.attributes.closeable}]})}},[b("div",{style:{backgroundImage:"url(".concat(t.icon,")")}},b("span",{},t.title||"(window)"))])}),u=t.launchers.map(function(t){return b("div",{},b("div",{},b("span",{},"Launching '".concat(t,"'"))))}),a=[].concat(I()(i),I()(u));return M()(y()(n.prototype),"render",this).call(this,"windows",a)}}]),n}(O),D=function(t){function n(){return s()(this,n),h()(this,y()(n).apply(this,arguments))}return L()(n,t),l()(n,[{key:"init",value:function(){if(!this.inited){var t=M()(y()(n.prototype),"init",this).call(this,{tray:this.core.make("osjs/tray").list()},{setTray:function(t){return function(n){return{tray:t}}}});this.core.on("osjs/tray:update",function(n){return t.setTray(n)})}}},{key:"render",value:function(t,r){return M()(y()(n.prototype),"render",this).call(this,"tray",t.tray.map(function(t){return b("div",{onclick:function(n){return t.onclick(n,t)},oncontextmenu:function(n){return t.oncontextmenu(n,t)}},b("img",{src:t.icon,title:t.title}))}))}}]),n}(O),G=function(t){function n(){return s()(this,n),h()(this,y()(n).apply(this,arguments))}return L()(n,t),l()(n,[{key:"init",value:function(){var t=this.core.make("osjs/locale").format,r=function(){return t(new Date,"longTime")};if(!this.inited){var e=M()(y()(n.prototype),"init",this).call(this,{time:r()},{increment:function(){return function(t){return{time:r()}}}});this.interval=setInterval(function(){e.increment()},1e3)}}},{key:"destroy",value:function(){this.interval=clearInterval(this.interval),M()(y()(n.prototype),"destroy",this).call(this)}},{key:"render",value:function(t,r){return M()(y()(n.prototype),"render",this).call(this,"clock",[b("span",{},t.time)])}}]),n}(O),U=r(11),V=r(11),z=function(t){return function(n,r){return-(t(n)<t(r))||+(t(n)>t(r))}},F=function(t){return String(t.label).toLowerCase()},$=function(t,n){return n.icon?n.icon.match(/^(https?:)\//)?n.icon:t.url(n.icon,{},n):V},X=function(t,n){return t.translatableFlat(n.title,n.name)},Y=function(t,n){return t.translate(n)},Z=function(t,n,r){var e=t.config("application.categories"),o={},i=t.make("osjs/locale");r.filter(function(t){return!0!==t.hidden}).forEach(function(n){var r=Object.keys(e).find(function(t){return t===n.category})||"other",u=e[r];o[r]||(o[r]={icon:u.icon?{name:u.icon}:V,label:Y(i,u.label),items:[]}),o[r].items.push({icon:$(t,n),label:X(i,n),data:{name:n.name}})}),Object.keys(o).forEach(function(t){o[t].items.sort(z(F))});var u=[{type:"separator"},{icon:V,label:n("LBL_SAVE_AND_LOG_OUT"),data:{action:"saveAndLogOut"}},{icon:V,label:n("LBL_LOG_OUT"),data:{action:"logOut"}}],a=Object.values(o);return a.sort(z(F)),[].concat(I()(a),u)},W=function(t){function n(){return s()(this,n),h()(this,y()(n).apply(this,arguments))}return L()(n,t),l()(n,[{key:"render",value:function(t,r){var o=this,u=this.core.make("osjs/locale").translate,c=this.core.make("osjs/locale").translatable(e),s=function(){var t=a()(i.a.mark(function t(n){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=3;break}return t.next=3,o.core.make("osjs/session").save();case 3:o.core.make("osjs/auth").logout();case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}();return M()(y()(n.prototype),"render",this).call(this,"menu",[b("div",{onclick:function(t){var n=o.core.make("osjs/packages").getPackages(function(t){return!t.type||"application"===t.type});o.core.make("osjs/contextmenu").show({menu:Z(o.core,c,[].concat(n)),position:t.target,callback:function(t){var n=t.data||{},r=n.name,e=n.action;r?o.core.run(r):"saveAndLogOut"===e?s(!0):"logOut"===e&&s(!1)}})},style:{backgroundImage:"url(".concat(U,")")}},b("span",{},u("LBL_MENU")))])}}]),n}(O),q=function(){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s()(this,t),this.core=n,this.panels=[],this.inited=!1,this.registry=Object.assign({menu:W,windows:R,tray:D,clock:G},r.registry||{})}return l()(t,[{key:"destroy",value:function(){this.inited=!1,this.panels.forEach(function(t){return t.destroy()}),this.panels=[]}},{key:"init",value:function(){var t=a()(i.a.mark(function t(){var n=this;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.core.singleton("osjs/panels",function(){return{register:function(t,r){n.registry[t]&&console.warn("Overwriting previously registered panel item",t),n.registry[t]=r},removeAll:function(){n.panels.forEach(function(t){return t.destroy()}),n.panels=[]},remove:function(t){var r="number"==typeof t?t:n.panels.findIndex(function(n){return n===t});r>=0&&(n.panels[r].destroy(),n.panels.splice(r,1))},create:function(t){var r=new N(n.core,t);n.panels.push(r),n.inited&&r.init()},save:function(){var t=n.core.make("osjs/settings"),r=n.panels.map(function(t){return t.options});return Promise.resolve(t.set("osjs/desktop","panels",r)).then(function(){return t.save()})},get:function(t){return n.registry[t]}}});case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"start",value:function(){this.inited=!0,this.panels.forEach(function(t){return t.init()})}}]),t}();r.d(n,"PanelServiceProvider",function(){return q}),r.d(n,"PanelItem",function(){return O}),r.d(n,"Panel",function(){return N}),r.d(n,"WindowsPanelItem",function(){return R}),r.d(n,"TrayPanelItem",function(){return D}),r.d(n,"ClockPanelItem",function(){return G}),r.d(n,"MenuPanelItem",function(){return W})}])});


/***/ })

}]);
//# sourceMappingURL=vendors~osjs.js.map